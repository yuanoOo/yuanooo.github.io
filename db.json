{"meta":{"version":1,"warehouse":"4.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.png","path":"img/favicon.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/robots.txt","path":"robots.txt","modified":1,"renderable":0},{"_id":"source/img/animal1.jpg","path":"img/animal1.jpg","modified":1,"renderable":0},{"_id":"source/img/cat.png","path":"img/cat.png","modified":1,"renderable":0},{"_id":"source/script/1.jpg","path":"script/1.jpg","modified":1,"renderable":0},{"_id":"source/script/1.png","path":"script/1.png","modified":1,"renderable":0},{"_id":"source/script/img-to-webp.sh","path":"script/img-to-webp.sh","modified":1,"renderable":0},{"_id":"source/script/img-webp.sh","path":"script/img-webp.sh","modified":1,"renderable":0},{"_id":"source/sitemap_template/sitemap_template.txt","path":"sitemap_template/sitemap_template.txt","modified":1,"renderable":0},{"_id":"source/sitemap_template/sitemap_template.xml","path":"sitemap_template/sitemap_template.xml","modified":1,"renderable":0},{"_id":"source/img/bg/avatar.webp","path":"img/bg/avatar.webp","modified":1,"renderable":0},{"_id":"source/img/bg/banner.gif","path":"img/bg/banner.gif","modified":1,"renderable":0},{"_id":"source/img/bg/banner.webp","path":"img/bg/banner.webp","modified":1,"renderable":0},{"_id":"source/img/bg/banner1.webp","path":"img/bg/banner1.webp","modified":1,"renderable":0},{"_id":"source/img/bg/banner2.webp","path":"img/bg/banner2.webp","modified":1,"renderable":0},{"_id":"source/img/bg/clash.jpg","path":"img/bg/clash.jpg","modified":1,"renderable":0},{"_id":"source/img/bg/default.png","path":"img/bg/default.png","modified":1,"renderable":0},{"_id":"source/img/bg/default_top_img.png","path":"img/bg/default_top_img.png","modified":1,"renderable":0},{"_id":"source/img/bg/index_img.png","path":"img/bg/index_img.png","modified":1,"renderable":0},{"_id":"source/img/bg/poxiao.jpg","path":"img/bg/poxiao.jpg","modified":1,"renderable":0},{"_id":"source/img/bg/web-bg.webp","path":"img/bg/web-bg.webp","modified":1,"renderable":0},{"_id":"source/img/code/code.jpg","path":"img/code/code.jpg","modified":1,"renderable":0},{"_id":"source/img/code/linux.png","path":"img/code/linux.png","modified":1,"renderable":0},{"_id":"source/img/code/talk_code_to_me.webp","path":"img/code/talk_code_to_me.webp","modified":1,"renderable":0},{"_id":"source/img/cut/cdn-test-1.webp","path":"img/cut/cdn-test-1.webp","modified":1,"renderable":0},{"_id":"source/img/cut/cdn-test-2.webp","path":"img/cut/cdn-test-2.webp","modified":1,"renderable":0},{"_id":"source/img/img-link/img-link.txt","path":"img/img-link/img-link.txt","modified":1,"renderable":0}],"Cache":[{"_id":"source/script/1.jpg","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1656409201250},{"_id":"source/script/1.png","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1656409201250},{"_id":"source/CNAME","hash":"a44a2add0449f197dfcbdf8314c0005eb7e088d4","modified":1656412664400},{"_id":"source/robots.txt","hash":"c443b65f80db1005b56899172a5e9451af639175","modified":1657008288802},{"_id":"source/_data/link.yml","hash":"5a442b439c548a70e1ffd8ef575a9b60b15fd094","modified":1656900766007},{"_id":"source/_posts/Hexo-github-pages-CloudFlare免费CDN最佳实践.md","hash":"345120af93c77ead681f1a89bd5527835947328a","modified":1656742742927},{"_id":"source/_posts/DNS命令指南.md","hash":"1357f522ace03819d8e8120091d0b2dd26bb83d7","modified":1656503902493},{"_id":"source/_posts/SEO.md","hash":"557efdda15e443107c8f92b8510f0153c09c5d14","modified":1656409201250},{"_id":"source/_posts/WSL中的骚操作.md","hash":"ba81f08deec8379f6ad21d84d4974623a75e54e5","modified":1656742656607},{"_id":"source/_posts/hexo+freenom+cloudflare遇到的一些坑.md","hash":"a53cc77fca6eded195b6444faa26ac09cbc87836","modified":1656409201250},{"_id":"source/_posts/hexo的front-matter中的分类问题.md","hash":"acad1e32a24c87e7fa23badf255db0383b3609d1","modified":1656509329590},{"_id":"source/_posts/zhihu-emo-yulu.md","hash":"45b8d824aa5fb8bedcccb51a5763484ea1bcf37d","modified":1656742698357},{"_id":"source/about/index.md","hash":"a71523c7fdaf64ce310aa6b55d7984b682bb06c9","modified":1656572126228},{"_id":"source/categories/index.md","hash":"b8fa542806eefa2a0c53ae2f258071268a29a728","modified":1656409201250},{"_id":"source/css/background.css","hash":"2b0f6b7fdd3c8b341f9cff58fd66825b35f6defe","modified":1656585255569},{"_id":"source/css/custom.css","hash":"bf0872e7cd7c882a202342448e223b383ec2c2cf","modified":1656572187808},{"_id":"source/img/animal1.jpg","hash":"e48cb3aeeb030ff094e35e61c52bbd73a662e0a5","modified":1656409201250},{"_id":"source/link/index.md","hash":"389721a6b49d481514c8927da3a434c98d0cc659","modified":1656834223539},{"_id":"source/script/img-to-webp.sh","hash":"ade97b82a996d82be7b20693a4f95e9cba02592d","modified":1656409201250},{"_id":"source/script/img-webp.sh","hash":"b263a739e2c8f5acdb3c625d73e34d1e370079f2","modified":1656409201250},{"_id":"source/sitemap_template/sitemap_template.txt","hash":"cbb0b7198d37b808e6e9bf4bd389743c07f8cf17","modified":1656409201250},{"_id":"source/sitemap_template/sitemap_template.xml","hash":"94026f74ab00f4398ee57381b6c3eaff9d475d35","modified":1656409201250},{"_id":"source/tags/index.md","hash":"ff8e7c4329113a8a5eeaec0aefeca67b139b0766","modified":1656409201250},{"_id":"source/_posts/bigdata/HBase如何实现MVCC.md","hash":"5f77fc1142aa84f8c9a52935b95958ffd934388b","modified":1657005907572},{"_id":"source/_posts/bigdata/yarn公平和容量调度器的异同.md","hash":"9f157fae69415a4be92fa57c5d5553c1cb267620","modified":1657020300992},{"_id":"source/_posts/bigdata/一文搞懂Kudu的整体架构.md","hash":"e30c12784be699bcc03469109b43ca44af9cf99a","modified":1656743099377},{"_id":"source/_posts/bigdata/用户画像介绍.md","hash":"05665358aea2c5ad910c8bb6457eab001d6270eb","modified":1657973426551},{"_id":"source/_posts/hexo/hexo不显示语雀图床CDN图片的解决办法.md","hash":"d80573d81cae6539704fe7f93f79a8623479fe38","modified":1656734345130},{"_id":"source/_posts/hexo/从github恢复备份hexo博客hexo-git-backup.md","hash":"2d53fb0c0b54108fc610338aa2475708c36c424a","modified":1656485209963},{"_id":"source/img/bg/avatar.webp","hash":"253098016d490151a15192a99d73606607e2c15d","modified":1656409201250},{"_id":"source/img/bg/banner1.webp","hash":"24cfb05fcddfc300d9554b1e9d83e93282052300","modified":1656409201250},{"_id":"source/img/bg/clash.jpg","hash":"a0388a2acdb319902a1b9a45fc48a836d8f5d07d","modified":1656409201250},{"_id":"source/img/bg/index_img.png","hash":"8517f53cbd9416e8b8f16160936499b0b9c8b6dc","modified":1656409201250},{"_id":"source/img/bg/poxiao.jpg","hash":"dcdcaa64fa5817e52cef86ed69824e044105e3a7","modified":1656427443094},{"_id":"source/img/code/linux.png","hash":"cad82d89247115c29cb88e60f03d229bb1e4e8cd","modified":1656409201250},{"_id":"source/img/code/code.jpg","hash":"89b5ed059b850c72988b186751153e63bc3e9e6b","modified":1656409201250},{"_id":"source/img/cat.png","hash":"764303a8a1ae8f7fa1fb6e9c21b852a5988882bb","modified":1656409201250},{"_id":"source/img/bg/banner2.webp","hash":"88377d64f128a09855066054fb74a290b0b26613","modified":1656492342953},{"_id":"source/img/bg/default_top_img.png","hash":"980912504113f64d6aaf5b99e9793b77d1511197","modified":1656409201250},{"_id":"source/img/bg/web-bg.webp","hash":"7902ecf0465380a7576910c92881f7d493cfe0dd","modified":1656409201250},{"_id":"source/img/bg/banner.gif","hash":"bb3261150b534f76eda7ece32c05fab1e53e265f","modified":1656406904184},{"_id":"source/img/bg/banner.webp","hash":"365b38933dcfe641a370df16017aea6dddd3cee1","modified":1656409201250},{"_id":"node_modules/hexo-theme-butterfly/README.md","hash":"66b4889591d0f36696c4d363412c753b6fe25519","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/package.json","hash":"bf1e7d13b179a17f1c851033eddf5944ea5993d4","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/README_CN.md","hash":"08afd014fd27019909f341a2ad6162665958c6d6","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/.github/stale.yml","hash":"5e8ea535424e8112439135d21afc5262c0bc0b39","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/languages/default.yml","hash":"1e37a3695d50e3e61d7c36e58a6dac872a4a56cd","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/languages/en.yml","hash":"d1bb560698eb8b0079495b7b18b44facb610f9fd","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/_config.yml","hash":"d5929d2e7fa55a74a089dd329bdae52cb6c12acc","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/archive.pug","hash":"bd62286afb64a51c97e800c5945620d51605d5fa","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-CN.yml","hash":"28b6f0c39155651d747eb595e0a283bc97be2e09","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/languages/zh-TW.yml","hash":"947f794e862bb2813e36887f777bdb760f70a322","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"67e4f5a66d4b8cabadbaad0410628364ee75e0ae","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"7dfe7189ffeaebb6db13842237f8e124649bea3d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"996640605ed1e8e35182f0fd9a60a88783b24b03","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/additional-js.pug","hash":"594a977ebe8d97e60fa3d7cb40fc260ded4d8a58","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head.pug","hash":"b9d85155923314aa7e39b37395d875d7cddfabfe","modified":1656731225360},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/layout.pug","hash":"da27c20f0e672103b984e135eb2fe7770ca7fcce","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/footer.pug","hash":"02390a5b6ae1f57497b22ba2e6be9f13cfb7acac","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/config.js","hash":"a12b9f11d7d3f52de5b2090d2805d7303e0187a5","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/init.js","hash":"b4940a5c73d3a5cd8bb5883e3041ecdd905a74e0","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/stylus.js","hash":"9819f0996234fbd80d6c50a9e526c56ebf22588d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/events/welcome.js","hash":"3cfc46c749e2fd7ae9c2a17206238ed0e0e17e7d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/post_lazyload.js","hash":"932df912976261929f809b7dbd4eb473e7787345","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/filters/random_cover.js","hash":"21379ed2dccb69c43b893895c9d56238c11e5f43","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/pagination.pug","hash":"0b80f04950bd0fe5e6c4e7b7559adf4d0ce28436","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/aside_categories.js","hash":"e00efdb5d02bc5c6eb4159e498af69fa61a7dbb9","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/inject_head_js.js","hash":"b4cd617c619d1a0df93603721a6fa1317526174b","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/related_post.js","hash":"d368a8830e506c8b5eb6512b709ec8db354d5ea1","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/button.js","hash":"91d954f6e9fe6e571eb8ec9f8996294b2dc3688e","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/helpers/page.js","hash":"c6611d97087c51845cb1ab4821696a62fa33daeb","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/gallery.js","hash":"f79c99f6c5b626c272dc2bed2b0250d6b91bb28a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/hide.js","hash":"396c3ab1bcf1c7693ad7e506eadd13016c6769b6","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/label.js","hash":"03b2afef41d02bd1045c89578a02402c28356006","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/mermaid.js","hash":"531808a290b8bdd66bac2faab211ada8e9646a37","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/note.js","hash":"c16c6eb058af2b36bcd583b2591076c7ebdd51ad","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/tabs.js","hash":"6c6e415623d0fd39da016d9e353bb4f5cca444f5","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/rightside.pug","hash":"699d0d2cff233628752956c4434125c8203f7d63","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/css/var.styl","hash":"4890a40366d6443f8b8942a4e9a6dce9fe3494f5","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/sidebar.pug","hash":"8d39473ed112d113674a0f689f63fae06c72abd2","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/css/index.styl","hash":"861998e4ac67a59529a8245a9130d68f826c9c12","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/js/main.js","hash":"04efcbd28b37875cfec88eb87cab7256a9ebb327","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/js/tw_cn.js","hash":"00053ce73210274b3679f42607edef1206eebc68","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/js/utils.js","hash":"0b95daada72abb5d64a1e3236049a60120e47cca","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/Open_Graph.pug","hash":"6c41f49a3e682067533dd9384e6e4511fc3a1349","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/analytics.pug","hash":"15530d9ac59c576d79af75dd687efe71e8d261b0","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config.pug","hash":"8f41fa9732ea654a10f6e666d9c782c7e27e5ea6","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/preconnect.pug","hash":"65a23b5170204e55b813ce13a79d799b66b7382c","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1656409201240},{"_id":"source/img/img-link/img-link.txt","hash":"e5812babc02f71df9122496069016ed7b16e8168","modified":1656409201250},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/nav.pug","hash":"78a3abd90bb3c18cd773d3d5abac3541e7f415e5","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/index.pug","hash":"65fa23680af0daf64930a399c2f2ca37809a8149","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/loading.pug","hash":"5276937fbcceb9d62879dc47be880cd469a27349","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/post-info.pug","hash":"19a05dccfbffdf31cfa48c3208542b924637303d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/header/social.pug","hash":"0d953e51d04a9294a64153c89c20f491a9ec42d4","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/article-sort.pug","hash":"2fb74d0b0e4b98749427c5a1a1b0acb6c85fadc4","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/loading/loading-js.pug","hash":"4cfcf0100e37ce91864703cd44f1cb99cb5493ea","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/mixins/post-ui.pug","hash":"b9ebb02af8ccf43e3f73be43db19254fa913c57b","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/flink.pug","hash":"fed069baa9b383f57db32bb631115071d29bdc60","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/page/tags.pug","hash":"6311eda08e4515281c51bd49f43902a51832383c","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/reward.pug","hash":"864869c43fe5b5bb6f4ac6b13dd4bfb16ea47550","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/post/post-copyright.pug","hash":"ebecba46a5f4efe1c98a386df06c56e26fbd07b9","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/pjax.pug","hash":"460c37caeed6e6e72c1e62292e6c5e9699dd5937","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/subtitle.pug","hash":"bae2f32ac96cebef600c1e37eaa8467c9a7e5d92","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_author.pug","hash":"e37468e63db2a0ac09b65d21b7de3e62425bb455","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_newest_comment.pug","hash":"6d93564a8bd13cb9b52ee5e178db3bcbf18b1bc6","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_tags.pug","hash":"438aea3e713ed16b7559b9a80a9c5ec0221263df","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_post_toc.pug","hash":"3057a2f6f051355e35d3b205121af8735100eacf","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_webinfo.pug","hash":"0612aaee878f33ea8d3da0293c7dc3b6cd871466","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/index.pug","hash":"7fb096656c8a6c21a4b6a5100885b1081d6021ed","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/widget/card_recent_post.pug","hash":"9c1229af6ab48961021886882c473514101fba21","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/function.styl","hash":"644d520fe80cc82058467708ab82ccad313b0c27","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight.styl","hash":"2f95e99b8351fbecd9037a1bbdc3fee9d6ea8a77","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_global/index.styl","hash":"714f19e7d66df84938bd1b82b33d5667abe1f147","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/comments.styl","hash":"c61dccca690d486c3d9c29cf028d87b777385141","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/aside.styl","hash":"ca58af8903eb1d1d05edae54fc2e23aeac6da6c5","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/footer.styl","hash":"26be2afa9d4e7016cf3c42a6cd166f01e8e4ad5c","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/head.styl","hash":"d97c1722ce0fcc319f1f90ec2d51f9d746748e2b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/loading.styl","hash":"ef21990de28bd75dcd0f88b8d616e1a7a137502f","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/reward.styl","hash":"c5cfed620708807a48076b5ee59b0ba84e29aa80","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/post.styl","hash":"15056fba0bd5a45ea8dc97eb557f6929ff16797a","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/third-party.styl","hash":"8314e9749eb1ae40c4bae9735b7a6638b2d6876a","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/rightside.styl","hash":"bd88ee30ebf8ca2e7b4d3a034c317fd61733921f","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/darkmode.styl","hash":"f67177310f5594954b25a591d186d28d5d450b18","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_mode/readmode.styl","hash":"69f8e9414526dfda3af9a71c8e528fdd0ecbbfe5","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_layout/sidebar.styl","hash":"631ca35a38bc4ac052e9caf47508ff1f99842fc7","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/archives.styl","hash":"6f4b4ede52305bce9b22c8c897dcbde8af6e2ce4","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/homepage.styl","hash":"826dae759062d8f84eb2bf5ab8fdb80e0f79d58b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/common.styl","hash":"a58d35d698885f1034dedbe99f7dbc1a801412c6","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/index.styl","hash":"39d61cbe0c1e937f83ba3b147afaa29b4de2f87d","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/algolia.styl","hash":"51e45625929d57c9df3ba9090af99b9b7bb9a15b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_search/local-search.styl","hash":"25e58a7a8bda4b73d0a0e551643ca01b09ccd7e5","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/gallery.styl","hash":"a310e48f826a4cacc55d8e68f43806e5085554f6","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/tabs.styl","hash":"bf9568444dd54e39dc59b461323dcd38942f27d9","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/note.styl","hash":"08493b66b9f31f2bd3e9a3115017a0ce16142b20","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/local-search.js","hash":"3071a4208fdf89ad7e0031536dd6ffa7bc951e4d","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d85c3737b5c9548553a78b757a7698df126a52cf","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/js/search/algolia.js","hash":"ce8131b712dca80f289015aef75f86e727f62981","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"7848ec58c6ec03243abf80a3b22b4dc10f3edf53","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"e3bf847553515174f6085df982f0623e9783db7a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"5f648086a33a32d169a2f8d8c549c08aa02f67db","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"e4b7bf91a29bd03181593b63e1f3ee1103af2e48","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/chatra.pug","hash":"481cd5053bafb1a19f623554a27d3aa077ea59c3","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/crisp.pug","hash":"76634112c64023177260d1317ae39cef2a68e35f","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"58406a7a3bf45815769f652bf3ef81e57dcd07eb","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/gitter.pug","hash":"d1d2474420bf4edc2e43ccdff6f92b8b082143df","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/tidio.pug","hash":"24a926756c2300b9c561aaab6bd3a71fdd16e16d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"cfe63e7d26a6665df6aa32ca90868ad48e05ec04","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"2d8fc3fb8f9aec61400acf3c94070bd8539058f8","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"22e2ef30fe5eb1db7566e89943c74ece029b2a8e","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqus.pug","hash":"a111407fdcafcf1099e26ffa69786f8822c5d9fb","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"693d999777dd16e0566d29ac3203d4c167b2f9a7","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/giscus.pug","hash":"591ef23c583690bd74af0cafb09af64ba5bd8151","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/index.pug","hash":"e4850f2c9ba5f6b2248808f7257662679e0fab0a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/js.pug","hash":"9302837f1e35f153323bb4f166514c7e96e8ecdd","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/utterances.pug","hash":"a737046e730eb7264606ba0536218964044492f9","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/valine.pug","hash":"e55b9c0f8ced231f47eb88bd7f4ec99f29c5c29d","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"81c6070e06ecc2244040c7007566d7972f46ec4e","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/comments/waline.pug","hash":"15462d1ed04651ad3b430c682842ac400f6f9b47","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mathjax.pug","hash":"f4dc7d02c8192979404ae9e134c5048d3d0a76e2","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/katex.pug","hash":"31b007dc0f3de52176f278012ecf17a4bcecde2c","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"f6506ccfd1ce994b9e53aa95588d0b6dbad11411","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/math/mermaid.pug","hash":"8e33aca36a4d3ae9e041ba05ced8eff56ae38f77","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"e846ddfe4a63b15d1416f6055f5756af5e3da7c6","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"d19e1c2c0a50f0e4547d71a17b9be88e8152f17c","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"233907dd7f5b5f33412701d2ccffbc0bbae8707b","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"04b2a5882e789a988e41d45abe606f0617b08e38","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/algolia.pug","hash":"e8245d0b4933129bb1c485d8de11a9e52e676348","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"dd0bc119029b62dce5dc965d5de7377e438fa29a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/index.pug","hash":"da3b9437d061ee68dbc383057db5c73034c49605","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/index.pug","hash":"4c4a9c15215ae8ac5eadb0e086b278f76db9ee92","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/search/local-search.pug","hash":"178c9cdcc4ce5a006885b24ce4a3d624e4734899","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/share-js.pug","hash":"f61d63724ea5c5f352568b3a16bde023affefbe5","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1656409201240},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1656409201230},{"_id":"source/img/code/talk_code_to_me.webp","hash":"a263e3b98ba7a56896369f97690882ce2f583691","modified":1656409201250},{"_id":"node_modules/hexo-theme-butterfly/layout/includes/third-party/chat/index.pug","hash":"3f05f8311ae559d768ee3d0925e84ed767c314d3","modified":1656409201240},{"_id":"source/img/cut/cdn-test-1.webp","hash":"e8a063916ee46e49941081c8c4d0e241eaa0bd9f","modified":1656409201250},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1656409201230},{"_id":"node_modules/hexo-theme-butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1656409201230},{"_id":"source/img/cut/cdn-test-2.webp","hash":"a0121aa1ff44ecaba93ed3449b9a95ee0d9daf83","modified":1656409201250},{"_id":"source/img/bg/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1656409201250},{"_id":"public/css/background.css","hash":"2b0f6b7fdd3c8b341f9cff58fd66825b35f6defe","modified":1658100978321},{"_id":"public/css/custom.css","hash":"bf0872e7cd7c882a202342448e223b383ec2c2cf","modified":1658100978321},{"_id":"public/baidusitemap.xml","hash":"d86ffd54b94b5ed99915cd5b4365da5fa835fbbc","modified":1658100978321},{"_id":"public/sitemap.xml","hash":"2d28a1ee42e600510eba7e4146b5aa1ad9bc3529","modified":1658100978321},{"_id":"public/sitemap.txt","hash":"080dc46bbb755b244be052bc8b42d2a3cfeb6c2e","modified":1658100978321},{"_id":"public/404.html","hash":"5868da388cfee5cbac7b46931ced888d5b76ea8c","modified":1658100978321},{"_id":"public/about/index.html","hash":"34650267e2a9887e5d6c45462f81d4ab37e19e49","modified":1658100978321},{"_id":"public/categories/index.html","hash":"9b172c64992f0e76510ff01294dbf192a9d0476d","modified":1658100978321},{"_id":"public/link/index.html","hash":"2d5c6b53da8be88e74ec019def058b8d9883e53b","modified":1658100978321},{"_id":"public/tags/index.html","hash":"2743ef7fe7c3a65465e2ba44602e5ba1fa45f695","modified":1658100978321},{"_id":"public/2022/07/bigdata/用户画像介绍/index.html","hash":"195cc322984f2118ddda4d1d5c2dc3c228e4d520","modified":1658100978321},{"_id":"public/2022/07/bigdata/yarn公平和容量调度器的异同/index.html","hash":"c47e841511427c85334dd40ec3a0f0dc3343885d","modified":1658100978321},{"_id":"public/2022/07/bigdata/HBase如何实现MVCC/index.html","hash":"be32be9fb815a000d0f01a30aecdaf7ba9e54fae","modified":1658100978321},{"_id":"public/2022/07/hexo/hexo不显示语雀图床CDN图片的解决办法/index.html","hash":"466a54b0923ad0072df2acca7ff762fb9135b0ac","modified":1658100978321},{"_id":"public/2022/07/bigdata/一文搞懂Kudu的整体架构/index.html","hash":"c494683e56549addd0e8132d6abb4672cec7d014","modified":1658100978321},{"_id":"public/2022/06/hexo/从github恢复备份hexo博客hexo-git-backup/index.html","hash":"a935b3a835e786c0df1e26f1a2624cfbab8159b4","modified":1658100978321},{"_id":"public/2022/06/Hexo-github-pages-CloudFlare免费CDN最佳实践/index.html","hash":"bb22d29a024642184ec81a1c64a8b11b87bf5ebc","modified":1658100978321},{"_id":"public/2022/06/SEO/index.html","hash":"6394cfafd124833259241665dc1c21a7d7f0c56e","modified":1658100978321},{"_id":"public/2022/06/DNS命令指南/index.html","hash":"139e8f19dce1f39c45c1e0f59c8eece9861fa247","modified":1658100978321},{"_id":"public/2022/06/hexo的front-matter中的分类问题/index.html","hash":"7594a31f6851955b9030cb9c9dc9081f17f70381","modified":1658100978321},{"_id":"public/2022/06/WSL中的骚操作/index.html","hash":"e7dd32879d91dbe68cf8dcc571bd1380f1715f1d","modified":1658100978321},{"_id":"public/2022/06/hexo+freenom+cloudflare遇到的一些坑/index.html","hash":"5b43aeb7d608e8a4c8c15318aca095411199514a","modified":1658100978321},{"_id":"public/2022/06/zhihu-emo-yulu/index.html","hash":"db37446b9b53da2d556e9b257fffe10c537690f6","modified":1658100978321},{"_id":"public/archives/index.html","hash":"be6300dedd08841683f9761f7313c29de29a4937","modified":1658100978321},{"_id":"public/archives/page/2/index.html","hash":"52f5f9ef10904301d66dac11158e2b5ea91d0039","modified":1658100978321},{"_id":"public/archives/2022/index.html","hash":"eaedda0b2c8c1f48a9f96da031d130442423bf3f","modified":1658100978321},{"_id":"public/archives/2022/page/2/index.html","hash":"1bb2c0330b8e6eb8871d447471d780354946aa16","modified":1658100978321},{"_id":"public/archives/2022/06/index.html","hash":"f5a90cc26560b6701bbefeebc586b8cc6bca2681","modified":1658100978321},{"_id":"public/archives/2022/07/index.html","hash":"578779392e47e0bec5f13ff1a417fe72591c32ba","modified":1658100978321},{"_id":"public/categories/hexo/index.html","hash":"301927302291d401af5f19f28133fbe2036a76e5","modified":1658100978321},{"_id":"public/categories/dns/index.html","hash":"ecaf4221cf8f85b71f9a5a0444ccfec78282fcfa","modified":1658100978321},{"_id":"public/categories/SEO/index.html","hash":"07fd431e517ae000eca6119b48978e45cde90581","modified":1658100978321},{"_id":"public/categories/Linux/index.html","hash":"d5998e16f703169d661225565af38f91e1950aa4","modified":1658100978321},{"_id":"public/categories/linux/index.html","hash":"27036cf2a04ed77ca4f59ae123b5bf22509544ba","modified":1658100978321},{"_id":"public/categories/bigdata/index.html","hash":"86945335a51f91a07b7f114d2c0242c4acf87cb7","modified":1658100978321},{"_id":"public/categories/bigdata/HBase/index.html","hash":"bbe55b3e157161b2a0f75f18119a56aa52f3514f","modified":1658100978321},{"_id":"public/categories/bigdata/yarn/index.html","hash":"8bda0cfbecc3ad53d045a3af03b43cc2570ba52c","modified":1658100978321},{"_id":"public/categories/bigdata/kudu/index.html","hash":"c09944c0aee7dbc6bc4a9d88f5e02005c82c49c1","modified":1658100978321},{"_id":"public/categories/bigdata/User-Profile/index.html","hash":"152191d37479da5dce221cb7e6c612c6b5d2d4f9","modified":1658100978321},{"_id":"public/index.html","hash":"0ddae0b2185ec644a43412a098d3e3ab99e7e1e6","modified":1658100978321},{"_id":"public/page/2/index.html","hash":"c84bd5aa9e997fe1f7bd695b1d0360fa836b4222","modified":1658100978321},{"_id":"public/tags/CDN/index.html","hash":"c2b74cb17e05474fcdd959146041c30d05674aef","modified":1658100978321},{"_id":"public/tags/hexo/index.html","hash":"872b1062fc21dd623d38050c8bf7b3519609ec5a","modified":1658100978321},{"_id":"public/tags/cloudflare/index.html","hash":"fbd575df7ccd26ae5eed73cd697c2c6c2ac4fb0c","modified":1658100978321},{"_id":"public/tags/dns/index.html","hash":"2145271b5f4fdb062d7be1824a01f6ec81bb728b","modified":1658100978321},{"_id":"public/tags/SEO/index.html","hash":"ebca6b21bea2e8a5e69b933dcaff3f37122b610e","modified":1658100978321},{"_id":"public/tags/WSL/index.html","hash":"09068664fd3df7441c207f343baeaa6365d89424","modified":1658100978321},{"_id":"public/tags/Linxu/index.html","hash":"188b641c9d9a64ba1e8ccc749c8cd48c1e773825","modified":1658100978321},{"_id":"public/tags/github-pages/index.html","hash":"6ed985f1959b96b3899517bca76d39e20872bdd9","modified":1658100978321},{"_id":"public/tags/CFW/index.html","hash":"0a769cd7293ff559498f076262c9e5c998121e3d","modified":1658100978321},{"_id":"public/tags/EMO语录/index.html","hash":"62919d5bbd8b1a97a6d2af2b4a11e1ad6a1f7bc1","modified":1658100978321},{"_id":"public/tags/HBase/index.html","hash":"6c1b729e546d04090b54d5de47c9e5eb079d4b02","modified":1658100978321},{"_id":"public/tags/MVCC/index.html","hash":"2ae4672f01b461bfab85a87ad9adc4f47ffa659b","modified":1658100978321},{"_id":"public/tags/yarn/index.html","hash":"b166c196be274b45430f01e6c342e03e3c542abd","modified":1658100978321},{"_id":"public/tags/hadoop/index.html","hash":"17940db40a7a0977746ff9a64d4933ee55ac9ec9","modified":1658100978321},{"_id":"public/tags/kudu/index.html","hash":"ec5c2f5de71299b65af13e51608187357611c2de","modified":1658100978321},{"_id":"public/tags/用户画像/index.html","hash":"2a4923636d827e94ccac1b6a285d02652ccfe617","modified":1658100978321},{"_id":"public/script/1.png","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1658100978321},{"_id":"public/script/1.jpg","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1658100978321},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1658100978321},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1658100978321},{"_id":"public/CNAME","hash":"a44a2add0449f197dfcbdf8314c0005eb7e088d4","modified":1658100978321},{"_id":"public/robots.txt","hash":"c443b65f80db1005b56899172a5e9451af639175","modified":1658100978321},{"_id":"public/img/animal1.jpg","hash":"e48cb3aeeb030ff094e35e61c52bbd73a662e0a5","modified":1658100978321},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1658100978321},{"_id":"public/script/img-webp.sh","hash":"b263a739e2c8f5acdb3c625d73e34d1e370079f2","modified":1658100978321},{"_id":"public/sitemap_template/sitemap_template.xml","hash":"94026f74ab00f4398ee57381b6c3eaff9d475d35","modified":1658100978321},{"_id":"public/sitemap_template/sitemap_template.txt","hash":"cbb0b7198d37b808e6e9bf4bd389743c07f8cf17","modified":1658100978321},{"_id":"public/img/bg/avatar.webp","hash":"253098016d490151a15192a99d73606607e2c15d","modified":1658100978321},{"_id":"public/script/img-to-webp.sh","hash":"ade97b82a996d82be7b20693a4f95e9cba02592d","modified":1658100978321},{"_id":"public/img/bg/banner1.webp","hash":"24cfb05fcddfc300d9554b1e9d83e93282052300","modified":1658100978321},{"_id":"public/img/bg/clash.jpg","hash":"a0388a2acdb319902a1b9a45fc48a836d8f5d07d","modified":1658100978321},{"_id":"public/img/bg/index_img.png","hash":"8517f53cbd9416e8b8f16160936499b0b9c8b6dc","modified":1658100978321},{"_id":"public/img/bg/poxiao.jpg","hash":"dcdcaa64fa5817e52cef86ed69824e044105e3a7","modified":1658100978321},{"_id":"public/img/code/code.jpg","hash":"89b5ed059b850c72988b186751153e63bc3e9e6b","modified":1658100978321},{"_id":"public/img/code/linux.png","hash":"cad82d89247115c29cb88e60f03d229bb1e4e8cd","modified":1658100978321},{"_id":"public/img/img-link/img-link.txt","hash":"e5812babc02f71df9122496069016ed7b16e8168","modified":1658100978321},{"_id":"public/img/cat.png","hash":"764303a8a1ae8f7fa1fb6e9c21b852a5988882bb","modified":1658100978321},{"_id":"public/img/bg/banner2.webp","hash":"88377d64f128a09855066054fb74a290b0b26613","modified":1658100978321},{"_id":"public/img/bg/default_top_img.png","hash":"980912504113f64d6aaf5b99e9793b77d1511197","modified":1658100978321},{"_id":"public/img/bg/web-bg.webp","hash":"7902ecf0465380a7576910c92881f7d493cfe0dd","modified":1658100978321},{"_id":"public/img/cut/cdn-test-1.webp","hash":"e8a063916ee46e49941081c8c4d0e241eaa0bd9f","modified":1658100978321},{"_id":"public/img/cut/cdn-test-2.webp","hash":"a0121aa1ff44ecaba93ed3449b9a95ee0d9daf83","modified":1658100978321},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1658100978321},{"_id":"public/js/search/algolia.js","hash":"ce8131b712dca80f289015aef75f86e727f62981","modified":1658100978321},{"_id":"public/js/utils.js","hash":"0b95daada72abb5d64a1e3236049a60120e47cca","modified":1658100978321},{"_id":"public/js/search/local-search.js","hash":"3071a4208fdf89ad7e0031536dd6ffa7bc951e4d","modified":1658100978321},{"_id":"public/css/index.css","hash":"6fc9f09ffd41cd14b77c43000c3cdf2375a6b366","modified":1658100978321},{"_id":"public/js/main.js","hash":"04efcbd28b37875cfec88eb87cab7256a9ebb327","modified":1658100978321},{"_id":"public/js/tw_cn.js","hash":"00053ce73210274b3679f42607edef1206eebc68","modified":1658100978321},{"_id":"public/img/bg/banner.gif","hash":"bb3261150b534f76eda7ece32c05fab1e53e265f","modified":1658100978321},{"_id":"public/img/bg/banner.webp","hash":"365b38933dcfe641a370df16017aea6dddd3cee1","modified":1658100978321},{"_id":"public/img/code/talk_code_to_me.webp","hash":"a263e3b98ba7a56896369f97690882ce2f583691","modified":1658100978321},{"_id":"public/img/bg/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1658100978321}],"Category":[{"name":"hexo","_id":"cl5pyihpg0007d0ui1jsuct2l"},{"name":"dns","_id":"cl5pyihpk000dd0ui4w2s8324"},{"name":"SEO","_id":"cl5pyihpo000id0uidl9i5kq9"},{"name":"Linux","_id":"cl5pyihpr000pd0ui08j8ftjd"},{"name":"linux","_id":"cl5pyihpu000xd0uiblr92nu0"},{"name":"bigdata","_id":"cl5pyihpv0012d0uihv4peepw"},{"name":"HBase","parent":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq0001hd0uiars2aho8"},{"name":"yarn","parent":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq1001kd0uigh5o5adi"},{"name":"kudu","parent":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq2001md0uie3ghe0hz"},{"name":"User-Profile","parent":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq3001sd0uic6ilc4cz"}],"Data":[{"_id":"link","data":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}],"Page":[{"title":"关于","date":"2020-02-23T11:20:33.000Z","layout":"about","_content":"\n# 🎉🎉🎉关于博客\n\n本博客站点由**Hexo 、Github、Github Pages、ButterFly、Cloudflare、Freenom**等共同驱动，所用到的组件，不是开源就是免费，完全白嫖(￣▽￣)\"。\n\n因此国内的访问情况不容乐观 ! ! ! \n\n--------------------------------------------\n\n# 🎉🎉🎉关于我\n\n{% flink %}\n- class_name: \n  class_desc: \n  link_list:\n    - name: 破晓\n      link: https://poxiao.tk/\n      avatar: https://poxiao.tk/img/bg/avatar.webp\n      descr: 日拱一卒，功不唐捐\n      \n\n{% endflink %}\n\n-------------------------\n\n# 🎉🎉🎉博客备忘录\n- 添加Twikoo评论系统\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2020-02-23 19:20:33\nlayout: about\n---\n\n# 🎉🎉🎉关于博客\n\n本博客站点由**Hexo 、Github、Github Pages、ButterFly、Cloudflare、Freenom**等共同驱动，所用到的组件，不是开源就是免费，完全白嫖(￣▽￣)\"。\n\n因此国内的访问情况不容乐观 ! ! ! \n\n--------------------------------------------\n\n# 🎉🎉🎉关于我\n\n{% flink %}\n- class_name: \n  class_desc: \n  link_list:\n    - name: 破晓\n      link: https://poxiao.tk/\n      avatar: https://poxiao.tk/img/bg/avatar.webp\n      descr: 日拱一卒，功不唐捐\n      \n\n{% endflink %}\n\n-------------------------\n\n# 🎉🎉🎉博客备忘录\n- 添加Twikoo评论系统\n","updated":"2022-06-30T06:55:26.228Z","path":"about/index.html","comments":1,"_id":"cl5pyihp50000d0uig1ljgbnc","content":"<h1 id=\"🎉🎉🎉关于博客\"><a href=\"#🎉🎉🎉关于博客\" class=\"headerlink\" title=\"🎉🎉🎉关于博客\"></a>🎉🎉🎉关于博客</h1><p>本博客站点由<strong>Hexo 、Github、Github Pages、ButterFly、Cloudflare、Freenom</strong>等共同驱动，所用到的组件，不是开源就是免费，完全白嫖(￣▽￣)”。</p>\n<p>因此国内的访问情况不容乐观 ! ! ! </p>\n<hr>\n<h1 id=\"🎉🎉🎉关于我\"><a href=\"#🎉🎉🎉关于我\" class=\"headerlink\" title=\"🎉🎉🎉关于我\"></a>🎉🎉🎉关于我</h1><div class=\"flink\"> <div class=\"flink-list\">\n          <div class=\"flink-list-item\">\n            <a href=\"https://poxiao.tk/\" title=\"破晓\" target=\"_blank\">\n              <div class=\"flink-item-icon\">\n                <img class=\"no-lightbox\" src=\"https://poxiao.tk/img/bg/avatar.webp\" onerror='this.onerror=null;this.src=\"/img/friend_404.gif\"' alt=\"破晓\" />\n              </div>\n              <div class=\"flink-item-name\">破晓</div> \n              <div class=\"flink-item-desc\" title=\"日拱一卒，功不唐捐\">日拱一卒，功不唐捐</div>\n            </a>\n          </div></div></div>\n\n<hr>\n<h1 id=\"🎉🎉🎉博客备忘录\"><a href=\"#🎉🎉🎉博客备忘录\" class=\"headerlink\" title=\"🎉🎉🎉博客备忘录\"></a>🎉🎉🎉博客备忘录</h1><ul>\n<li>添加Twikoo评论系统</li>\n</ul>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tva3.sinaimg.cn/large/0084aYsLgy1h22161jezaj30xc0f0dh1.jpg","excerpt":"","more":"<h1 id=\"🎉🎉🎉关于博客\"><a href=\"#🎉🎉🎉关于博客\" class=\"headerlink\" title=\"🎉🎉🎉关于博客\"></a>🎉🎉🎉关于博客</h1><p>本博客站点由<strong>Hexo 、Github、Github Pages、ButterFly、Cloudflare、Freenom</strong>等共同驱动，所用到的组件，不是开源就是免费，完全白嫖(￣▽￣)”。</p>\n<p>因此国内的访问情况不容乐观 ! ! ! </p>\n<hr>\n<h1 id=\"🎉🎉🎉关于我\"><a href=\"#🎉🎉🎉关于我\" class=\"headerlink\" title=\"🎉🎉🎉关于我\"></a>🎉🎉🎉关于我</h1><div class=\"flink\"> <div class=\"flink-list\">\n          <div class=\"flink-list-item\">\n            <a href=\"https://poxiao.tk/\" title=\"破晓\" target=\"_blank\">\n              <div class=\"flink-item-icon\">\n                <img class=\"no-lightbox\" src=\"https://poxiao.tk/img/bg/avatar.webp\" onerror='this.onerror=null;this.src=\"/img/friend_404.gif\"' alt=\"破晓\" />\n              </div>\n              <div class=\"flink-item-name\">破晓</div> \n              <div class=\"flink-item-desc\" title=\"日拱一卒，功不唐捐\">日拱一卒，功不唐捐</div>\n            </a>\n          </div></div></div>\n\n<hr>\n<h1 id=\"🎉🎉🎉博客备忘录\"><a href=\"#🎉🎉🎉博客备忘录\" class=\"headerlink\" title=\"🎉🎉🎉博客备忘录\"></a>🎉🎉🎉博客备忘录</h1><ul>\n<li>添加Twikoo评论系统</li>\n</ul>\n"},{"title":"分类","date":"2022-06-25T12:12:38.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2022-06-25 20:12:38\ntype: \"categories\"\n---\n","updated":"2022-06-28T09:40:01.250Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cl5pyihpb0002d0ui95zphnkw","content":"","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","excerpt":"","more":""},{"_content":"body {\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: gradient 15s ease infinite;\n  height: 100vh;\n  background-attachment:fixed;\n}\t\n@keyframes gradient {\t\n  0% {\t\n    background-position: 0% 50%;\t\n  }\t\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n","source":"css/background.css","raw":"body {\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: gradient 15s ease infinite;\n  height: 100vh;\n  background-attachment:fixed;\n}\t\n@keyframes gradient {\t\n  0% {\t\n    background-position: 0% 50%;\t\n  }\t\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n","date":"2022-06-30T10:34:15.569Z","updated":"2022-06-30T10:34:15.569Z","path":"css/background.css","layout":"false","title":"","comments":1,"_id":"cl5pyihpe0005d0ui4bua56or","content":"body {\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: gradient 15s ease infinite;\n  height: 100vh;\n  background-attachment:fixed;\n}\t\n@keyframes gradient {\t\n  0% {\t\n    background-position: 0% 50%;\t\n  }\t\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","excerpt":"","more":"body {\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: gradient 15s ease infinite;\n  height: 100vh;\n  background-attachment:fixed;\n}\t\n@keyframes gradient {\t\n  0% {\t\n    background-position: 0% 50%;\t\n  }\t\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n"},{"_content":"#recent-posts>.recent-post-item,.layout_page>div:first-child:not(.recent-posts),.layout_post>#page,.layout_post>#post,.read-mode .layout_post>#post {\n    background: var(--light_bg_color)\n}\n\n#aside-content .card-widget {\n    background: var(--light_bg_color)\n}\n\n#web_bg {\n    background: linear-gradient(90deg,rgba(247,149,51,.1),rgba(243,112,85,.1) 15%,rgba(239,78,123,.1) 30%,rgba(161,102,171,.1) 44%,rgba(80,115,184,.1) 58%,rgba(16,152,173,.1) 72%,rgba(7,179,155,.1) 86%,rgba(109,186,130,.1))\n}\n\n#footer {\n    background: rgba(255,255,255,.15);\n    color: #000;\n    border-top-right-radius: 20px;\n    border-top-left-radius: 20px;\n    backdrop-filter: saturate(100%) blur(5px)\n}\n\n#footer::before {\n    background: rgba(255,255,255,.15)\n}\n\n#footer #footer-wrap {\n    color: var(--font-color)\n}\n\n#footer #footer-wrap a {\n    color: var(--font-color)\n}\n","source":"css/custom.css","raw":"#recent-posts>.recent-post-item,.layout_page>div:first-child:not(.recent-posts),.layout_post>#page,.layout_post>#post,.read-mode .layout_post>#post {\n    background: var(--light_bg_color)\n}\n\n#aside-content .card-widget {\n    background: var(--light_bg_color)\n}\n\n#web_bg {\n    background: linear-gradient(90deg,rgba(247,149,51,.1),rgba(243,112,85,.1) 15%,rgba(239,78,123,.1) 30%,rgba(161,102,171,.1) 44%,rgba(80,115,184,.1) 58%,rgba(16,152,173,.1) 72%,rgba(7,179,155,.1) 86%,rgba(109,186,130,.1))\n}\n\n#footer {\n    background: rgba(255,255,255,.15);\n    color: #000;\n    border-top-right-radius: 20px;\n    border-top-left-radius: 20px;\n    backdrop-filter: saturate(100%) blur(5px)\n}\n\n#footer::before {\n    background: rgba(255,255,255,.15)\n}\n\n#footer #footer-wrap {\n    color: var(--font-color)\n}\n\n#footer #footer-wrap a {\n    color: var(--font-color)\n}\n","date":"2022-06-30T06:56:27.808Z","updated":"2022-06-30T06:56:27.808Z","path":"css/custom.css","layout":"false","title":"","comments":1,"_id":"cl5pyihph0008d0ui1ex59n0q","content":"#recent-posts>.recent-post-item,.layout_page>div:first-child:not(.recent-posts),.layout_post>#page,.layout_post>#post,.read-mode .layout_post>#post {\n    background: var(--light_bg_color)\n}\n\n#aside-content .card-widget {\n    background: var(--light_bg_color)\n}\n\n#web_bg {\n    background: linear-gradient(90deg,rgba(247,149,51,.1),rgba(243,112,85,.1) 15%,rgba(239,78,123,.1) 30%,rgba(161,102,171,.1) 44%,rgba(80,115,184,.1) 58%,rgba(16,152,173,.1) 72%,rgba(7,179,155,.1) 86%,rgba(109,186,130,.1))\n}\n\n#footer {\n    background: rgba(255,255,255,.15);\n    color: #000;\n    border-top-right-radius: 20px;\n    border-top-left-radius: 20px;\n    backdrop-filter: saturate(100%) blur(5px)\n}\n\n#footer::before {\n    background: rgba(255,255,255,.15)\n}\n\n#footer #footer-wrap {\n    color: var(--font-color)\n}\n\n#footer #footer-wrap a {\n    color: var(--font-color)\n}\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","excerpt":"","more":"#recent-posts>.recent-post-item,.layout_page>div:first-child:not(.recent-posts),.layout_post>#page,.layout_post>#post,.read-mode .layout_post>#post {\n    background: var(--light_bg_color)\n}\n\n#aside-content .card-widget {\n    background: var(--light_bg_color)\n}\n\n#web_bg {\n    background: linear-gradient(90deg,rgba(247,149,51,.1),rgba(243,112,85,.1) 15%,rgba(239,78,123,.1) 30%,rgba(161,102,171,.1) 44%,rgba(80,115,184,.1) 58%,rgba(16,152,173,.1) 72%,rgba(7,179,155,.1) 86%,rgba(109,186,130,.1))\n}\n\n#footer {\n    background: rgba(255,255,255,.15);\n    color: #000;\n    border-top-right-radius: 20px;\n    border-top-left-radius: 20px;\n    backdrop-filter: saturate(100%) blur(5px)\n}\n\n#footer::before {\n    background: rgba(255,255,255,.15)\n}\n\n#footer #footer-wrap {\n    color: var(--font-color)\n}\n\n#footer #footer-wrap a {\n    color: var(--font-color)\n}\n"},{"title":"友情链接","date":"2022-06-25T12:13:44.000Z","type":"link","_content":"\n\n------\n# 欢迎交换友链\n- 我的友链信息\n\n``` yml\n name: 破晓\n link: https://poxiao.tk/\n avatar: https://poxiao.tk/img/bg/avatar.webp\n descr: 日拱一卒，功不唐捐\n\n```\n","source":"link/index.md","raw":"---\ntitle: 友情链接\ndate: 2022-06-25 20:13:44\ntype: \"link\"\n---\n\n\n------\n# 欢迎交换友链\n- 我的友链信息\n\n``` yml\n name: 破晓\n link: https://poxiao.tk/\n avatar: https://poxiao.tk/img/bg/avatar.webp\n descr: 日拱一卒，功不唐捐\n\n```\n","updated":"2022-07-03T07:43:43.539Z","path":"link/index.html","comments":1,"layout":"page","_id":"cl5pyihpi000ad0ui1116gfgl","content":"<hr>\n<h1 id=\"欢迎交换友链\"><a href=\"#欢迎交换友链\" class=\"headerlink\" title=\"欢迎交换友链\"></a>欢迎交换友链</h1><ul>\n<li>我的友链信息</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">破晓</span></span><br><span class=\"line\"><span class=\"attr\">link:</span> <span class=\"string\">https://poxiao.tk/</span></span><br><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">https://poxiao.tk/img/bg/avatar.webp</span></span><br><span class=\"line\"><span class=\"attr\">descr:</span> <span class=\"string\">日拱一卒，功不唐捐</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tva3.sinaimg.cn/large/0084aYsLgy1h22161jezaj30xc0f0dh1.jpg","excerpt":"","more":"<hr>\n<h1 id=\"欢迎交换友链\"><a href=\"#欢迎交换友链\" class=\"headerlink\" title=\"欢迎交换友链\"></a>欢迎交换友链</h1><ul>\n<li>我的友链信息</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">破晓</span></span><br><span class=\"line\"><span class=\"attr\">link:</span> <span class=\"string\">https://poxiao.tk/</span></span><br><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">https://poxiao.tk/img/bg/avatar.webp</span></span><br><span class=\"line\"><span class=\"attr\">descr:</span> <span class=\"string\">日拱一卒，功不唐捐</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"标签","date":"2022-06-25T12:10:55.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2022-06-25 20:10:55\ntype: \"tags\"\n---\n","updated":"2022-06-28T09:40:01.250Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cl5pyihpk000ed0uic0gp441k","content":"","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","excerpt":"","more":""}],"Post":[{"title":"github pages-Hexo-CloudFlare免费CDN最佳实践","cover":"https://tva4.sinaimg.cn/large/0084aYsLgy1gy51ogkzs9j31hc0m843g.jpg","top_img":null,"date":"2022-06-27T13:14:01.000Z","updated":"2022-06-27T13:19:32.000Z","description":null,"keywords":null,"typora-copy-images-to":"..\\img\\cut","_content":"\n## 一、查看网站是否使用了CDN\n\n执行：nslookup  XXX 命令\n\n```\n➜  hexo-blog nslookup clashdingyue.tk\nServer:         172.17.112.1\nAddress:        172.17.112.1#53\n\nNon-authoritative answer:\nName:   clashdingyue.tk\nAddress: 185.199.110.153\nName:   clashdingyue.tk\nAddress: 185.199.109.153\nName:   clashdingyue.tk\nAddress: 185.199.111.153\nName:   clashdingyue.tk\nAddress: 185.199.108.153\n```\n\n```\n➜  hexo-blog nslookup wohensha.tk\nServer:         172.17.112.1\nAddress:        172.17.112.1#53\n\nNon-authoritative answer:\nName:   wohensha.tk\nAddress: 172.67.165.231\nName:   wohensha.tk\nAddress: 104.21.49.190\n```\n\n**两个或两个以上Server IP，则表明使用了CDN，只有一个则表明没有。**\n\n- Github CDN：185.199.110.153、185.199.108.153...\n- CloudFlare CDN：172.67.165.231、104.21.49.190\n\n\n\n## 二、测试两个CDN哪一个在墙内，速度更好\n\n### CloudFlare CDN\n\n略\n\n### Github CDN\n\n![image-cdn](/img/cut/cdn-test-1.webp)\n\n![image-cdn](/img/cut/cdn-test-2.webp)\n\n(￣▽￣)，半斤八两，感觉Github CDN好点\n","source":"_posts/Hexo-github-pages-CloudFlare免费CDN最佳实践.md","raw":"---\ntitle: github pages-Hexo-CloudFlare免费CDN最佳实践\ntags:\n  - CDN\n  - hexo\n  - cloudflare\ncategories:\n  - [hexo]\ncover: \ntop_img: \ndate: 2022-06-27 21:14:01\nupdated: 2022-06-27 21:19:32\ndescription:\nkeywords:\ntypora-copy-images-to: ..\\img\\cut\n---\n\n## 一、查看网站是否使用了CDN\n\n执行：nslookup  XXX 命令\n\n```\n➜  hexo-blog nslookup clashdingyue.tk\nServer:         172.17.112.1\nAddress:        172.17.112.1#53\n\nNon-authoritative answer:\nName:   clashdingyue.tk\nAddress: 185.199.110.153\nName:   clashdingyue.tk\nAddress: 185.199.109.153\nName:   clashdingyue.tk\nAddress: 185.199.111.153\nName:   clashdingyue.tk\nAddress: 185.199.108.153\n```\n\n```\n➜  hexo-blog nslookup wohensha.tk\nServer:         172.17.112.1\nAddress:        172.17.112.1#53\n\nNon-authoritative answer:\nName:   wohensha.tk\nAddress: 172.67.165.231\nName:   wohensha.tk\nAddress: 104.21.49.190\n```\n\n**两个或两个以上Server IP，则表明使用了CDN，只有一个则表明没有。**\n\n- Github CDN：185.199.110.153、185.199.108.153...\n- CloudFlare CDN：172.67.165.231、104.21.49.190\n\n\n\n## 二、测试两个CDN哪一个在墙内，速度更好\n\n### CloudFlare CDN\n\n略\n\n### Github CDN\n\n![image-cdn](/img/cut/cdn-test-1.webp)\n\n![image-cdn](/img/cut/cdn-test-2.webp)\n\n(￣▽￣)，半斤八两，感觉Github CDN好点\n","slug":"Hexo-github-pages-CloudFlare免费CDN最佳实践","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihp80001d0uihtli67y1","content":"<h2 id=\"一、查看网站是否使用了CDN\"><a href=\"#一、查看网站是否使用了CDN\" class=\"headerlink\" title=\"一、查看网站是否使用了CDN\"></a>一、查看网站是否使用了CDN</h2><p>执行：nslookup  XXX 命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup clashdingyue.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.110.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.109.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.111.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.108.153</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup wohensha.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 172.67.165.231</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 104.21.49.190</span><br></pre></td></tr></table></figure>\n\n<p><strong>两个或两个以上Server IP，则表明使用了CDN，只有一个则表明没有。</strong></p>\n<ul>\n<li>Github CDN：185.199.110.153、185.199.108.153…</li>\n<li>CloudFlare CDN：172.67.165.231、104.21.49.190</li>\n</ul>\n<h2 id=\"二、测试两个CDN哪一个在墙内，速度更好\"><a href=\"#二、测试两个CDN哪一个在墙内，速度更好\" class=\"headerlink\" title=\"二、测试两个CDN哪一个在墙内，速度更好\"></a>二、测试两个CDN哪一个在墙内，速度更好</h2><h3 id=\"CloudFlare-CDN\"><a href=\"#CloudFlare-CDN\" class=\"headerlink\" title=\"CloudFlare CDN\"></a>CloudFlare CDN</h3><p>略</p>\n<h3 id=\"Github-CDN\"><a href=\"#Github-CDN\" class=\"headerlink\" title=\"Github CDN\"></a>Github CDN</h3><p><img src=\"/img/cut/cdn-test-1.webp\" alt=\"image-cdn\"></p>\n<p><img src=\"/img/cut/cdn-test-2.webp\" alt=\"image-cdn\"></p>\n<p>(￣▽￣)，半斤八两，感觉Github CDN好点</p>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h2 id=\"一、查看网站是否使用了CDN\"><a href=\"#一、查看网站是否使用了CDN\" class=\"headerlink\" title=\"一、查看网站是否使用了CDN\"></a>一、查看网站是否使用了CDN</h2><p>执行：nslookup  XXX 命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup clashdingyue.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.110.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.109.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.111.153</span><br><span class=\"line\">Name:   clashdingyue.tk</span><br><span class=\"line\">Address: 185.199.108.153</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup wohensha.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 172.67.165.231</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 104.21.49.190</span><br></pre></td></tr></table></figure>\n\n<p><strong>两个或两个以上Server IP，则表明使用了CDN，只有一个则表明没有。</strong></p>\n<ul>\n<li>Github CDN：185.199.110.153、185.199.108.153…</li>\n<li>CloudFlare CDN：172.67.165.231、104.21.49.190</li>\n</ul>\n<h2 id=\"二、测试两个CDN哪一个在墙内，速度更好\"><a href=\"#二、测试两个CDN哪一个在墙内，速度更好\" class=\"headerlink\" title=\"二、测试两个CDN哪一个在墙内，速度更好\"></a>二、测试两个CDN哪一个在墙内，速度更好</h2><h3 id=\"CloudFlare-CDN\"><a href=\"#CloudFlare-CDN\" class=\"headerlink\" title=\"CloudFlare CDN\"></a>CloudFlare CDN</h3><p>略</p>\n<h3 id=\"Github-CDN\"><a href=\"#Github-CDN\" class=\"headerlink\" title=\"Github CDN\"></a>Github CDN</h3><p><img src=\"/img/cut/cdn-test-1.webp\" alt=\"image-cdn\"></p>\n<p><img src=\"/img/cut/cdn-test-2.webp\" alt=\"image-cdn\"></p>\n<p>(￣▽￣)，半斤八两，感觉Github CDN好点</p>\n"},{"title":"DNS命令指南。怎么验证是否遭遇DNS污染？查看域名是否解析成功？","cover":"https://tva4.sinaimg.cn/large/0084aYsLgy1gy51ogkzs9j31hc0m843g.jpg","top_img":null,"date":"2022-06-27T10:24:43.000Z","updated":"2022-06-27T10:24:43.000Z","description":null,"keywords":"DNS","_content":"\n# DNS指南\n\n## 查询DNS服务器\n\n- linux：```cat /etc/resolv.conf``` \n\n- windows: ipconfig /all\n\n  ```\n  PS C:\\Users\\sssbb> ipconfig /all\n  \n  Windows IP 配置\n  \n     主机名  . . . . . . . . . . . . . : DESKTOP-KD33OT8\n     主 DNS 后缀 . . . . . . . . . . . :\n     节点类型  . . . . . . . . . . . . : 混合\n     IP 路由已启用 . . . . . . . . . . : 否\n     WINS 代理已启用 . . . . . . . . . : 否\n  \n  未知适配器 Clash:\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Clash Tunnel\n     物理地址. . . . . . . . . . . . . :\n     DHCP 已启用 . . . . . . . . . . . : 否\n     自动配置已启用. . . . . . . . . . : 是\n     IPv4 地址 . . . . . . . . . . . . : 198.18.0.1(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.0.0\n     默认网关. . . . . . . . . . . . . :\n     DNS 服务器  . . . . . . . . . . . : 198.18.0.2\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  \n  无线局域网适配器 本地连接* 1:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter\n     物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-BE-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  无线局域网适配器 本地连接* 10:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2\n     物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-B6-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  无线局域网适配器 WLAN:\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Dell Wireless 1830 802.11ac\n     物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n     本地链接 IPv6 地址. . . . . . . . : fe80::5d17:d6:2915:d43c%3(首选)\n     IPv4 地址 . . . . . . . . . . . . : 192.168.31.250(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.255.0\n     获得租约的时间  . . . . . . . . . : 2022年6月27日 13:00:31\n     租约过期的时间  . . . . . . . . . : 2022年6月28日 1:00:34\n     默认网关. . . . . . . . . . . . . : 192.168.31.1\n     DHCP 服务器 . . . . . . . . . . . : 192.168.31.1\n     DHCPv6 IAID . . . . . . . . . . . : 51924786\n     DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99\n     DNS 服务器  . . . . . . . . . . . : 192.168.31.1\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  \n  以太网适配器 蓝牙网络连接:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Bluetooth Device (Personal Area Network)\n     物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-9A\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  以太网适配器 vEthernet (WSL):\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Hyper-V Virtual Ethernet Adapter\n     物理地址. . . . . . . . . . . . . : 00-15-5D-5C-2A-EA\n     DHCP 已启用 . . . . . . . . . . . : 否\n     自动配置已启用. . . . . . . . . . : 是\n     本地链接 IPv6 地址. . . . . . . . : fe80::d82d:5ba6:7b4b:9023%40(首选)\n     IPv4 地址 . . . . . . . . . . . . : 172.17.112.1(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.240.0\n     默认网关. . . . . . . . . . . . . :\n     DHCPv6 IAID . . . . . . . . . . . : 671094109\n     DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99\n     DNS 服务器  . . . . . . . . . . . : fec0:0:0:ffff::1%1\n                                         fec0:0:0:ffff::2%1\n                                         fec0:0:0:ffff::3%1\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  ```\n\n   \n\n## 查看域名是否解析成功：\n\n- 可以直接ping域名，也可以使用nslookup命令（NameServer Lookup）\n\n- 在用 nslookup 查询一个域名时，可能会看到有“非权威应答” 的提示，非权威应答（Non-authoritative answer）意味着answer来自于其他服务器的缓存，而不是权威的服务器（就是该域名配置的DNS解析服务器，如果你的域名解析配置在CF的DNS上，则权威服务器，就是CF的DNS）。缓存会根据 ttl（Time to Live）的值定时的进行更新。\n\n  ```\n  ➜  hexo-blog nslookup wohensha.tk 8.8.8.8\n  Server:         8.8.8.8\n  Address:        8.8.8.8#53\n  \n  Non-authoritative answer:\n  Name:   wohensha.tk\n  Address: 104.21.49.190\n  Name:   wohensha.tk\n  Address: 172.67.165.231\n  Name:   wohensha.tk\n  Address: 2606:4700:3031::ac43:a5e7\n  Name:   wohensha.tk\n  Address: 2606:4700:3031::6815:31be\n  ```\n\n- sds查找权威名字服务器\n\n  ```\n  ➜  hexo-blog nslookup -ty=ns clashdingyue.tk\n  Server:         172.17.112.1\n  Address:        172.17.112.1#53\n  \n  Non-authoritative answer:\n  clashdingyue.tk nameserver = ns04.freenom.com.\n  clashdingyue.tk nameserver = ns02.freenom.com.\n  clashdingyue.tk nameserver = ns01.freenom.com.\n  clashdingyue.tk nameserver = ns03.freenom.com.\n  \n  Authoritative answers can be found from:\n  \n  ➜  hexo-blog nslookup -ty=ns clashdingyue.tk ns04.freenom.com\n  Server:         ns04.freenom.com\n  Address:        104.155.29.241#53\n  \n  clashdingyue.tk nameserver = ns04.freenom.com.\n  clashdingyue.tk nameserver = ns03.freenom.com.\n  clashdingyue.tk nameserver = ns02.freenom.com.\n  clashdingyue.tk nameserver = ns01.freenom.com.\n  ```\n\n\n\n# 一些小技巧\n\n### 怎么验证是否遭遇DNS污染？\n\n​\t\t**DNS污染**即网域服务器缓存污染，又称域名服务器缓存投毒，是指一些刻意制造或无意中制造出来的域名服务器数据包，把域名指往不正确的IP地址。一般来说，在互联网上都有可信赖的网域服务器，但为减低网络上的流量压力，一般的域名服务器都会把从上游的域名服务器获得的解析记录暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有关网域的局域域名服务器的缓存受到污染，就会把网域内的计算机导引往错误的服务器。\n\n   \t我们应该怎么去验证自己域名是否遭遇DNS污染呢？输入命令dig +trace clashdingyue.tk（您自己需要检测域名）。**如果域名未被污染我们会得到权威DNS的应答**，如下所示:\n\n```cobol\n➜  hexo-blog dig +trace clashdingyue.tk\n;; Warning: Client COOKIE mismatch\n\n; <<>> DiG 9.16.1-Ubuntu <<>> +trace clashdingyue.tk\n;; global options: +cmd\n.                       200     IN      NS      g.root-servers.net.\n.                       200     IN      NS      j.root-servers.net.\n.                       200     IN      NS      d.root-servers.net.\n.                       200     IN      NS      h.root-servers.net.\n.                       200     IN      NS      m.root-servers.net.\n.                       200     IN      NS      k.root-servers.net.\n.                       200     IN      NS      a.root-servers.net.\n.                       200     IN      NS      i.root-servers.net.\n.                       200     IN      NS      b.root-servers.net.\n.                       200     IN      NS      f.root-servers.net.\n.                       200     IN      NS      c.root-servers.net.\n.                       200     IN      NS      l.root-servers.net.\n.                       200     IN      NS      e.root-servers.net.\n;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms\n\ntk.                     172800  IN      NS      a.ns.tk.\ntk.                     172800  IN      NS      b.ns.tk.\ntk.                     172800  IN      NS      c.ns.tk.\ntk.                     172800  IN      NS      d.ns.tk.\ntk.                     86400   IN      NSEC    tkmaxx. NS RRSIG NSEC\ntk.                     86400   IN      RRSIG   NSEC 8 1 86400 20220710050000 20220627040000 47671 . HwO7QYzt3lI0k1w10qjM7oUf0B71yWgbUu9yCPcUdUng1icIu0lXSebp thdZpvOpLrjTE461RZJSlYaKIPavphtjpQHnUVxlH3Qznw9cBhql9Qnx cEtMo7vlCkCRST9sojkQxRqFW1oQMOoGG1j+SWpejRYwaudILcDCl0bP 4nPu1t5KmGR3Q8DKKO075O69w8MTauU+yfOsxEPvYgmHGzIyU7pBMWyt sUA+5ZpnrQ+0KLcXxnpUPQpBb55RlO1PhRqlJ9bT8qfYfvT+QUL5alwl xJxyZVcLTlGrpggW76yWjN3gq3zzynmd3D5cGeFQSon1+qMR5i6LoQix b4Jycg==\n;; Received 602 bytes from 193.0.14.129#53(k.root-servers.net) in 350 ms\n\nclashdingyue.tk.        300     IN      NS      ns01.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns02.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns03.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns04.freenom.com.\n;; Received 131 bytes from 194.0.41.1#53(d.ns.tk) in 330 ms\n\nclashdingyue.tk.        3600    IN      A       185.199.108.153\nclashdingyue.tk.        3600    IN      A       185.199.110.153\nclashdingyue.tk.        3600    IN      A       185.199.109.153\nclashdingyue.tk.        3600    IN      A       185.199.111.153\nclashdingyue.tk.        300     IN      NS      ns03.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns04.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns02.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns01.freenom.com.\n;; Received 248 bytes from 54.171.131.39#53(ns01.freenom.com) in 470 ms\n```\n\n**如果域名被污染会直接到的一个IP，并不会向权威DNS请求。**如下所示：\n\n```\n➜  hexo-blog dig +trace google.com\n;; Warning: Client COOKIE mismatch\n\n; <<>> DiG 9.16.1-Ubuntu <<>> +trace google.com\n;; global options: +cmd\n.                       1450    IN      NS      f.root-servers.net.\n.                       1450    IN      NS      k.root-servers.net.\n.                       1450    IN      NS      d.root-servers.net.\n.                       1450    IN      NS      j.root-servers.net.\n.                       1450    IN      NS      l.root-servers.net.\n.                       1450    IN      NS      m.root-servers.net.\n.                       1450    IN      NS      h.root-servers.net.\n.                       1450    IN      NS      i.root-servers.net.\n.                       1450    IN      NS      e.root-servers.net.\n.                       1450    IN      NS      c.root-servers.net.\n.                       1450    IN      NS      a.root-servers.net.\n.                       1450    IN      NS      b.root-servers.net.\n.                       1450    IN      NS      g.root-servers.net.\n;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms\n\ngoogle.com.             60      IN      A       8.7.198.46\n;; Received 54 bytes from 192.33.4.12#53(c.root-servers.net) in 20 ms\n```\n\n","source":"_posts/DNS命令指南.md","raw":"---\ntitle: DNS命令指南。怎么验证是否遭遇DNS污染？查看域名是否解析成功？\ntags:\n  - dns\ncategories:\n  - [dns]\n  - [linux]\ncover: \ntop_img: \ndate: 2022-06-27 18:24:43\nupdated: 2022-06-27 18:24:43\ndescription:\nkeywords: DNS\n---\n\n# DNS指南\n\n## 查询DNS服务器\n\n- linux：```cat /etc/resolv.conf``` \n\n- windows: ipconfig /all\n\n  ```\n  PS C:\\Users\\sssbb> ipconfig /all\n  \n  Windows IP 配置\n  \n     主机名  . . . . . . . . . . . . . : DESKTOP-KD33OT8\n     主 DNS 后缀 . . . . . . . . . . . :\n     节点类型  . . . . . . . . . . . . : 混合\n     IP 路由已启用 . . . . . . . . . . : 否\n     WINS 代理已启用 . . . . . . . . . : 否\n  \n  未知适配器 Clash:\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Clash Tunnel\n     物理地址. . . . . . . . . . . . . :\n     DHCP 已启用 . . . . . . . . . . . : 否\n     自动配置已启用. . . . . . . . . . : 是\n     IPv4 地址 . . . . . . . . . . . . : 198.18.0.1(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.0.0\n     默认网关. . . . . . . . . . . . . :\n     DNS 服务器  . . . . . . . . . . . : 198.18.0.2\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  \n  无线局域网适配器 本地连接* 1:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter\n     物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-BE-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  无线局域网适配器 本地连接* 10:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2\n     物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-B6-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  无线局域网适配器 WLAN:\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Dell Wireless 1830 802.11ac\n     物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-99\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n     本地链接 IPv6 地址. . . . . . . . : fe80::5d17:d6:2915:d43c%3(首选)\n     IPv4 地址 . . . . . . . . . . . . : 192.168.31.250(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.255.0\n     获得租约的时间  . . . . . . . . . : 2022年6月27日 13:00:31\n     租约过期的时间  . . . . . . . . . : 2022年6月28日 1:00:34\n     默认网关. . . . . . . . . . . . . : 192.168.31.1\n     DHCP 服务器 . . . . . . . . . . . : 192.168.31.1\n     DHCPv6 IAID . . . . . . . . . . . : 51924786\n     DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99\n     DNS 服务器  . . . . . . . . . . . : 192.168.31.1\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  \n  以太网适配器 蓝牙网络连接:\n  \n     媒体状态  . . . . . . . . . . . . : 媒体已断开连接\n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Bluetooth Device (Personal Area Network)\n     物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-9A\n     DHCP 已启用 . . . . . . . . . . . : 是\n     自动配置已启用. . . . . . . . . . : 是\n  \n  以太网适配器 vEthernet (WSL):\n  \n     连接特定的 DNS 后缀 . . . . . . . :\n     描述. . . . . . . . . . . . . . . : Hyper-V Virtual Ethernet Adapter\n     物理地址. . . . . . . . . . . . . : 00-15-5D-5C-2A-EA\n     DHCP 已启用 . . . . . . . . . . . : 否\n     自动配置已启用. . . . . . . . . . : 是\n     本地链接 IPv6 地址. . . . . . . . : fe80::d82d:5ba6:7b4b:9023%40(首选)\n     IPv4 地址 . . . . . . . . . . . . : 172.17.112.1(首选)\n     子网掩码  . . . . . . . . . . . . : 255.255.240.0\n     默认网关. . . . . . . . . . . . . :\n     DHCPv6 IAID . . . . . . . . . . . : 671094109\n     DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99\n     DNS 服务器  . . . . . . . . . . . : fec0:0:0:ffff::1%1\n                                         fec0:0:0:ffff::2%1\n                                         fec0:0:0:ffff::3%1\n     TCPIP 上的 NetBIOS  . . . . . . . : 已启用\n  ```\n\n   \n\n## 查看域名是否解析成功：\n\n- 可以直接ping域名，也可以使用nslookup命令（NameServer Lookup）\n\n- 在用 nslookup 查询一个域名时，可能会看到有“非权威应答” 的提示，非权威应答（Non-authoritative answer）意味着answer来自于其他服务器的缓存，而不是权威的服务器（就是该域名配置的DNS解析服务器，如果你的域名解析配置在CF的DNS上，则权威服务器，就是CF的DNS）。缓存会根据 ttl（Time to Live）的值定时的进行更新。\n\n  ```\n  ➜  hexo-blog nslookup wohensha.tk 8.8.8.8\n  Server:         8.8.8.8\n  Address:        8.8.8.8#53\n  \n  Non-authoritative answer:\n  Name:   wohensha.tk\n  Address: 104.21.49.190\n  Name:   wohensha.tk\n  Address: 172.67.165.231\n  Name:   wohensha.tk\n  Address: 2606:4700:3031::ac43:a5e7\n  Name:   wohensha.tk\n  Address: 2606:4700:3031::6815:31be\n  ```\n\n- sds查找权威名字服务器\n\n  ```\n  ➜  hexo-blog nslookup -ty=ns clashdingyue.tk\n  Server:         172.17.112.1\n  Address:        172.17.112.1#53\n  \n  Non-authoritative answer:\n  clashdingyue.tk nameserver = ns04.freenom.com.\n  clashdingyue.tk nameserver = ns02.freenom.com.\n  clashdingyue.tk nameserver = ns01.freenom.com.\n  clashdingyue.tk nameserver = ns03.freenom.com.\n  \n  Authoritative answers can be found from:\n  \n  ➜  hexo-blog nslookup -ty=ns clashdingyue.tk ns04.freenom.com\n  Server:         ns04.freenom.com\n  Address:        104.155.29.241#53\n  \n  clashdingyue.tk nameserver = ns04.freenom.com.\n  clashdingyue.tk nameserver = ns03.freenom.com.\n  clashdingyue.tk nameserver = ns02.freenom.com.\n  clashdingyue.tk nameserver = ns01.freenom.com.\n  ```\n\n\n\n# 一些小技巧\n\n### 怎么验证是否遭遇DNS污染？\n\n​\t\t**DNS污染**即网域服务器缓存污染，又称域名服务器缓存投毒，是指一些刻意制造或无意中制造出来的域名服务器数据包，把域名指往不正确的IP地址。一般来说，在互联网上都有可信赖的网域服务器，但为减低网络上的流量压力，一般的域名服务器都会把从上游的域名服务器获得的解析记录暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有关网域的局域域名服务器的缓存受到污染，就会把网域内的计算机导引往错误的服务器。\n\n   \t我们应该怎么去验证自己域名是否遭遇DNS污染呢？输入命令dig +trace clashdingyue.tk（您自己需要检测域名）。**如果域名未被污染我们会得到权威DNS的应答**，如下所示:\n\n```cobol\n➜  hexo-blog dig +trace clashdingyue.tk\n;; Warning: Client COOKIE mismatch\n\n; <<>> DiG 9.16.1-Ubuntu <<>> +trace clashdingyue.tk\n;; global options: +cmd\n.                       200     IN      NS      g.root-servers.net.\n.                       200     IN      NS      j.root-servers.net.\n.                       200     IN      NS      d.root-servers.net.\n.                       200     IN      NS      h.root-servers.net.\n.                       200     IN      NS      m.root-servers.net.\n.                       200     IN      NS      k.root-servers.net.\n.                       200     IN      NS      a.root-servers.net.\n.                       200     IN      NS      i.root-servers.net.\n.                       200     IN      NS      b.root-servers.net.\n.                       200     IN      NS      f.root-servers.net.\n.                       200     IN      NS      c.root-servers.net.\n.                       200     IN      NS      l.root-servers.net.\n.                       200     IN      NS      e.root-servers.net.\n;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms\n\ntk.                     172800  IN      NS      a.ns.tk.\ntk.                     172800  IN      NS      b.ns.tk.\ntk.                     172800  IN      NS      c.ns.tk.\ntk.                     172800  IN      NS      d.ns.tk.\ntk.                     86400   IN      NSEC    tkmaxx. NS RRSIG NSEC\ntk.                     86400   IN      RRSIG   NSEC 8 1 86400 20220710050000 20220627040000 47671 . HwO7QYzt3lI0k1w10qjM7oUf0B71yWgbUu9yCPcUdUng1icIu0lXSebp thdZpvOpLrjTE461RZJSlYaKIPavphtjpQHnUVxlH3Qznw9cBhql9Qnx cEtMo7vlCkCRST9sojkQxRqFW1oQMOoGG1j+SWpejRYwaudILcDCl0bP 4nPu1t5KmGR3Q8DKKO075O69w8MTauU+yfOsxEPvYgmHGzIyU7pBMWyt sUA+5ZpnrQ+0KLcXxnpUPQpBb55RlO1PhRqlJ9bT8qfYfvT+QUL5alwl xJxyZVcLTlGrpggW76yWjN3gq3zzynmd3D5cGeFQSon1+qMR5i6LoQix b4Jycg==\n;; Received 602 bytes from 193.0.14.129#53(k.root-servers.net) in 350 ms\n\nclashdingyue.tk.        300     IN      NS      ns01.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns02.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns03.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns04.freenom.com.\n;; Received 131 bytes from 194.0.41.1#53(d.ns.tk) in 330 ms\n\nclashdingyue.tk.        3600    IN      A       185.199.108.153\nclashdingyue.tk.        3600    IN      A       185.199.110.153\nclashdingyue.tk.        3600    IN      A       185.199.109.153\nclashdingyue.tk.        3600    IN      A       185.199.111.153\nclashdingyue.tk.        300     IN      NS      ns03.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns04.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns02.freenom.com.\nclashdingyue.tk.        300     IN      NS      ns01.freenom.com.\n;; Received 248 bytes from 54.171.131.39#53(ns01.freenom.com) in 470 ms\n```\n\n**如果域名被污染会直接到的一个IP，并不会向权威DNS请求。**如下所示：\n\n```\n➜  hexo-blog dig +trace google.com\n;; Warning: Client COOKIE mismatch\n\n; <<>> DiG 9.16.1-Ubuntu <<>> +trace google.com\n;; global options: +cmd\n.                       1450    IN      NS      f.root-servers.net.\n.                       1450    IN      NS      k.root-servers.net.\n.                       1450    IN      NS      d.root-servers.net.\n.                       1450    IN      NS      j.root-servers.net.\n.                       1450    IN      NS      l.root-servers.net.\n.                       1450    IN      NS      m.root-servers.net.\n.                       1450    IN      NS      h.root-servers.net.\n.                       1450    IN      NS      i.root-servers.net.\n.                       1450    IN      NS      e.root-servers.net.\n.                       1450    IN      NS      c.root-servers.net.\n.                       1450    IN      NS      a.root-servers.net.\n.                       1450    IN      NS      b.root-servers.net.\n.                       1450    IN      NS      g.root-servers.net.\n;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms\n\ngoogle.com.             60      IN      A       8.7.198.46\n;; Received 54 bytes from 192.33.4.12#53(c.root-servers.net) in 20 ms\n```\n\n","slug":"DNS命令指南","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpb0003d0ui7din18l3","content":"<h1 id=\"DNS指南\"><a href=\"#DNS指南\" class=\"headerlink\" title=\"DNS指南\"></a>DNS指南</h1><h2 id=\"查询DNS服务器\"><a href=\"#查询DNS服务器\" class=\"headerlink\" title=\"查询DNS服务器\"></a>查询DNS服务器</h2><ul>\n<li><p>linux：<code>cat /etc/resolv.conf</code> </p>\n</li>\n<li><p>windows: ipconfig &#x2F;all</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS C:\\Users\\sssbb&gt; ipconfig /all</span><br><span class=\"line\"></span><br><span class=\"line\">Windows IP 配置</span><br><span class=\"line\"></span><br><span class=\"line\">   主机名  . . . . . . . . . . . . . : DESKTOP-KD33OT8</span><br><span class=\"line\">   主 DNS 后缀 . . . . . . . . . . . :</span><br><span class=\"line\">   节点类型  . . . . . . . . . . . . : 混合</span><br><span class=\"line\">   IP 路由已启用 . . . . . . . . . . : 否</span><br><span class=\"line\">   WINS 代理已启用 . . . . . . . . . : 否</span><br><span class=\"line\"></span><br><span class=\"line\">未知适配器 Clash:</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Clash Tunnel</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . :</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 否</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 198.18.0.1(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.0.0</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . :</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : 198.18.0.2</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 本地连接* 1:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-BE-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 本地连接* 10:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-B6-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 WLAN:</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Dell Wireless 1830 802.11ac</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   本地链接 IPv6 地址. . . . . . . . : fe80::5d17:d6:2915:d43c%3(首选)</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 192.168.31.250(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.255.0</span><br><span class=\"line\">   获得租约的时间  . . . . . . . . . : 2022年6月27日 13:00:31</span><br><span class=\"line\">   租约过期的时间  . . . . . . . . . : 2022年6月28日 1:00:34</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   DHCP 服务器 . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   DHCPv6 IAID . . . . . . . . . . . : 51924786</span><br><span class=\"line\">   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br><span class=\"line\"></span><br><span class=\"line\">以太网适配器 蓝牙网络连接:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Bluetooth Device (Personal Area Network)</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-9A</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">以太网适配器 vEthernet (WSL):</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Hyper-V Virtual Ethernet Adapter</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 00-15-5D-5C-2A-EA</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 否</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   本地链接 IPv6 地址. . . . . . . . : fe80::d82d:5ba6:7b4b:9023%40(首选)</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 172.17.112.1(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.240.0</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . :</span><br><span class=\"line\">   DHCPv6 IAID . . . . . . . . . . . : 671094109</span><br><span class=\"line\">   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : fec0:0:0:ffff::1%1</span><br><span class=\"line\">                                       fec0:0:0:ffff::2%1</span><br><span class=\"line\">                                       fec0:0:0:ffff::3%1</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"查看域名是否解析成功：\"><a href=\"#查看域名是否解析成功：\" class=\"headerlink\" title=\"查看域名是否解析成功：\"></a>查看域名是否解析成功：</h2><ul>\n<li><p>可以直接ping域名，也可以使用nslookup命令（NameServer Lookup）</p>\n</li>\n<li><p>在用 nslookup 查询一个域名时，可能会看到有“非权威应答” 的提示，非权威应答（Non-authoritative answer）意味着answer来自于其他服务器的缓存，而不是权威的服务器（就是该域名配置的DNS解析服务器，如果你的域名解析配置在CF的DNS上，则权威服务器，就是CF的DNS）。缓存会根据 ttl（Time to Live）的值定时的进行更新。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup wohensha.tk 8.8.8.8</span><br><span class=\"line\">Server:         8.8.8.8</span><br><span class=\"line\">Address:        8.8.8.8#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 104.21.49.190</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 172.67.165.231</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 2606:4700:3031::ac43:a5e7</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 2606:4700:3031::6815:31be</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>sds查找权威名字服务器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup -ty=ns clashdingyue.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">clashdingyue.tk nameserver = ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns01.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns03.freenom.com.</span><br><span class=\"line\"></span><br><span class=\"line\">Authoritative answers can be found from:</span><br><span class=\"line\"></span><br><span class=\"line\">➜  hexo-blog nslookup -ty=ns clashdingyue.tk ns04.freenom.com</span><br><span class=\"line\">Server:         ns04.freenom.com</span><br><span class=\"line\">Address:        104.155.29.241#53</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk nameserver = ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns01.freenom.com.</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"一些小技巧\"><a href=\"#一些小技巧\" class=\"headerlink\" title=\"一些小技巧\"></a>一些小技巧</h1><h3 id=\"怎么验证是否遭遇DNS污染？\"><a href=\"#怎么验证是否遭遇DNS污染？\" class=\"headerlink\" title=\"怎么验证是否遭遇DNS污染？\"></a>怎么验证是否遭遇DNS污染？</h3><p>​\t\t<strong>DNS污染</strong>即网域服务器缓存污染，又称域名服务器缓存投毒，是指一些刻意制造或无意中制造出来的域名服务器数据包，把域名指往不正确的IP地址。一般来说，在互联网上都有可信赖的网域服务器，但为减低网络上的流量压力，一般的域名服务器都会把从上游的域名服务器获得的解析记录暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有关网域的局域域名服务器的缓存受到污染，就会把网域内的计算机导引往错误的服务器。</p>\n<pre><code>   我们应该怎么去验证自己域名是否遭遇DNS污染呢？输入命令dig +trace clashdingyue.tk（您自己需要检测域名）。**如果域名未被污染我们会得到权威DNS的应答**，如下所示:\n</code></pre>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog dig +trace clashdingyue.tk</span><br><span class=\"line\">;; Warning: Client COOKIE mismatch</span><br><span class=\"line\"></span><br><span class=\"line\">; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; +trace clashdingyue.tk</span><br><span class=\"line\">;; global options: +cmd</span><br><span class=\"line\">.                       200     IN      NS      g.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      j.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      d.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      h.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      m.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      k.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      a.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      i.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      b.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      f.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      c.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      l.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      e.root-servers.net.</span><br><span class=\"line\">;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms</span><br><span class=\"line\"></span><br><span class=\"line\">tk.                     172800  IN      NS      a.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      b.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      c.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      d.ns.tk.</span><br><span class=\"line\">tk.                     86400   IN      NSEC    tkmaxx. NS RRSIG NSEC</span><br><span class=\"line\">tk.                     86400   IN      RRSIG   NSEC 8 1 86400 20220710050000 20220627040000 47671 . HwO7QYzt3lI0k1w10qjM7oUf0B71yWgbUu9yCPcUdUng1icIu0lXSebp thdZpvOpLrjTE461RZJSlYaKIPavphtjpQHnUVxlH3Qznw9cBhql9Qnx cEtMo7vlCkCRST9sojkQxRqFW1oQMOoGG1j+SWpejRYwaudILcDCl0bP 4nPu1t5KmGR3Q8DKKO075O69w8MTauU+yfOsxEPvYgmHGzIyU7pBMWyt sUA+5ZpnrQ+0KLcXxnpUPQpBb55RlO1PhRqlJ9bT8qfYfvT+QUL5alwl xJxyZVcLTlGrpggW76yWjN3gq3zzynmd3D5cGeFQSon1+qMR5i6LoQix b4Jycg==</span><br><span class=\"line\">;; Received 602 bytes from 193.0.14.129#53(k.root-servers.net) in 350 ms</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns01.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns04.freenom.com.</span><br><span class=\"line\">;; Received 131 bytes from 194.0.41.1#53(d.ns.tk) in 330 ms</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.108.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.110.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.109.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.111.153</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns01.freenom.com.</span><br><span class=\"line\">;; Received 248 bytes from 54.171.131.39#53(ns01.freenom.com) in 470 ms</span><br></pre></td></tr></table></figure>\n\n<p><strong>如果域名被污染会直接到的一个IP，并不会向权威DNS请求。</strong>如下所示：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog dig +trace google.com</span><br><span class=\"line\">;; Warning: Client COOKIE mismatch</span><br><span class=\"line\"></span><br><span class=\"line\">; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; +trace google.com</span><br><span class=\"line\">;; global options: +cmd</span><br><span class=\"line\">.                       1450    IN      NS      f.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      k.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      d.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      j.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      l.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      m.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      h.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      i.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      e.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      c.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      a.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      b.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      g.root-servers.net.</span><br><span class=\"line\">;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms</span><br><span class=\"line\"></span><br><span class=\"line\">google.com.             60      IN      A       8.7.198.46</span><br><span class=\"line\">;; Received 54 bytes from 192.33.4.12#53(c.root-servers.net) in 20 ms</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h1 id=\"DNS指南\"><a href=\"#DNS指南\" class=\"headerlink\" title=\"DNS指南\"></a>DNS指南</h1><h2 id=\"查询DNS服务器\"><a href=\"#查询DNS服务器\" class=\"headerlink\" title=\"查询DNS服务器\"></a>查询DNS服务器</h2><ul>\n<li><p>linux：<code>cat /etc/resolv.conf</code> </p>\n</li>\n<li><p>windows: ipconfig &#x2F;all</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS C:\\Users\\sssbb&gt; ipconfig /all</span><br><span class=\"line\"></span><br><span class=\"line\">Windows IP 配置</span><br><span class=\"line\"></span><br><span class=\"line\">   主机名  . . . . . . . . . . . . . : DESKTOP-KD33OT8</span><br><span class=\"line\">   主 DNS 后缀 . . . . . . . . . . . :</span><br><span class=\"line\">   节点类型  . . . . . . . . . . . . : 混合</span><br><span class=\"line\">   IP 路由已启用 . . . . . . . . . . : 否</span><br><span class=\"line\">   WINS 代理已启用 . . . . . . . . . : 否</span><br><span class=\"line\"></span><br><span class=\"line\">未知适配器 Clash:</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Clash Tunnel</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . :</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 否</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 198.18.0.1(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.0.0</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . :</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : 198.18.0.2</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 本地连接* 1:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-BE-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 本地连接* 10:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 1A-4F-32-F7-B6-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">无线局域网适配器 WLAN:</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Dell Wireless 1830 802.11ac</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-99</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   本地链接 IPv6 地址. . . . . . . . : fe80::5d17:d6:2915:d43c%3(首选)</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 192.168.31.250(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.255.0</span><br><span class=\"line\">   获得租约的时间  . . . . . . . . . : 2022年6月27日 13:00:31</span><br><span class=\"line\">   租约过期的时间  . . . . . . . . . : 2022年6月28日 1:00:34</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   DHCP 服务器 . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   DHCPv6 IAID . . . . . . . . . . . : 51924786</span><br><span class=\"line\">   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : 192.168.31.1</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br><span class=\"line\"></span><br><span class=\"line\">以太网适配器 蓝牙网络连接:</span><br><span class=\"line\"></span><br><span class=\"line\">   媒体状态  . . . . . . . . . . . . : 媒体已断开连接</span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Bluetooth Device (Personal Area Network)</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 18-4F-32-F7-BE-9A</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 是</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\"></span><br><span class=\"line\">以太网适配器 vEthernet (WSL):</span><br><span class=\"line\"></span><br><span class=\"line\">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class=\"line\">   描述. . . . . . . . . . . . . . . : Hyper-V Virtual Ethernet Adapter</span><br><span class=\"line\">   物理地址. . . . . . . . . . . . . : 00-15-5D-5C-2A-EA</span><br><span class=\"line\">   DHCP 已启用 . . . . . . . . . . . : 否</span><br><span class=\"line\">   自动配置已启用. . . . . . . . . . : 是</span><br><span class=\"line\">   本地链接 IPv6 地址. . . . . . . . : fe80::d82d:5ba6:7b4b:9023%40(首选)</span><br><span class=\"line\">   IPv4 地址 . . . . . . . . . . . . : 172.17.112.1(首选)</span><br><span class=\"line\">   子网掩码  . . . . . . . . . . . . : 255.255.240.0</span><br><span class=\"line\">   默认网关. . . . . . . . . . . . . :</span><br><span class=\"line\">   DHCPv6 IAID . . . . . . . . . . . : 671094109</span><br><span class=\"line\">   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-2A-3F-FD-A1-18-4F-32-F7-BE-99</span><br><span class=\"line\">   DNS 服务器  . . . . . . . . . . . : fec0:0:0:ffff::1%1</span><br><span class=\"line\">                                       fec0:0:0:ffff::2%1</span><br><span class=\"line\">                                       fec0:0:0:ffff::3%1</span><br><span class=\"line\">   TCPIP 上的 NetBIOS  . . . . . . . : 已启用</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"查看域名是否解析成功：\"><a href=\"#查看域名是否解析成功：\" class=\"headerlink\" title=\"查看域名是否解析成功：\"></a>查看域名是否解析成功：</h2><ul>\n<li><p>可以直接ping域名，也可以使用nslookup命令（NameServer Lookup）</p>\n</li>\n<li><p>在用 nslookup 查询一个域名时，可能会看到有“非权威应答” 的提示，非权威应答（Non-authoritative answer）意味着answer来自于其他服务器的缓存，而不是权威的服务器（就是该域名配置的DNS解析服务器，如果你的域名解析配置在CF的DNS上，则权威服务器，就是CF的DNS）。缓存会根据 ttl（Time to Live）的值定时的进行更新。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup wohensha.tk 8.8.8.8</span><br><span class=\"line\">Server:         8.8.8.8</span><br><span class=\"line\">Address:        8.8.8.8#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 104.21.49.190</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 172.67.165.231</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 2606:4700:3031::ac43:a5e7</span><br><span class=\"line\">Name:   wohensha.tk</span><br><span class=\"line\">Address: 2606:4700:3031::6815:31be</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>sds查找权威名字服务器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog nslookup -ty=ns clashdingyue.tk</span><br><span class=\"line\">Server:         172.17.112.1</span><br><span class=\"line\">Address:        172.17.112.1#53</span><br><span class=\"line\"></span><br><span class=\"line\">Non-authoritative answer:</span><br><span class=\"line\">clashdingyue.tk nameserver = ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns01.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns03.freenom.com.</span><br><span class=\"line\"></span><br><span class=\"line\">Authoritative answers can be found from:</span><br><span class=\"line\"></span><br><span class=\"line\">➜  hexo-blog nslookup -ty=ns clashdingyue.tk ns04.freenom.com</span><br><span class=\"line\">Server:         ns04.freenom.com</span><br><span class=\"line\">Address:        104.155.29.241#53</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk nameserver = ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk nameserver = ns01.freenom.com.</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"一些小技巧\"><a href=\"#一些小技巧\" class=\"headerlink\" title=\"一些小技巧\"></a>一些小技巧</h1><h3 id=\"怎么验证是否遭遇DNS污染？\"><a href=\"#怎么验证是否遭遇DNS污染？\" class=\"headerlink\" title=\"怎么验证是否遭遇DNS污染？\"></a>怎么验证是否遭遇DNS污染？</h3><p>​\t\t<strong>DNS污染</strong>即网域服务器缓存污染，又称域名服务器缓存投毒，是指一些刻意制造或无意中制造出来的域名服务器数据包，把域名指往不正确的IP地址。一般来说，在互联网上都有可信赖的网域服务器，但为减低网络上的流量压力，一般的域名服务器都会把从上游的域名服务器获得的解析记录暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有关网域的局域域名服务器的缓存受到污染，就会把网域内的计算机导引往错误的服务器。</p>\n<pre><code>   我们应该怎么去验证自己域名是否遭遇DNS污染呢？输入命令dig +trace clashdingyue.tk（您自己需要检测域名）。**如果域名未被污染我们会得到权威DNS的应答**，如下所示:\n</code></pre>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog dig +trace clashdingyue.tk</span><br><span class=\"line\">;; Warning: Client COOKIE mismatch</span><br><span class=\"line\"></span><br><span class=\"line\">; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; +trace clashdingyue.tk</span><br><span class=\"line\">;; global options: +cmd</span><br><span class=\"line\">.                       200     IN      NS      g.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      j.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      d.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      h.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      m.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      k.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      a.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      i.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      b.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      f.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      c.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      l.root-servers.net.</span><br><span class=\"line\">.                       200     IN      NS      e.root-servers.net.</span><br><span class=\"line\">;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms</span><br><span class=\"line\"></span><br><span class=\"line\">tk.                     172800  IN      NS      a.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      b.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      c.ns.tk.</span><br><span class=\"line\">tk.                     172800  IN      NS      d.ns.tk.</span><br><span class=\"line\">tk.                     86400   IN      NSEC    tkmaxx. NS RRSIG NSEC</span><br><span class=\"line\">tk.                     86400   IN      RRSIG   NSEC 8 1 86400 20220710050000 20220627040000 47671 . HwO7QYzt3lI0k1w10qjM7oUf0B71yWgbUu9yCPcUdUng1icIu0lXSebp thdZpvOpLrjTE461RZJSlYaKIPavphtjpQHnUVxlH3Qznw9cBhql9Qnx cEtMo7vlCkCRST9sojkQxRqFW1oQMOoGG1j+SWpejRYwaudILcDCl0bP 4nPu1t5KmGR3Q8DKKO075O69w8MTauU+yfOsxEPvYgmHGzIyU7pBMWyt sUA+5ZpnrQ+0KLcXxnpUPQpBb55RlO1PhRqlJ9bT8qfYfvT+QUL5alwl xJxyZVcLTlGrpggW76yWjN3gq3zzynmd3D5cGeFQSon1+qMR5i6LoQix b4Jycg==</span><br><span class=\"line\">;; Received 602 bytes from 193.0.14.129#53(k.root-servers.net) in 350 ms</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns01.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns04.freenom.com.</span><br><span class=\"line\">;; Received 131 bytes from 194.0.41.1#53(d.ns.tk) in 330 ms</span><br><span class=\"line\"></span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.108.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.110.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.109.153</span><br><span class=\"line\">clashdingyue.tk.        3600    IN      A       185.199.111.153</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns03.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns04.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns02.freenom.com.</span><br><span class=\"line\">clashdingyue.tk.        300     IN      NS      ns01.freenom.com.</span><br><span class=\"line\">;; Received 248 bytes from 54.171.131.39#53(ns01.freenom.com) in 470 ms</span><br></pre></td></tr></table></figure>\n\n<p><strong>如果域名被污染会直接到的一个IP，并不会向权威DNS请求。</strong>如下所示：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">➜  hexo-blog dig +trace google.com</span><br><span class=\"line\">;; Warning: Client COOKIE mismatch</span><br><span class=\"line\"></span><br><span class=\"line\">; &lt;&lt;&gt;&gt; DiG 9.16.1-Ubuntu &lt;&lt;&gt;&gt; +trace google.com</span><br><span class=\"line\">;; global options: +cmd</span><br><span class=\"line\">.                       1450    IN      NS      f.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      k.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      d.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      j.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      l.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      m.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      h.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      i.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      e.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      c.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      a.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      b.root-servers.net.</span><br><span class=\"line\">.                       1450    IN      NS      g.root-servers.net.</span><br><span class=\"line\">;; Received 443 bytes from 172.17.112.1#53(172.17.112.1) in 840 ms</span><br><span class=\"line\"></span><br><span class=\"line\">google.com.             60      IN      A       8.7.198.46</span><br><span class=\"line\">;; Received 54 bytes from 192.33.4.12#53(c.root-servers.net) in 20 ms</span><br></pre></td></tr></table></figure>\n\n"},{"title":"网站、DNS速度测试和性能分析","cover":"https://tva4.sinaimg.cn/large/0084aYsLgy1gy51ogkzs9j31hc0m843g.jpg","top_img":null,"date":"2022-06-27T11:57:25.000Z","updated":"2022-06-27T11:57:25.000Z","description":"网站、DNS速度测试和性能分析","keywords":null,"_content":"\n### 常用国内外网站测速及性能分析工具\n\n网站多地测速工具/网站，通常是**同时测试并列出众多监测点到网站的主要速度指标**(如解析时间、连接时间、下载速度等)，一般**不用于**检测网站代码及服务器性能优化的情况，而是主要用于选购服务器/VPS、服务器/CDN在各地的网速排查、CDN部署等。\n\n- [**17ce**](https://www.17ce.com/) *(国内网站)*\n  - 60+个国内及香港监测点,适用于**国内**各地访问网站的速度测试\n  - 提供 Get, Ping, 路由追踪, Dns, Cdn等多维度速度测试\n  - 提供监控API(付费)\n- [**卡卡网 Webkaka**](http://www.webkaka.com/) *(国内网站)*\n  - 60+个国内监测点, 30+个海外监测点，适用于**国内**或**全球**各地访问网站的速度测试\n  - 提供 Get, ping, 路由追踪, Dns等多维度速度测试\n  - 提供网站速度诊断功能\n- [**Sucuri Load Time Tester**](https://performance.sucuri.net/) *(国外网站)*\n  - 15+个全球监测点, 适用于**全球**各地访问网站(如外贸网站)的速度测试\n  - 提供网页连接时间、首字节时间、总时间等数据\n- [**Dotcom-Tools Website Speed Test**](https://www.dotcom-tools.com/website-speed-test.aspx) *(国外网站)*\n  - 20+个全球监测点, 适用于**全球**各地访问网站(如外贸网站)的速度测试\n  - 提供两次(首次及重复访问)网页加载速度，且可按节点查看详细信息\n\n\n\n**一、Think with Google**\n\n工具地址：www.thinkwithgoogle.com/feature/testmysite/\n\n这是谷歌推出专门针对移动端访问速测试的工具，该工具模似4G访问网站，而结果也会出现相对应的优化建议，与竞争对手的打开速度比较，这是一款针对TO C移动端用户的专业测速工具。\n\n**二、Webuup**\n\n工具地址：www.webuup.com\n\nWebuup是新出的免费的在线网站质量检测工具，目前知道它的人还不是很多，但它的功能却十分强大，非常好用。它不仅能根据各项关键指标，如页面性能、移动表现、SEO优化和安全隐私来判断网站的质量，还能给出网站优化和提升的建议，Webuup检测工具，可以在页面速度检测栏，清晰的显示全球不同的测速区域与测速服务器状态下，该网站首字节返回时间、页面展示延迟时间、页面完整加载时间。\n\n**三、PageSpeed Insights**\n\n工具地址：pagespeed.web.dev\n\nPageSpeed这款测速工具出自Google，它可以直接总结出测试网站所存在的问题，并提出相应的优化建议，且指示很清晰，而最近谷歌推出的页面体验算法，也是根据这里的三项页面指标（LCP、FID、CLS）优化，此外，PageSpeed的测速包括移动设备和桌面设备两方面，并分别从这两个不同的设备端提出了提升网站加载速度的建议，用起来十分方便。\n\n**四、Gtmetrix**\n\n工具地址：gtmetrix.com\n\nGTmetrix现在由Lighthouse提供技术支持，有网站打开速度和网站性能评测工具，也成为网站用户体验的检测工具，Lighthouse是Google提供的一种开源工具，可以通过多种方式对网页进行评估。它被认为是现代Web性能指标的标准，因此将Lighthouse分析和性能数据集成到GTmetrix中，所以也是这次我们放在推荐网站速度测试工具之一。\n\n**五、Dotcom-tools**\n\n工具地址：www.dotcom-tools.com\n\nDotcom网站全球访问测试工具，主要是分析外贸网站在全球各地的速度测试，输入网址后，会出现每个地区节点的载入时间、重复测试后的载入时间、下载页面大小及遭遇到的错误记录，可以查看页面大小、加载时间和下载速度等前端元素，还可以查看HTML、JavaScript和CSS等后端元素，可以对网站针对性优化。\n\n​\t\t以上五款是不错的免费网站打开速度测试工具，也比较实用，当然还有一些其他的测试工具，但这五款工具已经够用了。正常一个网站，打开速度应该在2~3秒是比较理想的，同时大家在优化好web端的打开速度时，也要注重对于移动端的优化。\n\n","source":"_posts/SEO.md","raw":"---\ntitle: 网站、DNS速度测试和性能分析\ntags:\n  - SEO\ncategories:\n  - [SEO]\ncover: \ntop_img: \ndate: 2022-06-27 19:57:25\nupdated: 2022-06-27 19:57:25 \ndescription: 网站、DNS速度测试和性能分析\nkeywords:\n---\n\n### 常用国内外网站测速及性能分析工具\n\n网站多地测速工具/网站，通常是**同时测试并列出众多监测点到网站的主要速度指标**(如解析时间、连接时间、下载速度等)，一般**不用于**检测网站代码及服务器性能优化的情况，而是主要用于选购服务器/VPS、服务器/CDN在各地的网速排查、CDN部署等。\n\n- [**17ce**](https://www.17ce.com/) *(国内网站)*\n  - 60+个国内及香港监测点,适用于**国内**各地访问网站的速度测试\n  - 提供 Get, Ping, 路由追踪, Dns, Cdn等多维度速度测试\n  - 提供监控API(付费)\n- [**卡卡网 Webkaka**](http://www.webkaka.com/) *(国内网站)*\n  - 60+个国内监测点, 30+个海外监测点，适用于**国内**或**全球**各地访问网站的速度测试\n  - 提供 Get, ping, 路由追踪, Dns等多维度速度测试\n  - 提供网站速度诊断功能\n- [**Sucuri Load Time Tester**](https://performance.sucuri.net/) *(国外网站)*\n  - 15+个全球监测点, 适用于**全球**各地访问网站(如外贸网站)的速度测试\n  - 提供网页连接时间、首字节时间、总时间等数据\n- [**Dotcom-Tools Website Speed Test**](https://www.dotcom-tools.com/website-speed-test.aspx) *(国外网站)*\n  - 20+个全球监测点, 适用于**全球**各地访问网站(如外贸网站)的速度测试\n  - 提供两次(首次及重复访问)网页加载速度，且可按节点查看详细信息\n\n\n\n**一、Think with Google**\n\n工具地址：www.thinkwithgoogle.com/feature/testmysite/\n\n这是谷歌推出专门针对移动端访问速测试的工具，该工具模似4G访问网站，而结果也会出现相对应的优化建议，与竞争对手的打开速度比较，这是一款针对TO C移动端用户的专业测速工具。\n\n**二、Webuup**\n\n工具地址：www.webuup.com\n\nWebuup是新出的免费的在线网站质量检测工具，目前知道它的人还不是很多，但它的功能却十分强大，非常好用。它不仅能根据各项关键指标，如页面性能、移动表现、SEO优化和安全隐私来判断网站的质量，还能给出网站优化和提升的建议，Webuup检测工具，可以在页面速度检测栏，清晰的显示全球不同的测速区域与测速服务器状态下，该网站首字节返回时间、页面展示延迟时间、页面完整加载时间。\n\n**三、PageSpeed Insights**\n\n工具地址：pagespeed.web.dev\n\nPageSpeed这款测速工具出自Google，它可以直接总结出测试网站所存在的问题，并提出相应的优化建议，且指示很清晰，而最近谷歌推出的页面体验算法，也是根据这里的三项页面指标（LCP、FID、CLS）优化，此外，PageSpeed的测速包括移动设备和桌面设备两方面，并分别从这两个不同的设备端提出了提升网站加载速度的建议，用起来十分方便。\n\n**四、Gtmetrix**\n\n工具地址：gtmetrix.com\n\nGTmetrix现在由Lighthouse提供技术支持，有网站打开速度和网站性能评测工具，也成为网站用户体验的检测工具，Lighthouse是Google提供的一种开源工具，可以通过多种方式对网页进行评估。它被认为是现代Web性能指标的标准，因此将Lighthouse分析和性能数据集成到GTmetrix中，所以也是这次我们放在推荐网站速度测试工具之一。\n\n**五、Dotcom-tools**\n\n工具地址：www.dotcom-tools.com\n\nDotcom网站全球访问测试工具，主要是分析外贸网站在全球各地的速度测试，输入网址后，会出现每个地区节点的载入时间、重复测试后的载入时间、下载页面大小及遭遇到的错误记录，可以查看页面大小、加载时间和下载速度等前端元素，还可以查看HTML、JavaScript和CSS等后端元素，可以对网站针对性优化。\n\n​\t\t以上五款是不错的免费网站打开速度测试工具，也比较实用，当然还有一些其他的测试工具，但这五款工具已经够用了。正常一个网站，打开速度应该在2~3秒是比较理想的，同时大家在优化好web端的打开速度时，也要注重对于移动端的优化。\n\n","slug":"SEO","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpf0006d0uihtftexmq","content":"<h3 id=\"常用国内外网站测速及性能分析工具\"><a href=\"#常用国内外网站测速及性能分析工具\" class=\"headerlink\" title=\"常用国内外网站测速及性能分析工具\"></a>常用国内外网站测速及性能分析工具</h3><p>网站多地测速工具&#x2F;网站，通常是<strong>同时测试并列出众多监测点到网站的主要速度指标</strong>(如解析时间、连接时间、下载速度等)，一般<strong>不用于</strong>检测网站代码及服务器性能优化的情况，而是主要用于选购服务器&#x2F;VPS、服务器&#x2F;CDN在各地的网速排查、CDN部署等。</p>\n<ul>\n<li><a href=\"https://www.17ce.com/\"><strong>17ce</strong></a> <em>(国内网站)</em><ul>\n<li>60+个国内及香港监测点,适用于<strong>国内</strong>各地访问网站的速度测试</li>\n<li>提供 Get, Ping, 路由追踪, Dns, Cdn等多维度速度测试</li>\n<li>提供监控API(付费)</li>\n</ul>\n</li>\n<li><a href=\"http://www.webkaka.com/\"><strong>卡卡网 Webkaka</strong></a> <em>(国内网站)</em><ul>\n<li>60+个国内监测点, 30+个海外监测点，适用于<strong>国内</strong>或<strong>全球</strong>各地访问网站的速度测试</li>\n<li>提供 Get, ping, 路由追踪, Dns等多维度速度测试</li>\n<li>提供网站速度诊断功能</li>\n</ul>\n</li>\n<li><a href=\"https://performance.sucuri.net/\"><strong>Sucuri Load Time Tester</strong></a> <em>(国外网站)</em><ul>\n<li>15+个全球监测点, 适用于<strong>全球</strong>各地访问网站(如外贸网站)的速度测试</li>\n<li>提供网页连接时间、首字节时间、总时间等数据</li>\n</ul>\n</li>\n<li><a href=\"https://www.dotcom-tools.com/website-speed-test.aspx\"><strong>Dotcom-Tools Website Speed Test</strong></a> <em>(国外网站)</em><ul>\n<li>20+个全球监测点, 适用于<strong>全球</strong>各地访问网站(如外贸网站)的速度测试</li>\n<li>提供两次(首次及重复访问)网页加载速度，且可按节点查看详细信息</li>\n</ul>\n</li>\n</ul>\n<p><strong>一、Think with Google</strong></p>\n<p>工具地址：<a href=\"http://www.thinkwithgoogle.com/feature/testmysite/\">www.thinkwithgoogle.com/feature/testmysite/</a></p>\n<p>这是谷歌推出专门针对移动端访问速测试的工具，该工具模似4G访问网站，而结果也会出现相对应的优化建议，与竞争对手的打开速度比较，这是一款针对TO C移动端用户的专业测速工具。</p>\n<p><strong>二、Webuup</strong></p>\n<p>工具地址：<a href=\"http://www.webuup.com/\">www.webuup.com</a></p>\n<p>Webuup是新出的免费的在线网站质量检测工具，目前知道它的人还不是很多，但它的功能却十分强大，非常好用。它不仅能根据各项关键指标，如页面性能、移动表现、SEO优化和安全隐私来判断网站的质量，还能给出网站优化和提升的建议，Webuup检测工具，可以在页面速度检测栏，清晰的显示全球不同的测速区域与测速服务器状态下，该网站首字节返回时间、页面展示延迟时间、页面完整加载时间。</p>\n<p><strong>三、PageSpeed Insights</strong></p>\n<p>工具地址：pagespeed.web.dev</p>\n<p>PageSpeed这款测速工具出自Google，它可以直接总结出测试网站所存在的问题，并提出相应的优化建议，且指示很清晰，而最近谷歌推出的页面体验算法，也是根据这里的三项页面指标（LCP、FID、CLS）优化，此外，PageSpeed的测速包括移动设备和桌面设备两方面，并分别从这两个不同的设备端提出了提升网站加载速度的建议，用起来十分方便。</p>\n<p><strong>四、Gtmetrix</strong></p>\n<p>工具地址：gtmetrix.com</p>\n<p>GTmetrix现在由Lighthouse提供技术支持，有网站打开速度和网站性能评测工具，也成为网站用户体验的检测工具，Lighthouse是Google提供的一种开源工具，可以通过多种方式对网页进行评估。它被认为是现代Web性能指标的标准，因此将Lighthouse分析和性能数据集成到GTmetrix中，所以也是这次我们放在推荐网站速度测试工具之一。</p>\n<p><strong>五、Dotcom-tools</strong></p>\n<p>工具地址：<a href=\"http://www.dotcom-tools.com/\">www.dotcom-tools.com</a></p>\n<p>Dotcom网站全球访问测试工具，主要是分析外贸网站在全球各地的速度测试，输入网址后，会出现每个地区节点的载入时间、重复测试后的载入时间、下载页面大小及遭遇到的错误记录，可以查看页面大小、加载时间和下载速度等前端元素，还可以查看HTML、JavaScript和CSS等后端元素，可以对网站针对性优化。</p>\n<p>​\t\t以上五款是不错的免费网站打开速度测试工具，也比较实用，当然还有一些其他的测试工具，但这五款工具已经够用了。正常一个网站，打开速度应该在2~3秒是比较理想的，同时大家在优化好web端的打开速度时，也要注重对于移动端的优化。</p>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h3 id=\"常用国内外网站测速及性能分析工具\"><a href=\"#常用国内外网站测速及性能分析工具\" class=\"headerlink\" title=\"常用国内外网站测速及性能分析工具\"></a>常用国内外网站测速及性能分析工具</h3><p>网站多地测速工具&#x2F;网站，通常是<strong>同时测试并列出众多监测点到网站的主要速度指标</strong>(如解析时间、连接时间、下载速度等)，一般<strong>不用于</strong>检测网站代码及服务器性能优化的情况，而是主要用于选购服务器&#x2F;VPS、服务器&#x2F;CDN在各地的网速排查、CDN部署等。</p>\n<ul>\n<li><a href=\"https://www.17ce.com/\"><strong>17ce</strong></a> <em>(国内网站)</em><ul>\n<li>60+个国内及香港监测点,适用于<strong>国内</strong>各地访问网站的速度测试</li>\n<li>提供 Get, Ping, 路由追踪, Dns, Cdn等多维度速度测试</li>\n<li>提供监控API(付费)</li>\n</ul>\n</li>\n<li><a href=\"http://www.webkaka.com/\"><strong>卡卡网 Webkaka</strong></a> <em>(国内网站)</em><ul>\n<li>60+个国内监测点, 30+个海外监测点，适用于<strong>国内</strong>或<strong>全球</strong>各地访问网站的速度测试</li>\n<li>提供 Get, ping, 路由追踪, Dns等多维度速度测试</li>\n<li>提供网站速度诊断功能</li>\n</ul>\n</li>\n<li><a href=\"https://performance.sucuri.net/\"><strong>Sucuri Load Time Tester</strong></a> <em>(国外网站)</em><ul>\n<li>15+个全球监测点, 适用于<strong>全球</strong>各地访问网站(如外贸网站)的速度测试</li>\n<li>提供网页连接时间、首字节时间、总时间等数据</li>\n</ul>\n</li>\n<li><a href=\"https://www.dotcom-tools.com/website-speed-test.aspx\"><strong>Dotcom-Tools Website Speed Test</strong></a> <em>(国外网站)</em><ul>\n<li>20+个全球监测点, 适用于<strong>全球</strong>各地访问网站(如外贸网站)的速度测试</li>\n<li>提供两次(首次及重复访问)网页加载速度，且可按节点查看详细信息</li>\n</ul>\n</li>\n</ul>\n<p><strong>一、Think with Google</strong></p>\n<p>工具地址：<a href=\"http://www.thinkwithgoogle.com/feature/testmysite/\">www.thinkwithgoogle.com/feature/testmysite/</a></p>\n<p>这是谷歌推出专门针对移动端访问速测试的工具，该工具模似4G访问网站，而结果也会出现相对应的优化建议，与竞争对手的打开速度比较，这是一款针对TO C移动端用户的专业测速工具。</p>\n<p><strong>二、Webuup</strong></p>\n<p>工具地址：<a href=\"http://www.webuup.com/\">www.webuup.com</a></p>\n<p>Webuup是新出的免费的在线网站质量检测工具，目前知道它的人还不是很多，但它的功能却十分强大，非常好用。它不仅能根据各项关键指标，如页面性能、移动表现、SEO优化和安全隐私来判断网站的质量，还能给出网站优化和提升的建议，Webuup检测工具，可以在页面速度检测栏，清晰的显示全球不同的测速区域与测速服务器状态下，该网站首字节返回时间、页面展示延迟时间、页面完整加载时间。</p>\n<p><strong>三、PageSpeed Insights</strong></p>\n<p>工具地址：pagespeed.web.dev</p>\n<p>PageSpeed这款测速工具出自Google，它可以直接总结出测试网站所存在的问题，并提出相应的优化建议，且指示很清晰，而最近谷歌推出的页面体验算法，也是根据这里的三项页面指标（LCP、FID、CLS）优化，此外，PageSpeed的测速包括移动设备和桌面设备两方面，并分别从这两个不同的设备端提出了提升网站加载速度的建议，用起来十分方便。</p>\n<p><strong>四、Gtmetrix</strong></p>\n<p>工具地址：gtmetrix.com</p>\n<p>GTmetrix现在由Lighthouse提供技术支持，有网站打开速度和网站性能评测工具，也成为网站用户体验的检测工具，Lighthouse是Google提供的一种开源工具，可以通过多种方式对网页进行评估。它被认为是现代Web性能指标的标准，因此将Lighthouse分析和性能数据集成到GTmetrix中，所以也是这次我们放在推荐网站速度测试工具之一。</p>\n<p><strong>五、Dotcom-tools</strong></p>\n<p>工具地址：<a href=\"http://www.dotcom-tools.com/\">www.dotcom-tools.com</a></p>\n<p>Dotcom网站全球访问测试工具，主要是分析外贸网站在全球各地的速度测试，输入网址后，会出现每个地区节点的载入时间、重复测试后的载入时间、下载页面大小及遭遇到的错误记录，可以查看页面大小、加载时间和下载速度等前端元素，还可以查看HTML、JavaScript和CSS等后端元素，可以对网站针对性优化。</p>\n<p>​\t\t以上五款是不错的免费网站打开速度测试工具，也比较实用，当然还有一些其他的测试工具，但这五款工具已经够用了。正常一个网站，打开速度应该在2~3秒是比较理想的，同时大家在优化好web端的打开速度时，也要注重对于移动端的优化。</p>\n"},{"title":"WSL中的骚操作","cover":"https://tvax4.sinaimg.cn/large/0084aYsLgy1h3jum72m7kj31220e6jsc.jpg","top_img":null,"date":"2022-06-27T06:27:44.000Z","updated":"2022-06-27T06:27:44.000Z","description":null,"keywords":null,"_content":"\n## 配置oh-my-zsh\n\n- 启用zsh，并配上一系列插件，可以极大的提升工作效率。\n\n  ```shell\n  plugins=(z vi-mode zsh-completions web-search git zsh-autosuggestions zsh-syntax-highlighting rand-quote themes cp)\n  ```\n\n  特别是z 、 zsh-completions、zsh-autosuggestions、git都是特别好用的神器。\n\n\n\n\n\n# 关于Hexo\n\n​\t\t由于Linux出色的命令行终端体验，在Linux中部署Hexo静态博客比Windows方便太多了，在加上一些骚操作，体验非常完美！！！\n\n- 配置一些hexo相关的快捷键（zsh）\n\n  ```shell\n  # alias hexo\n  alias hd=\"hexo clean && hexo g && hexo d\"\n  # alias hs=\"hexo clean && hexo g && hexo d && hexo s\"\n  alias hs=\"hexo clean && hexo g && hexo s\"\n  alias hnp=\"hexo new post $1\"\n  ```\n\n  敲上两个字母，就可以完成hexo的远程部署或者本地调试，体验非常良好。\n\n- 借助Windows和Hexo的互操作性，配置typora用linux命令启动\n\n  ```shell\n  # alias windows app\n  alias tp='func() { /mnt/d/Typora/Typora.exe $1 &;}; func'\n  ```\n\n  敲下tp，就可以直接启动typora.exe，在windows环境下书写markdown了。\n","source":"_posts/WSL中的骚操作.md","raw":"---\ntitle: WSL中的骚操作\ntags:\n  - WSL\n  - Linxu\n  - hexo\ncategories:\n  - [Linux]\ncover: \ntop_img: \ndate: 2022-06-27 14:27:44\nupdated: 2022-06-27 14:27:44\ndescription:\nkeywords:\n---\n\n## 配置oh-my-zsh\n\n- 启用zsh，并配上一系列插件，可以极大的提升工作效率。\n\n  ```shell\n  plugins=(z vi-mode zsh-completions web-search git zsh-autosuggestions zsh-syntax-highlighting rand-quote themes cp)\n  ```\n\n  特别是z 、 zsh-completions、zsh-autosuggestions、git都是特别好用的神器。\n\n\n\n\n\n# 关于Hexo\n\n​\t\t由于Linux出色的命令行终端体验，在Linux中部署Hexo静态博客比Windows方便太多了，在加上一些骚操作，体验非常完美！！！\n\n- 配置一些hexo相关的快捷键（zsh）\n\n  ```shell\n  # alias hexo\n  alias hd=\"hexo clean && hexo g && hexo d\"\n  # alias hs=\"hexo clean && hexo g && hexo d && hexo s\"\n  alias hs=\"hexo clean && hexo g && hexo s\"\n  alias hnp=\"hexo new post $1\"\n  ```\n\n  敲上两个字母，就可以完成hexo的远程部署或者本地调试，体验非常良好。\n\n- 借助Windows和Hexo的互操作性，配置typora用linux命令启动\n\n  ```shell\n  # alias windows app\n  alias tp='func() { /mnt/d/Typora/Typora.exe $1 &;}; func'\n  ```\n\n  敲下tp，就可以直接启动typora.exe，在windows环境下书写markdown了。\n","slug":"WSL中的骚操作","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpi0009d0uidq6jfzv7","content":"<h2 id=\"配置oh-my-zsh\"><a href=\"#配置oh-my-zsh\" class=\"headerlink\" title=\"配置oh-my-zsh\"></a>配置oh-my-zsh</h2><ul>\n<li><p>启用zsh，并配上一系列插件，可以极大的提升工作效率。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plugins=(z vi-mode zsh-completions web-search git zsh-autosuggestions zsh-syntax-highlighting rand-quote themes cp)</span><br></pre></td></tr></table></figure>\n\n<p>特别是z 、 zsh-completions、zsh-autosuggestions、git都是特别好用的神器。</p>\n</li>\n</ul>\n<h1 id=\"关于Hexo\"><a href=\"#关于Hexo\" class=\"headerlink\" title=\"关于Hexo\"></a>关于Hexo</h1><p>​\t\t由于Linux出色的命令行终端体验，在Linux中部署Hexo静态博客比Windows方便太多了，在加上一些骚操作，体验非常完美！！！</p>\n<ul>\n<li><p>配置一些hexo相关的快捷键（zsh）</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> hexo</span></span><br><span class=\"line\">alias hd=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> hs=<span class=\"string\">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo s&quot;</span></span></span><br><span class=\"line\">alias hs=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&quot;</span><br><span class=\"line\">alias hnp=&quot;hexo new post $1&quot;</span><br></pre></td></tr></table></figure>\n\n<p>敲上两个字母，就可以完成hexo的远程部署或者本地调试，体验非常良好。</p>\n</li>\n<li><p>借助Windows和Hexo的互操作性，配置typora用linux命令启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> windows app</span></span><br><span class=\"line\">alias tp=&#x27;func() &#123; /mnt/d/Typora/Typora.exe $1 &amp;;&#125;; func&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>敲下tp，就可以直接启动typora.exe，在windows环境下书写markdown了。</p>\n</li>\n</ul>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h2 id=\"配置oh-my-zsh\"><a href=\"#配置oh-my-zsh\" class=\"headerlink\" title=\"配置oh-my-zsh\"></a>配置oh-my-zsh</h2><ul>\n<li><p>启用zsh，并配上一系列插件，可以极大的提升工作效率。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plugins=(z vi-mode zsh-completions web-search git zsh-autosuggestions zsh-syntax-highlighting rand-quote themes cp)</span><br></pre></td></tr></table></figure>\n\n<p>特别是z 、 zsh-completions、zsh-autosuggestions、git都是特别好用的神器。</p>\n</li>\n</ul>\n<h1 id=\"关于Hexo\"><a href=\"#关于Hexo\" class=\"headerlink\" title=\"关于Hexo\"></a>关于Hexo</h1><p>​\t\t由于Linux出色的命令行终端体验，在Linux中部署Hexo静态博客比Windows方便太多了，在加上一些骚操作，体验非常完美！！！</p>\n<ul>\n<li><p>配置一些hexo相关的快捷键（zsh）</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> hexo</span></span><br><span class=\"line\">alias hd=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> hs=<span class=\"string\">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo s&quot;</span></span></span><br><span class=\"line\">alias hs=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&quot;</span><br><span class=\"line\">alias hnp=&quot;hexo new post $1&quot;</span><br></pre></td></tr></table></figure>\n\n<p>敲上两个字母，就可以完成hexo的远程部署或者本地调试，体验非常良好。</p>\n</li>\n<li><p>借助Windows和Hexo的互操作性，配置typora用linux命令启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">alias</span> windows app</span></span><br><span class=\"line\">alias tp=&#x27;func() &#123; /mnt/d/Typora/Typora.exe $1 &amp;;&#125;; func&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>敲下tp，就可以直接启动typora.exe，在windows环境下书写markdown了。</p>\n</li>\n</ul>\n"},{"title":"hexo+freenom+cloudflare遇到的一些坑","cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1grnkfb3zyvj31hc0tndku.jpg","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-06-27T03:30:32.000Z","updated":"2022-06-27T03:30:32.000Z","description":null,"keywords":"freenom、CloudFlare、clash","_content":"\n\n\n#### 使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问\n\n> ​\t\t原因就是 CloudFlare到 GitHub Pages这段 回源没有采用 TLS访问，解决的办法也很简单，在 CloudFlare中找到 SSL/TLS中的 概述，把默认的 灵活（加密浏览器与 Cloudflare 之间的流量）改为 完全（端到端加密，使用服务器上的自签名证书）即可。\n\n\n\n#### CFW（Clash For Windows）TUN 模式\n\n> 对于不遵循系统代理的软件，TUN 模式可以接管其流量并交由 CFW 处理，在 Windows 中，TUN 模式性能比 TAP 模式好\n\n> **NOTICE**\n\n> 近期大部分浏览器默认已经开启“**安全 DNS**”功能，此功能会影响 TUN 模式劫持 DNS 请求导致反推域名失败，请在浏览器设置中关闭此功能以保证 TUN 模式正常运行\n\n\n\n","source":"_posts/hexo+freenom+cloudflare遇到的一些坑.md","raw":"---\ntitle: hexo+freenom+cloudflare遇到的一些坑\ntags:\n  - hexo\n  - github pages\n  - CFW\ncategories:\n  - hexo\ncover: \ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-06-27 11:30:32\nupdated: 2022-06-27 11:30:32\ndescription:\nkeywords: freenom、CloudFlare、clash\n---\n\n\n\n#### 使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问\n\n> ​\t\t原因就是 CloudFlare到 GitHub Pages这段 回源没有采用 TLS访问，解决的办法也很简单，在 CloudFlare中找到 SSL/TLS中的 概述，把默认的 灵活（加密浏览器与 Cloudflare 之间的流量）改为 完全（端到端加密，使用服务器上的自签名证书）即可。\n\n\n\n#### CFW（Clash For Windows）TUN 模式\n\n> 对于不遵循系统代理的软件，TUN 模式可以接管其流量并交由 CFW 处理，在 Windows 中，TUN 模式性能比 TAP 模式好\n\n> **NOTICE**\n\n> 近期大部分浏览器默认已经开启“**安全 DNS**”功能，此功能会影响 TUN 模式劫持 DNS 请求导致反推域名失败，请在浏览器设置中关闭此功能以保证 TUN 模式正常运行\n\n\n\n","slug":"hexo+freenom+cloudflare遇到的一些坑","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpj000bd0uie88fhbvr","content":"<h4 id=\"使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github-pages无法访问\"><a href=\"#使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github-pages无法访问\" class=\"headerlink\" title=\"使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问\"></a>使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问</h4><blockquote>\n<p>​\t\t原因就是 CloudFlare到 GitHub Pages这段 回源没有采用 TLS访问，解决的办法也很简单，在 CloudFlare中找到 SSL&#x2F;TLS中的 概述，把默认的 灵活（加密浏览器与 Cloudflare 之间的流量）改为 完全（端到端加密，使用服务器上的自签名证书）即可。</p>\n</blockquote>\n<h4 id=\"CFW（Clash-For-Windows）TUN-模式\"><a href=\"#CFW（Clash-For-Windows）TUN-模式\" class=\"headerlink\" title=\"CFW（Clash For Windows）TUN 模式\"></a>CFW（Clash For Windows）TUN 模式</h4><blockquote>\n<p>对于不遵循系统代理的软件，TUN 模式可以接管其流量并交由 CFW 处理，在 Windows 中，TUN 模式性能比 TAP 模式好</p>\n</blockquote>\n<blockquote>\n<p><strong>NOTICE</strong></p>\n</blockquote>\n<blockquote>\n<p>近期大部分浏览器默认已经开启“<strong>安全 DNS</strong>”功能，此功能会影响 TUN 模式劫持 DNS 请求导致反推域名失败，请在浏览器设置中关闭此功能以保证 TUN 模式正常运行</p>\n</blockquote>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h4 id=\"使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github-pages无法访问\"><a href=\"#使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github-pages无法访问\" class=\"headerlink\" title=\"使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问\"></a>使用CloudFlare进行DNS解析，并启用CloudFlare的代理和CDN后，github pages无法访问</h4><blockquote>\n<p>​\t\t原因就是 CloudFlare到 GitHub Pages这段 回源没有采用 TLS访问，解决的办法也很简单，在 CloudFlare中找到 SSL&#x2F;TLS中的 概述，把默认的 灵活（加密浏览器与 Cloudflare 之间的流量）改为 完全（端到端加密，使用服务器上的自签名证书）即可。</p>\n</blockquote>\n<h4 id=\"CFW（Clash-For-Windows）TUN-模式\"><a href=\"#CFW（Clash-For-Windows）TUN-模式\" class=\"headerlink\" title=\"CFW（Clash For Windows）TUN 模式\"></a>CFW（Clash For Windows）TUN 模式</h4><blockquote>\n<p>对于不遵循系统代理的软件，TUN 模式可以接管其流量并交由 CFW 处理，在 Windows 中，TUN 模式性能比 TAP 模式好</p>\n</blockquote>\n<blockquote>\n<p><strong>NOTICE</strong></p>\n</blockquote>\n<blockquote>\n<p>近期大部分浏览器默认已经开启“<strong>安全 DNS</strong>”功能，此功能会影响 TUN 模式劫持 DNS 请求导致反推域名失败，请在浏览器设置中关闭此功能以保证 TUN 模式正常运行</p>\n</blockquote>\n"},{"title":"hexo的front-matter中的tags和categories","cover":"https://tva3.sinaimg.cn/large/0084aYsLgy1h22161jezaj30xc0f0dh1.jpg","top_img":null,"date":"2022-06-27T06:44:40.000Z","updated":"2022-06-27T06:44:40.000Z","description":null,"keywords":null,"_content":"\n## 分类和标签\n\n​\t\t只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 `Foo, Bar` 不等于 `Bar, Foo`；而标签没有顺序和层次。\n\n```\ncategories:\n- Diary\ntags:\n- PS3\n- Games\n```\n\n> 分类方法的分歧\n>\n> 如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：\n>\n> ```\n> categories:\n>   - Diary\n>   - Life\n> ```\n>\n> 会使分类`Life`成为`Diary`的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。\n>\n> 如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。\n>\n> ```\n> categories:\n> - [Diary, PlayStation]\n> - [Diary, Games]\n> - [Life]\n> ```\n>\n> 此时这篇文章同时包括三个分类： `PlayStation` 和 `Games` 分别都是父分类 `Diary` 的子分类，同时 `Life` 是一个没有子分类的分类。\n","source":"_posts/hexo的front-matter中的分类问题.md","raw":"---\ntitle: hexo的front-matter中的tags和categories\ntags:\n  - hexo \ncategories:\n  - [hexo]\ncover: \ntop_img: \ndate: 2022-06-27 14:44:40\nupdated: 2022-06-27 14:44:40\ndescription:\nkeywords:\n---\n\n## 分类和标签\n\n​\t\t只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 `Foo, Bar` 不等于 `Bar, Foo`；而标签没有顺序和层次。\n\n```\ncategories:\n- Diary\ntags:\n- PS3\n- Games\n```\n\n> 分类方法的分歧\n>\n> 如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：\n>\n> ```\n> categories:\n>   - Diary\n>   - Life\n> ```\n>\n> 会使分类`Life`成为`Diary`的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。\n>\n> 如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。\n>\n> ```\n> categories:\n> - [Diary, PlayStation]\n> - [Diary, Games]\n> - [Life]\n> ```\n>\n> 此时这篇文章同时包括三个分类： `PlayStation` 和 `Games` 分别都是父分类 `Diary` 的子分类，同时 `Life` 是一个没有子分类的分类。\n","slug":"hexo的front-matter中的分类问题","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpk000fd0uib55n3bf2","content":"<h2 id=\"分类和标签\"><a href=\"#分类和标签\" class=\"headerlink\" title=\"分类和标签\"></a>分类和标签</h2><p>​\t\t只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 <code>Foo, Bar</code> 不等于 <code>Bar, Foo</code>；而标签没有顺序和层次。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">- Diary</span><br><span class=\"line\">tags:</span><br><span class=\"line\">- PS3</span><br><span class=\"line\">- Games</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>分类方法的分歧</p>\n<p>如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">  - Diary</span><br><span class=\"line\">  - Life</span><br></pre></td></tr></table></figure>\n\n<p>会使分类<code>Life</code>成为<code>Diary</code>的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。</p>\n<p>如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">- [Diary, PlayStation]</span><br><span class=\"line\">- [Diary, Games]</span><br><span class=\"line\">- [Life]</span><br></pre></td></tr></table></figure>\n\n<p>此时这篇文章同时包括三个分类： <code>PlayStation</code> 和 <code>Games</code> 分别都是父分类 <code>Diary</code> 的子分类，同时 <code>Life</code> 是一个没有子分类的分类。</p>\n</blockquote>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h2 id=\"分类和标签\"><a href=\"#分类和标签\" class=\"headerlink\" title=\"分类和标签\"></a>分类和标签</h2><p>​\t\t只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 <code>Foo, Bar</code> 不等于 <code>Bar, Foo</code>；而标签没有顺序和层次。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">- Diary</span><br><span class=\"line\">tags:</span><br><span class=\"line\">- PS3</span><br><span class=\"line\">- Games</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>分类方法的分歧</p>\n<p>如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">  - Diary</span><br><span class=\"line\">  - Life</span><br></pre></td></tr></table></figure>\n\n<p>会使分类<code>Life</code>成为<code>Diary</code>的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。</p>\n<p>如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">categories:</span><br><span class=\"line\">- [Diary, PlayStation]</span><br><span class=\"line\">- [Diary, Games]</span><br><span class=\"line\">- [Life]</span><br></pre></td></tr></table></figure>\n\n<p>此时这篇文章同时包括三个分类： <code>PlayStation</code> 和 <code>Games</code> 分别都是父分类 <code>Diary</code> 的子分类，同时 <code>Life</code> 是一个没有子分类的分类。</p>\n</blockquote>\n"},{"title":"网易云音乐EMO语录","date":"2022-06-25T09:00:28.000Z","cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","top_img":null,"_content":"\n\n\n![cat](/img/cat.png)\n\n## 网易云EMO语录 - 纯属好玩\n\n\n\n- 小时候不理解老人晒太阳，一坐就是半天。长大了才明白，目之所及皆是回忆，心之所想皆是过往，眼之所看皆是遗憾。                                                   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——网易云热评《红莓花儿开》  \n\n- 未成定局的事就不要弄的人尽皆知 \n\n- 大胆点生活 你没那么多观众\n\n- 一个人在离家2000公里外的山沟里当兵，我坐在山坡上，看着田埂上的小孩放着风筝，大人在屁股后面跟着跑，笑容不知不觉爬上嘴角，太阳很刺眼，我很想家                                                                             ——网易云《Town of Windmill 》\n\n- 陪领导吃饭，把领导全部喝趴了，然后每个人都有人接回家，唯独我没有，一个人走到地铁站。当时走着去路边打车，被风一吹，终于忍不住了，直到吐干净，劲过去了，已经是凌晨四点。\n  摸摸手机，零条短信，零条来电。\n  只有那棵树整整支撑了我五个小时.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ——《身后的故乡》\n- 有一段时间觉得爸爸很古板很烦，后来有一天看到一句话“中年以后的男人，时常会觉得孤独，因为他一睁开眼睛，周围都是要依靠他的人，却没有他可以依靠的人”。 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ——网易云音乐热评 《体温》\n","source":"_posts/zhihu-emo-yulu.md","raw":"---\ntitle: 网易云音乐EMO语录\ndate: 2022-06-25 17:00:28\n\ncover: \ntop_img: \n\ntags: \n- EMO语录\ncategories:\n- \n\n---\n\n\n\n![cat](/img/cat.png)\n\n## 网易云EMO语录 - 纯属好玩\n\n\n\n- 小时候不理解老人晒太阳，一坐就是半天。长大了才明白，目之所及皆是回忆，心之所想皆是过往，眼之所看皆是遗憾。                                                   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——网易云热评《红莓花儿开》  \n\n- 未成定局的事就不要弄的人尽皆知 \n\n- 大胆点生活 你没那么多观众\n\n- 一个人在离家2000公里外的山沟里当兵，我坐在山坡上，看着田埂上的小孩放着风筝，大人在屁股后面跟着跑，笑容不知不觉爬上嘴角，太阳很刺眼，我很想家                                                                             ——网易云《Town of Windmill 》\n\n- 陪领导吃饭，把领导全部喝趴了，然后每个人都有人接回家，唯独我没有，一个人走到地铁站。当时走着去路边打车，被风一吹，终于忍不住了，直到吐干净，劲过去了，已经是凌晨四点。\n  摸摸手机，零条短信，零条来电。\n  只有那棵树整整支撑了我五个小时.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ——《身后的故乡》\n- 有一段时间觉得爸爸很古板很烦，后来有一天看到一句话“中年以后的男人，时常会觉得孤独，因为他一睁开眼睛，周围都是要依靠他的人，却没有他可以依靠的人”。 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ——网易云音乐热评 《体温》\n","slug":"zhihu-emo-yulu","published":1,"updated":"2022-07-02T06:18:18.357Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpl000gd0uifgnrdar4","content":"<p><img src=\"/img/cat.png\" alt=\"cat\"></p>\n<h2 id=\"网易云EMO语录-纯属好玩\"><a href=\"#网易云EMO语录-纯属好玩\" class=\"headerlink\" title=\"网易云EMO语录 - 纯属好玩\"></a>网易云EMO语录 - 纯属好玩</h2><ul>\n<li><p>小时候不理解老人晒太阳，一坐就是半天。长大了才明白，目之所及皆是回忆，心之所想皆是过往，眼之所看皆是遗憾。                                                   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——网易云热评《红莓花儿开》  </p>\n</li>\n<li><p>未成定局的事就不要弄的人尽皆知 </p>\n</li>\n<li><p>大胆点生活 你没那么多观众</p>\n</li>\n<li><p>一个人在离家2000公里外的山沟里当兵，我坐在山坡上，看着田埂上的小孩放着风筝，大人在屁股后面跟着跑，笑容不知不觉爬上嘴角，太阳很刺眼，我很想家                                                                             ——网易云《Town of Windmill 》</p>\n</li>\n<li><p>陪领导吃饭，把领导全部喝趴了，然后每个人都有人接回家，唯独我没有，一个人走到地铁站。当时走着去路边打车，被风一吹，终于忍不住了，直到吐干净，劲过去了，已经是凌晨四点。<br>摸摸手机，零条短信，零条来电。<br>只有那棵树整整支撑了我五个小时.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ——《身后的故乡》</p>\n</li>\n<li><p>有一段时间觉得爸爸很古板很烦，后来有一天看到一句话“中年以后的男人，时常会觉得孤独，因为他一睁开眼睛，周围都是要依靠他的人，却没有他可以依靠的人”。 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ——网易云音乐热评 《体温》</p>\n</li>\n</ul>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<p><img src=\"/img/cat.png\" alt=\"cat\"></p>\n<h2 id=\"网易云EMO语录-纯属好玩\"><a href=\"#网易云EMO语录-纯属好玩\" class=\"headerlink\" title=\"网易云EMO语录 - 纯属好玩\"></a>网易云EMO语录 - 纯属好玩</h2><ul>\n<li><p>小时候不理解老人晒太阳，一坐就是半天。长大了才明白，目之所及皆是回忆，心之所想皆是过往，眼之所看皆是遗憾。                                                   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——网易云热评《红莓花儿开》  </p>\n</li>\n<li><p>未成定局的事就不要弄的人尽皆知 </p>\n</li>\n<li><p>大胆点生活 你没那么多观众</p>\n</li>\n<li><p>一个人在离家2000公里外的山沟里当兵，我坐在山坡上，看着田埂上的小孩放着风筝，大人在屁股后面跟着跑，笑容不知不觉爬上嘴角，太阳很刺眼，我很想家                                                                             ——网易云《Town of Windmill 》</p>\n</li>\n<li><p>陪领导吃饭，把领导全部喝趴了，然后每个人都有人接回家，唯独我没有，一个人走到地铁站。当时走着去路边打车，被风一吹，终于忍不住了，直到吐干净，劲过去了，已经是凌晨四点。<br>摸摸手机，零条短信，零条来电。<br>只有那棵树整整支撑了我五个小时.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ——《身后的故乡》</p>\n</li>\n<li><p>有一段时间觉得爸爸很古板很烦，后来有一天看到一句话“中年以后的男人，时常会觉得孤独，因为他一睁开眼睛，周围都是要依靠他的人，却没有他可以依靠的人”。 \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ——网易云音乐热评 《体温》</p>\n</li>\n</ul>\n"},{"title":"HBase如何实现MVCC？","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-07-05T07:13:53.000Z","updated":"2022-07-05T07:13:53.000Z","cover":"https://tva4.sinaimg.cn/large/0084aYsLgy1gy51ogkzs9j31hc0m843g.jpg","description":null,"keywords":null,"_content":"\n## HBase的事务一致性保证\n\n**HBase 是一个强一致性数据库，不是“最终一致性”数据库，官网给出的介绍**\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001617770-e017f8b5-f8c4-4b1e-9721-a934e51df162.png)\n\n> - 每个值只出现在一个 Region\n> - 同一时间一个 Region 只分配给一个 RS\n> - 行内的 mutation 操作都是原子的\n\n**HBase 降低可用性提高了一致性。**\n\n当某台 RS fail 的时候，它管理的 Region failover 到其他 RS 时，需要根据 WAL（Write-Ahead Logging）来 redo (redolog，有一种日志文件叫做重做日志文件)，\n这时候进行 redo 的 Region 应该是不可用的，所以 HBase 降低了可用性，提高了一致性。\n\n设想一下，如果 redo 的 Region 能够响应请求，那么可用性提高了，则必然返回不一致的数据(因为 redo 可能还没完成)，那么 HBase 就降低一致性来提高可用性了。\n\n## HBase MVCC实现流程\n\n数据库为了保证一致性，在执行读写操作时往往会对数据做一些锁操作，比如两个client同时修改一条数据，我们无法确定最终的数据到底是哪一个client执行的结果，所以需要通过加锁来保证数据的一致性。\n\n但是锁操作的代价是比较大的，往往需要对加锁操作进行优化，主流的数据库Mysql，PG等都采用MVCC（多版本并发控制）来尽量避免使用不必要的锁以提高性能。本文主要介绍HBase的MVCC实现机制。\n\n在讲解HBase的MVCC之前，我们先了解一下现有的隔离级别，sql标准定义了4种隔离级别：\n\n> 1.read uncommitted    读未提交\n>\n> 2.read committed        读已提交\n>\n> 3.repeatable read        可重复读\n>\n> 4.serializable               可串行化\n\n**HBase不支持跨行事务，目前只支持单行级别的read uncommitted和read committed隔离级别。下面主要讲解HBase的read committed实现机制。**\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352637-015609d0-a12b-4a30-b262-8869b85c9b85.png)\n\nHBase采用LSM树结构，当client发送数据给regionserver端时，regionserver会将数据写入对应的region中，region是由一个memstore和多个storeFile组成，我们可以将memstore看做是一个skipList（跳表），所有写入的数据首先存放在memstore中，当memstore增大到指定的大小后，memstore中的数据flush到磁盘生成一个新的storeFile。\n\n### HBase的写入主要分两步：\n\n> **1.数据首先写入memstore**\n>\n> **2.数据写入WAL**\n>\n> 写入WAL的目的是为了持久化，防止memstore中的数据还未落盘时宕机造成的数据丢失，只有数据写入WAL成功之后才会认为该数据写入成功。\n>\n\n**下面我们考虑一个问题：**\n\n根据前面的讨论可知，假如数据已经写入memstore，但还没有写入WAL，此时认为该条数据还没有写成功，如果按照read committed隔离界别的定义，用户在进行查询操作时（尤其是查询memstore时），是不应该看到这条数据的，那HBase是如何区分正在写入和写入成功的数据呢？\n\n我们可以简单理解HBase在每次put操作时，都会为该操作分配一个id，可以类比mysql里面的事务id，是本次put的唯一标识，该id是region级别递增的，并且每个region还有一个MVCC控制中心，它还同时维护了两个pos：一个readpoint，一个writepoint。readpoint指向目前已经插入完成的id，当put操作完成时会更新readpoint；而writepoint指向目前正在插入的最大id，可以认为writepoint永远和最新申请的put的事务id是一样的。\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352762-41efd7fd-cfbd-4077-b218-c451a0d80e5c.png)\n\n**下面我们画图解释：**\n\n1.client插入数据时（这里的client我们可以理解为是regionserver），首先会向MVCC控制中心（MultiVersionConsistencyControl类）申请最新的事务id，其实就是返回write point++，每一个region各自拥有一个独立MVCC控制中心。\n\n2.假设初始状态read和write point都指向2，表明目前没有正在进行的put操作，新的put请求过来时，该region的MVCC控制中心向它自己维护的队列中插入一个新的entry，表示发起了一个新的put事务，并且第一步中将write point++。\n\n3.向client返回本次事务的id为3.\n\n4.client向memstore中插入数据，并且该数据附带本次事务的id号：3\n\n5.将本次的put操作写入WAL，写入成功后代表数据写入成功\n\n6.此时移动read point至3，表示任何MVCC值小于等于3的数据此时都可以被新创建的scan查询检索到。\n\nscan执行查询操作时，首先会向MVCC控制中心拿到目前的read point，然后对memstore和storeFiles进行查询，并过滤掉MVCC值大于本次scan MVCC的数据，保证了scan不会检索到还未提交成功的数据。这也说明HBase默认即为read committed级别，只不过是单行事务。\n\n\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352817-f8176f99-9cd4-477c-ac8e-153fdc023be7.png)\n\n真正业务场景下是会有很多个client同时写入的，此时不管向MVCC申请事务id还是更新read point都会涉及到多用户竞争的情况。如图client A B C分别写入了数据de/fg/hi，有可能A C已经写入成功了，而B还未执行完，下面我们看一下MVCC控制中心是如何协调并发请求的。\n\n先介绍一下MVCC控制中心–**MultiVersionConsistencyControl**类.\n\n**它包含了三个重要的成员：**\n\n1.memstoreRead：即我们提到的read point，记录可以已执行完毕的事务id\n\n2.memstoreWrite：即我们提到的write point，记录当前正在执行的最大事务id\n\n3.writeQueue：一个LinkedList，每一个元素是一个WriteEntry对象。\n\n**WriteEntry类包含两个属性：**\n\n1.writeNumber：事务id\n\n2.completed： True/False，数据写入成功后，写入线程会将其设置为True\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352718-eea3b630-fac5-4e86-8c07-7629c40cb12e.png)\n\n**下面详细解释MVCC控制中心针对多用户请求是如何做到同步的：**\n\n1.当一个client写入数据时，首先lock住MVCC控制中心的写入队列LinkedList，并向其插入一个新的entry，并将之前的write point+1赋予entry的num（write point+1也是同步操作），表示发起了一个新的写入事务。Flag值此时为False，表名目前事务还未完成，数据还在写入过程中。\n\n2.第二步client将数据写入memstore和WAL，此时认为数据已经持久化，可以结束该事务。\n\n3.client调用MVCC控制中心的completeMemstoreInsert(num)方法，该方法采用synchronized关键字，可以理解就是同步方法，将该num对应的entry的Flag设置为True，表示该entry对应的事务完成。但是单单将Flag设置为True是不够的，我们的最终目的是要让scan能够看到最新写入完成的数据，也就是说还需要更新read point。\n\n4.更新read point：同样在completeMemstoreInsert方法中完成，每一个client将其对应的entry的Flag设置为True后，都会去按照队列顺序，从read point开始遍历，假如遍历到的entry的Flag为True，则将read point更新至此位置，直到遇到Flag为False的位置时停止。也就是说每个client写入之后，都会尽力去将read point更新到目前最大连续的已经完成的事务的点（因为是有可能后开始的事务先于之前的事务完成）。\n\n看到这里，可能大家会想了，那假如事务A先于事务C，事务A还未完成，但事务C已经完成，事务C也只能将read point更新到事务A之前的位置，如果此时事务C返回写入成功，那按道理来说scan是应该能够查到事务C的数据，但是由于read point没有更新到C，就会造成一个现象就是：事务C明明提示执行成功，但是查询的时候却看不到。\n\n所以上面说的第4步其实还并没有完，client在执行completeMemstoreInsert后，还会执行一个waitForRead(entry)方法，参数的entry就是该事务对应的entry，该方法会一直等待read point大于等于该entry的num时才会返回，这样保证了事务有序完成。\n\n以上就是HBase写入时MVCC的工作流程，scan就比较好理解了，每一个scan请求都会申请一个readpoint，保证了该read point之后的事务不会被检索到。\n\n\n\n**说明**：HBase也同样支持read uncommitted级别，也就是我们在查询的时候将scan的mvcc值设置为一个超大的值，大于目前所有申请的MVCC值，那么查询时同样会返回正在写入的数据。\n\n","source":"_posts/bigdata/HBase如何实现MVCC.md","raw":"---\ntitle: HBase如何实现MVCC？\ntags:\n  - 'HBase'\n  - 'MVCC'\ncategories:\n  - [bigdata,HBase]\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-07-05 15:13:53\nupdated: 2022-07-05 15:13:53\ncover:\ndescription:\nkeywords:\n---\n\n## HBase的事务一致性保证\n\n**HBase 是一个强一致性数据库，不是“最终一致性”数据库，官网给出的介绍**\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001617770-e017f8b5-f8c4-4b1e-9721-a934e51df162.png)\n\n> - 每个值只出现在一个 Region\n> - 同一时间一个 Region 只分配给一个 RS\n> - 行内的 mutation 操作都是原子的\n\n**HBase 降低可用性提高了一致性。**\n\n当某台 RS fail 的时候，它管理的 Region failover 到其他 RS 时，需要根据 WAL（Write-Ahead Logging）来 redo (redolog，有一种日志文件叫做重做日志文件)，\n这时候进行 redo 的 Region 应该是不可用的，所以 HBase 降低了可用性，提高了一致性。\n\n设想一下，如果 redo 的 Region 能够响应请求，那么可用性提高了，则必然返回不一致的数据(因为 redo 可能还没完成)，那么 HBase 就降低一致性来提高可用性了。\n\n## HBase MVCC实现流程\n\n数据库为了保证一致性，在执行读写操作时往往会对数据做一些锁操作，比如两个client同时修改一条数据，我们无法确定最终的数据到底是哪一个client执行的结果，所以需要通过加锁来保证数据的一致性。\n\n但是锁操作的代价是比较大的，往往需要对加锁操作进行优化，主流的数据库Mysql，PG等都采用MVCC（多版本并发控制）来尽量避免使用不必要的锁以提高性能。本文主要介绍HBase的MVCC实现机制。\n\n在讲解HBase的MVCC之前，我们先了解一下现有的隔离级别，sql标准定义了4种隔离级别：\n\n> 1.read uncommitted    读未提交\n>\n> 2.read committed        读已提交\n>\n> 3.repeatable read        可重复读\n>\n> 4.serializable               可串行化\n\n**HBase不支持跨行事务，目前只支持单行级别的read uncommitted和read committed隔离级别。下面主要讲解HBase的read committed实现机制。**\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352637-015609d0-a12b-4a30-b262-8869b85c9b85.png)\n\nHBase采用LSM树结构，当client发送数据给regionserver端时，regionserver会将数据写入对应的region中，region是由一个memstore和多个storeFile组成，我们可以将memstore看做是一个skipList（跳表），所有写入的数据首先存放在memstore中，当memstore增大到指定的大小后，memstore中的数据flush到磁盘生成一个新的storeFile。\n\n### HBase的写入主要分两步：\n\n> **1.数据首先写入memstore**\n>\n> **2.数据写入WAL**\n>\n> 写入WAL的目的是为了持久化，防止memstore中的数据还未落盘时宕机造成的数据丢失，只有数据写入WAL成功之后才会认为该数据写入成功。\n>\n\n**下面我们考虑一个问题：**\n\n根据前面的讨论可知，假如数据已经写入memstore，但还没有写入WAL，此时认为该条数据还没有写成功，如果按照read committed隔离界别的定义，用户在进行查询操作时（尤其是查询memstore时），是不应该看到这条数据的，那HBase是如何区分正在写入和写入成功的数据呢？\n\n我们可以简单理解HBase在每次put操作时，都会为该操作分配一个id，可以类比mysql里面的事务id，是本次put的唯一标识，该id是region级别递增的，并且每个region还有一个MVCC控制中心，它还同时维护了两个pos：一个readpoint，一个writepoint。readpoint指向目前已经插入完成的id，当put操作完成时会更新readpoint；而writepoint指向目前正在插入的最大id，可以认为writepoint永远和最新申请的put的事务id是一样的。\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352762-41efd7fd-cfbd-4077-b218-c451a0d80e5c.png)\n\n**下面我们画图解释：**\n\n1.client插入数据时（这里的client我们可以理解为是regionserver），首先会向MVCC控制中心（MultiVersionConsistencyControl类）申请最新的事务id，其实就是返回write point++，每一个region各自拥有一个独立MVCC控制中心。\n\n2.假设初始状态read和write point都指向2，表明目前没有正在进行的put操作，新的put请求过来时，该region的MVCC控制中心向它自己维护的队列中插入一个新的entry，表示发起了一个新的put事务，并且第一步中将write point++。\n\n3.向client返回本次事务的id为3.\n\n4.client向memstore中插入数据，并且该数据附带本次事务的id号：3\n\n5.将本次的put操作写入WAL，写入成功后代表数据写入成功\n\n6.此时移动read point至3，表示任何MVCC值小于等于3的数据此时都可以被新创建的scan查询检索到。\n\nscan执行查询操作时，首先会向MVCC控制中心拿到目前的read point，然后对memstore和storeFiles进行查询，并过滤掉MVCC值大于本次scan MVCC的数据，保证了scan不会检索到还未提交成功的数据。这也说明HBase默认即为read committed级别，只不过是单行事务。\n\n\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352817-f8176f99-9cd4-477c-ac8e-153fdc023be7.png)\n\n真正业务场景下是会有很多个client同时写入的，此时不管向MVCC申请事务id还是更新read point都会涉及到多用户竞争的情况。如图client A B C分别写入了数据de/fg/hi，有可能A C已经写入成功了，而B还未执行完，下面我们看一下MVCC控制中心是如何协调并发请求的。\n\n先介绍一下MVCC控制中心–**MultiVersionConsistencyControl**类.\n\n**它包含了三个重要的成员：**\n\n1.memstoreRead：即我们提到的read point，记录可以已执行完毕的事务id\n\n2.memstoreWrite：即我们提到的write point，记录当前正在执行的最大事务id\n\n3.writeQueue：一个LinkedList，每一个元素是一个WriteEntry对象。\n\n**WriteEntry类包含两个属性：**\n\n1.writeNumber：事务id\n\n2.completed： True/False，数据写入成功后，写入线程会将其设置为True\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352718-eea3b630-fac5-4e86-8c07-7629c40cb12e.png)\n\n**下面详细解释MVCC控制中心针对多用户请求是如何做到同步的：**\n\n1.当一个client写入数据时，首先lock住MVCC控制中心的写入队列LinkedList，并向其插入一个新的entry，并将之前的write point+1赋予entry的num（write point+1也是同步操作），表示发起了一个新的写入事务。Flag值此时为False，表名目前事务还未完成，数据还在写入过程中。\n\n2.第二步client将数据写入memstore和WAL，此时认为数据已经持久化，可以结束该事务。\n\n3.client调用MVCC控制中心的completeMemstoreInsert(num)方法，该方法采用synchronized关键字，可以理解就是同步方法，将该num对应的entry的Flag设置为True，表示该entry对应的事务完成。但是单单将Flag设置为True是不够的，我们的最终目的是要让scan能够看到最新写入完成的数据，也就是说还需要更新read point。\n\n4.更新read point：同样在completeMemstoreInsert方法中完成，每一个client将其对应的entry的Flag设置为True后，都会去按照队列顺序，从read point开始遍历，假如遍历到的entry的Flag为True，则将read point更新至此位置，直到遇到Flag为False的位置时停止。也就是说每个client写入之后，都会尽力去将read point更新到目前最大连续的已经完成的事务的点（因为是有可能后开始的事务先于之前的事务完成）。\n\n看到这里，可能大家会想了，那假如事务A先于事务C，事务A还未完成，但事务C已经完成，事务C也只能将read point更新到事务A之前的位置，如果此时事务C返回写入成功，那按道理来说scan是应该能够查到事务C的数据，但是由于read point没有更新到C，就会造成一个现象就是：事务C明明提示执行成功，但是查询的时候却看不到。\n\n所以上面说的第4步其实还并没有完，client在执行completeMemstoreInsert后，还会执行一个waitForRead(entry)方法，参数的entry就是该事务对应的entry，该方法会一直等待read point大于等于该entry的num时才会返回，这样保证了事务有序完成。\n\n以上就是HBase写入时MVCC的工作流程，scan就比较好理解了，每一个scan请求都会申请一个readpoint，保证了该read point之后的事务不会被检索到。\n\n\n\n**说明**：HBase也同样支持read uncommitted级别，也就是我们在查询的时候将scan的mvcc值设置为一个超大的值，大于目前所有申请的MVCC值，那么查询时同样会返回正在写入的数据。\n\n","slug":"bigdata/HBase如何实现MVCC","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpo000kd0ui04aqh3dn","content":"<h2 id=\"HBase的事务一致性保证\"><a href=\"#HBase的事务一致性保证\" class=\"headerlink\" title=\"HBase的事务一致性保证\"></a>HBase的事务一致性保证</h2><p><strong>HBase 是一个强一致性数据库，不是“最终一致性”数据库，官网给出的介绍</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001617770-e017f8b5-f8c4-4b1e-9721-a934e51df162.png\" alt=\"img\"></p>\n<blockquote>\n<ul>\n<li>每个值只出现在一个 Region</li>\n<li>同一时间一个 Region 只分配给一个 RS</li>\n<li>行内的 mutation 操作都是原子的</li>\n</ul>\n</blockquote>\n<p><strong>HBase 降低可用性提高了一致性。</strong></p>\n<p>当某台 RS fail 的时候，它管理的 Region failover 到其他 RS 时，需要根据 WAL（Write-Ahead Logging）来 redo (redolog，有一种日志文件叫做重做日志文件)，<br>这时候进行 redo 的 Region 应该是不可用的，所以 HBase 降低了可用性，提高了一致性。</p>\n<p>设想一下，如果 redo 的 Region 能够响应请求，那么可用性提高了，则必然返回不一致的数据(因为 redo 可能还没完成)，那么 HBase 就降低一致性来提高可用性了。</p>\n<h2 id=\"HBase-MVCC实现流程\"><a href=\"#HBase-MVCC实现流程\" class=\"headerlink\" title=\"HBase MVCC实现流程\"></a>HBase MVCC实现流程</h2><p>数据库为了保证一致性，在执行读写操作时往往会对数据做一些锁操作，比如两个client同时修改一条数据，我们无法确定最终的数据到底是哪一个client执行的结果，所以需要通过加锁来保证数据的一致性。</p>\n<p>但是锁操作的代价是比较大的，往往需要对加锁操作进行优化，主流的数据库Mysql，PG等都采用MVCC（多版本并发控制）来尽量避免使用不必要的锁以提高性能。本文主要介绍HBase的MVCC实现机制。</p>\n<p>在讲解HBase的MVCC之前，我们先了解一下现有的隔离级别，sql标准定义了4种隔离级别：</p>\n<blockquote>\n<p>1.read uncommitted    读未提交</p>\n<p>2.read committed        读已提交</p>\n<p>3.repeatable read        可重复读</p>\n<p>4.serializable               可串行化</p>\n</blockquote>\n<p><strong>HBase不支持跨行事务，目前只支持单行级别的read uncommitted和read committed隔离级别。下面主要讲解HBase的read committed实现机制。</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352637-015609d0-a12b-4a30-b262-8869b85c9b85.png\" alt=\"img\"></p>\n<p>HBase采用LSM树结构，当client发送数据给regionserver端时，regionserver会将数据写入对应的region中，region是由一个memstore和多个storeFile组成，我们可以将memstore看做是一个skipList（跳表），所有写入的数据首先存放在memstore中，当memstore增大到指定的大小后，memstore中的数据flush到磁盘生成一个新的storeFile。</p>\n<h3 id=\"HBase的写入主要分两步：\"><a href=\"#HBase的写入主要分两步：\" class=\"headerlink\" title=\"HBase的写入主要分两步：\"></a>HBase的写入主要分两步：</h3><blockquote>\n<p><strong>1.数据首先写入memstore</strong></p>\n<p><strong>2.数据写入WAL</strong></p>\n<p>写入WAL的目的是为了持久化，防止memstore中的数据还未落盘时宕机造成的数据丢失，只有数据写入WAL成功之后才会认为该数据写入成功。</p>\n</blockquote>\n<p><strong>下面我们考虑一个问题：</strong></p>\n<p>根据前面的讨论可知，假如数据已经写入memstore，但还没有写入WAL，此时认为该条数据还没有写成功，如果按照read committed隔离界别的定义，用户在进行查询操作时（尤其是查询memstore时），是不应该看到这条数据的，那HBase是如何区分正在写入和写入成功的数据呢？</p>\n<p>我们可以简单理解HBase在每次put操作时，都会为该操作分配一个id，可以类比mysql里面的事务id，是本次put的唯一标识，该id是region级别递增的，并且每个region还有一个MVCC控制中心，它还同时维护了两个pos：一个readpoint，一个writepoint。readpoint指向目前已经插入完成的id，当put操作完成时会更新readpoint；而writepoint指向目前正在插入的最大id，可以认为writepoint永远和最新申请的put的事务id是一样的。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352762-41efd7fd-cfbd-4077-b218-c451a0d80e5c.png\" alt=\"img\"></p>\n<p><strong>下面我们画图解释：</strong></p>\n<p>1.client插入数据时（这里的client我们可以理解为是regionserver），首先会向MVCC控制中心（MultiVersionConsistencyControl类）申请最新的事务id，其实就是返回write point++，每一个region各自拥有一个独立MVCC控制中心。</p>\n<p>2.假设初始状态read和write point都指向2，表明目前没有正在进行的put操作，新的put请求过来时，该region的MVCC控制中心向它自己维护的队列中插入一个新的entry，表示发起了一个新的put事务，并且第一步中将write point++。</p>\n<p>3.向client返回本次事务的id为3.</p>\n<p>4.client向memstore中插入数据，并且该数据附带本次事务的id号：3</p>\n<p>5.将本次的put操作写入WAL，写入成功后代表数据写入成功</p>\n<p>6.此时移动read point至3，表示任何MVCC值小于等于3的数据此时都可以被新创建的scan查询检索到。</p>\n<p>scan执行查询操作时，首先会向MVCC控制中心拿到目前的read point，然后对memstore和storeFiles进行查询，并过滤掉MVCC值大于本次scan MVCC的数据，保证了scan不会检索到还未提交成功的数据。这也说明HBase默认即为read committed级别，只不过是单行事务。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352817-f8176f99-9cd4-477c-ac8e-153fdc023be7.png\" alt=\"img\"></p>\n<p>真正业务场景下是会有很多个client同时写入的，此时不管向MVCC申请事务id还是更新read point都会涉及到多用户竞争的情况。如图client A B C分别写入了数据de&#x2F;fg&#x2F;hi，有可能A C已经写入成功了，而B还未执行完，下面我们看一下MVCC控制中心是如何协调并发请求的。</p>\n<p>先介绍一下MVCC控制中心–<strong>MultiVersionConsistencyControl</strong>类.</p>\n<p><strong>它包含了三个重要的成员：</strong></p>\n<p>1.memstoreRead：即我们提到的read point，记录可以已执行完毕的事务id</p>\n<p>2.memstoreWrite：即我们提到的write point，记录当前正在执行的最大事务id</p>\n<p>3.writeQueue：一个LinkedList，每一个元素是一个WriteEntry对象。</p>\n<p><strong>WriteEntry类包含两个属性：</strong></p>\n<p>1.writeNumber：事务id</p>\n<p>2.completed： True&#x2F;False，数据写入成功后，写入线程会将其设置为True</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352718-eea3b630-fac5-4e86-8c07-7629c40cb12e.png\" alt=\"img\"></p>\n<p><strong>下面详细解释MVCC控制中心针对多用户请求是如何做到同步的：</strong></p>\n<p>1.当一个client写入数据时，首先lock住MVCC控制中心的写入队列LinkedList，并向其插入一个新的entry，并将之前的write point+1赋予entry的num（write point+1也是同步操作），表示发起了一个新的写入事务。Flag值此时为False，表名目前事务还未完成，数据还在写入过程中。</p>\n<p>2.第二步client将数据写入memstore和WAL，此时认为数据已经持久化，可以结束该事务。</p>\n<p>3.client调用MVCC控制中心的completeMemstoreInsert(num)方法，该方法采用synchronized关键字，可以理解就是同步方法，将该num对应的entry的Flag设置为True，表示该entry对应的事务完成。但是单单将Flag设置为True是不够的，我们的最终目的是要让scan能够看到最新写入完成的数据，也就是说还需要更新read point。</p>\n<p>4.更新read point：同样在completeMemstoreInsert方法中完成，每一个client将其对应的entry的Flag设置为True后，都会去按照队列顺序，从read point开始遍历，假如遍历到的entry的Flag为True，则将read point更新至此位置，直到遇到Flag为False的位置时停止。也就是说每个client写入之后，都会尽力去将read point更新到目前最大连续的已经完成的事务的点（因为是有可能后开始的事务先于之前的事务完成）。</p>\n<p>看到这里，可能大家会想了，那假如事务A先于事务C，事务A还未完成，但事务C已经完成，事务C也只能将read point更新到事务A之前的位置，如果此时事务C返回写入成功，那按道理来说scan是应该能够查到事务C的数据，但是由于read point没有更新到C，就会造成一个现象就是：事务C明明提示执行成功，但是查询的时候却看不到。</p>\n<p>所以上面说的第4步其实还并没有完，client在执行completeMemstoreInsert后，还会执行一个waitForRead(entry)方法，参数的entry就是该事务对应的entry，该方法会一直等待read point大于等于该entry的num时才会返回，这样保证了事务有序完成。</p>\n<p>以上就是HBase写入时MVCC的工作流程，scan就比较好理解了，每一个scan请求都会申请一个readpoint，保证了该read point之后的事务不会被检索到。</p>\n<p><strong>说明</strong>：HBase也同样支持read uncommitted级别，也就是我们在查询的时候将scan的mvcc值设置为一个超大的值，大于目前所有申请的MVCC值，那么查询时同样会返回正在写入的数据。</p>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h2 id=\"HBase的事务一致性保证\"><a href=\"#HBase的事务一致性保证\" class=\"headerlink\" title=\"HBase的事务一致性保证\"></a>HBase的事务一致性保证</h2><p><strong>HBase 是一个强一致性数据库，不是“最终一致性”数据库，官网给出的介绍</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001617770-e017f8b5-f8c4-4b1e-9721-a934e51df162.png\" alt=\"img\"></p>\n<blockquote>\n<ul>\n<li>每个值只出现在一个 Region</li>\n<li>同一时间一个 Region 只分配给一个 RS</li>\n<li>行内的 mutation 操作都是原子的</li>\n</ul>\n</blockquote>\n<p><strong>HBase 降低可用性提高了一致性。</strong></p>\n<p>当某台 RS fail 的时候，它管理的 Region failover 到其他 RS 时，需要根据 WAL（Write-Ahead Logging）来 redo (redolog，有一种日志文件叫做重做日志文件)，<br>这时候进行 redo 的 Region 应该是不可用的，所以 HBase 降低了可用性，提高了一致性。</p>\n<p>设想一下，如果 redo 的 Region 能够响应请求，那么可用性提高了，则必然返回不一致的数据(因为 redo 可能还没完成)，那么 HBase 就降低一致性来提高可用性了。</p>\n<h2 id=\"HBase-MVCC实现流程\"><a href=\"#HBase-MVCC实现流程\" class=\"headerlink\" title=\"HBase MVCC实现流程\"></a>HBase MVCC实现流程</h2><p>数据库为了保证一致性，在执行读写操作时往往会对数据做一些锁操作，比如两个client同时修改一条数据，我们无法确定最终的数据到底是哪一个client执行的结果，所以需要通过加锁来保证数据的一致性。</p>\n<p>但是锁操作的代价是比较大的，往往需要对加锁操作进行优化，主流的数据库Mysql，PG等都采用MVCC（多版本并发控制）来尽量避免使用不必要的锁以提高性能。本文主要介绍HBase的MVCC实现机制。</p>\n<p>在讲解HBase的MVCC之前，我们先了解一下现有的隔离级别，sql标准定义了4种隔离级别：</p>\n<blockquote>\n<p>1.read uncommitted    读未提交</p>\n<p>2.read committed        读已提交</p>\n<p>3.repeatable read        可重复读</p>\n<p>4.serializable               可串行化</p>\n</blockquote>\n<p><strong>HBase不支持跨行事务，目前只支持单行级别的read uncommitted和read committed隔离级别。下面主要讲解HBase的read committed实现机制。</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352637-015609d0-a12b-4a30-b262-8869b85c9b85.png\" alt=\"img\"></p>\n<p>HBase采用LSM树结构，当client发送数据给regionserver端时，regionserver会将数据写入对应的region中，region是由一个memstore和多个storeFile组成，我们可以将memstore看做是一个skipList（跳表），所有写入的数据首先存放在memstore中，当memstore增大到指定的大小后，memstore中的数据flush到磁盘生成一个新的storeFile。</p>\n<h3 id=\"HBase的写入主要分两步：\"><a href=\"#HBase的写入主要分两步：\" class=\"headerlink\" title=\"HBase的写入主要分两步：\"></a>HBase的写入主要分两步：</h3><blockquote>\n<p><strong>1.数据首先写入memstore</strong></p>\n<p><strong>2.数据写入WAL</strong></p>\n<p>写入WAL的目的是为了持久化，防止memstore中的数据还未落盘时宕机造成的数据丢失，只有数据写入WAL成功之后才会认为该数据写入成功。</p>\n</blockquote>\n<p><strong>下面我们考虑一个问题：</strong></p>\n<p>根据前面的讨论可知，假如数据已经写入memstore，但还没有写入WAL，此时认为该条数据还没有写成功，如果按照read committed隔离界别的定义，用户在进行查询操作时（尤其是查询memstore时），是不应该看到这条数据的，那HBase是如何区分正在写入和写入成功的数据呢？</p>\n<p>我们可以简单理解HBase在每次put操作时，都会为该操作分配一个id，可以类比mysql里面的事务id，是本次put的唯一标识，该id是region级别递增的，并且每个region还有一个MVCC控制中心，它还同时维护了两个pos：一个readpoint，一个writepoint。readpoint指向目前已经插入完成的id，当put操作完成时会更新readpoint；而writepoint指向目前正在插入的最大id，可以认为writepoint永远和最新申请的put的事务id是一样的。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352762-41efd7fd-cfbd-4077-b218-c451a0d80e5c.png\" alt=\"img\"></p>\n<p><strong>下面我们画图解释：</strong></p>\n<p>1.client插入数据时（这里的client我们可以理解为是regionserver），首先会向MVCC控制中心（MultiVersionConsistencyControl类）申请最新的事务id，其实就是返回write point++，每一个region各自拥有一个独立MVCC控制中心。</p>\n<p>2.假设初始状态read和write point都指向2，表明目前没有正在进行的put操作，新的put请求过来时，该region的MVCC控制中心向它自己维护的队列中插入一个新的entry，表示发起了一个新的put事务，并且第一步中将write point++。</p>\n<p>3.向client返回本次事务的id为3.</p>\n<p>4.client向memstore中插入数据，并且该数据附带本次事务的id号：3</p>\n<p>5.将本次的put操作写入WAL，写入成功后代表数据写入成功</p>\n<p>6.此时移动read point至3，表示任何MVCC值小于等于3的数据此时都可以被新创建的scan查询检索到。</p>\n<p>scan执行查询操作时，首先会向MVCC控制中心拿到目前的read point，然后对memstore和storeFiles进行查询，并过滤掉MVCC值大于本次scan MVCC的数据，保证了scan不会检索到还未提交成功的数据。这也说明HBase默认即为read committed级别，只不过是单行事务。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352817-f8176f99-9cd4-477c-ac8e-153fdc023be7.png\" alt=\"img\"></p>\n<p>真正业务场景下是会有很多个client同时写入的，此时不管向MVCC申请事务id还是更新read point都会涉及到多用户竞争的情况。如图client A B C分别写入了数据de&#x2F;fg&#x2F;hi，有可能A C已经写入成功了，而B还未执行完，下面我们看一下MVCC控制中心是如何协调并发请求的。</p>\n<p>先介绍一下MVCC控制中心–<strong>MultiVersionConsistencyControl</strong>类.</p>\n<p><strong>它包含了三个重要的成员：</strong></p>\n<p>1.memstoreRead：即我们提到的read point，记录可以已执行完毕的事务id</p>\n<p>2.memstoreWrite：即我们提到的write point，记录当前正在执行的最大事务id</p>\n<p>3.writeQueue：一个LinkedList，每一个元素是一个WriteEntry对象。</p>\n<p><strong>WriteEntry类包含两个属性：</strong></p>\n<p>1.writeNumber：事务id</p>\n<p>2.completed： True&#x2F;False，数据写入成功后，写入线程会将其设置为True</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657001352718-eea3b630-fac5-4e86-8c07-7629c40cb12e.png\" alt=\"img\"></p>\n<p><strong>下面详细解释MVCC控制中心针对多用户请求是如何做到同步的：</strong></p>\n<p>1.当一个client写入数据时，首先lock住MVCC控制中心的写入队列LinkedList，并向其插入一个新的entry，并将之前的write point+1赋予entry的num（write point+1也是同步操作），表示发起了一个新的写入事务。Flag值此时为False，表名目前事务还未完成，数据还在写入过程中。</p>\n<p>2.第二步client将数据写入memstore和WAL，此时认为数据已经持久化，可以结束该事务。</p>\n<p>3.client调用MVCC控制中心的completeMemstoreInsert(num)方法，该方法采用synchronized关键字，可以理解就是同步方法，将该num对应的entry的Flag设置为True，表示该entry对应的事务完成。但是单单将Flag设置为True是不够的，我们的最终目的是要让scan能够看到最新写入完成的数据，也就是说还需要更新read point。</p>\n<p>4.更新read point：同样在completeMemstoreInsert方法中完成，每一个client将其对应的entry的Flag设置为True后，都会去按照队列顺序，从read point开始遍历，假如遍历到的entry的Flag为True，则将read point更新至此位置，直到遇到Flag为False的位置时停止。也就是说每个client写入之后，都会尽力去将read point更新到目前最大连续的已经完成的事务的点（因为是有可能后开始的事务先于之前的事务完成）。</p>\n<p>看到这里，可能大家会想了，那假如事务A先于事务C，事务A还未完成，但事务C已经完成，事务C也只能将read point更新到事务A之前的位置，如果此时事务C返回写入成功，那按道理来说scan是应该能够查到事务C的数据，但是由于read point没有更新到C，就会造成一个现象就是：事务C明明提示执行成功，但是查询的时候却看不到。</p>\n<p>所以上面说的第4步其实还并没有完，client在执行completeMemstoreInsert后，还会执行一个waitForRead(entry)方法，参数的entry就是该事务对应的entry，该方法会一直等待read point大于等于该entry的num时才会返回，这样保证了事务有序完成。</p>\n<p>以上就是HBase写入时MVCC的工作流程，scan就比较好理解了，每一个scan请求都会申请一个readpoint，保证了该read point之后的事务不会被检索到。</p>\n<p><strong>说明</strong>：HBase也同样支持read uncommitted级别，也就是我们在查询的时候将scan的mvcc值设置为一个超大的值，大于目前所有申请的MVCC值，那么查询时同样会返回正在写入的数据。</p>\n"},{"title":"Yarn容量调度器和公平调度器的异同","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-07-05T10:20:39.000Z","updated":"2022-07-05T10:20:39.000Z","cover":"https://tva4.sinaimg.cn/large/0084aYsLgy1gy51ogkzs9j31hc0m843g.jpg","description":null,"keywords":null,"_content":"\n> 理想情况下，我们应用对Yarn资源的请求应该立刻得到满足，但现实情况资源往往是有限的，特别是在一个很繁忙的集群，一个应用资源的请求经常需要等待一段时间才能的到相应的资源。在Yarn中，负责给应用分配资源的就是Scheduler。其实调度本身就是一个难题，很难找到一个完美的策略可以解决所有的应用场景。为此，Yarn提供了多种调度器和可配置的策略供我们选择。\n>\n> ## Capacity Scheduler(容量调度器)\n>\n> 对于Capacity调度器，有一个专门的队列用来运行小任务，但是为小任务专门设置一个队列会预先占用一定的集群资源，这就导致大任务的执行时间会落后于使用FIFO调度器时的时间。用这个资源调度器，就可以配置yarn资源队列，这个后面后介绍用到。\n>\n> ## Fair Scheduler(公平调度器)\n>\n> **Fair调度器的设计目标是为所有的应用分配公平的资源**（对公平的定义可以通过参数来设置）。当然，公平调度在也可以在多个队列间工作。\n>\n> 举个例子，假设有两个用户A和B，他们分别拥有一个队列。当A启动一个job而B没有任务时，A会获得全部集群资源；当B启动一个job后，A的job会继续运行，不过一会儿之后两个任务会各自获得一半的集群资源。如果此时B再启动第二个job并且其它job还在运行，则它将会和B的第一个job共享B这个队列的资源，也就是B的两个job会用于四分之一的集群资源，而A的job仍然用于集群一半的资源，结果就是资源最终在两个用户之间平等的共享。\n>\n> **在Fair调度器中，我们不需要预先占用一定的系统资源，Fair调度器会为所有运行的job动态的调整系统资源。**当第一个大job提交时，只有这一个job在运行，此时它获得了所有集群资源；当第二个小任务提交后，Fair调度器会分配一半资源给这个小任务，让这两个任务公平的共享集群资源。 \n>\n> a) 公平调度器，就是能够共享整个集群的资源 \n>\n> b) 不用预先占用资源，每一个作业都是共享的 \n>\n> c) 每当提交一个作业的时候，就会占用整个资源。如果再提交一个作业，那么第一个作业就会分给第二个作业一部分资源，第一个作业也就释放一部分资源。再提交其他的作业时，也同理。。。。也就是说每一个作业进来，都有机会获取资源。\n\n# Yarn调度器和调度算法\n\n目前，Hadoop作业调度器主要有三种: FIFO、容量(Capacity Scheduler)和公平(Fair Scheduler)。\n\nApache Hadoop-1.x默认调度器是FIFO；\n\nApache hadoop-2.7.2之后默认调度器是容量调度器Capacity Scheduler\n\nApache hadoop-3.2.2默认调度器是公平调度器Fair Scheduler。\n\nCDH 框架默认调度器是 Fair Scheduler。\n\n## 一、容量调度器(Capacity Scheduler)\n\n### 1. 容量调度器特点\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019460282-1d05ddc1-06a3-4931-b8ac-96ededf60c3b.png)\n\n1. 多队列 ：每个队列可配置一定的资源量，每个队列内部采用FIFO调度策略；\n2. 容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；\n3. 灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；\n4. 多租户：\n\na. 支持多用户共享集群和多应用程序同时运行；\n\nb. 为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。\n\n### 2. 容量调度器资源分配算法\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018164262-f5e7e270-fc4c-41e8-ba92-cac2a508bcdb.png)\n\n## 二、公平调度器(Fair Scheduler)\n\n### 1. 公平调度器特点\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019558958-d7f020f1-230e-4855-92f8-11c473379a18.png)\n\n### 与容量调度器相同点:\n\n1. 多队列 ：每个队列可配置一定的资源量。\n2. 容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；\n3. 灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；\n4. 多租户：\n\n1. 1.  支持多用户共享集群和多应用程序同时运行；\n   2.  为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。\n\n### 与容量调度器不同点:\n\n#### 核心调度策略不同\n\n容量调度器： 优先选择资源利用率低的队列；\n\n公平调度器：优先选择对资源缺额比例大的。\n\n#### 每个队列可以单独设置资源分配方式\n\n**容量调度器：FIFO、DRF(内存+CPU)；**\n\n**公平调度器：FIFO、FAIR、DRF。**\n\n#### 队列任务平行度不同\n\n公平调度器：多队列，同一时间队列中多任务按照缺额执行，队列并行度大于队列个数\n\n容量调度器：多队列，同一时间队列中只有一个任务执行，队列中按照先进先出分配任务，队列并行度等于队列个数。\n\n## Fair策略\n\nFair策略是公平调度器默认的队列分配方式\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018698231-b7ca6c87-74ef-4128-8c05-89fbbab59881.png)\n","source":"_posts/bigdata/yarn公平和容量调度器的异同.md","raw":"---\ntitle: Yarn容量调度器和公平调度器的异同\ntags:\n  - 'yarn'\n  - 'hadoop'\ncategories:\n  - [bigdata,yarn]\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-07-05 18:20:39\nupdated: 2022-07-05 18:20:39\ncover:\ndescription:\nkeywords:\n---\n\n> 理想情况下，我们应用对Yarn资源的请求应该立刻得到满足，但现实情况资源往往是有限的，特别是在一个很繁忙的集群，一个应用资源的请求经常需要等待一段时间才能的到相应的资源。在Yarn中，负责给应用分配资源的就是Scheduler。其实调度本身就是一个难题，很难找到一个完美的策略可以解决所有的应用场景。为此，Yarn提供了多种调度器和可配置的策略供我们选择。\n>\n> ## Capacity Scheduler(容量调度器)\n>\n> 对于Capacity调度器，有一个专门的队列用来运行小任务，但是为小任务专门设置一个队列会预先占用一定的集群资源，这就导致大任务的执行时间会落后于使用FIFO调度器时的时间。用这个资源调度器，就可以配置yarn资源队列，这个后面后介绍用到。\n>\n> ## Fair Scheduler(公平调度器)\n>\n> **Fair调度器的设计目标是为所有的应用分配公平的资源**（对公平的定义可以通过参数来设置）。当然，公平调度在也可以在多个队列间工作。\n>\n> 举个例子，假设有两个用户A和B，他们分别拥有一个队列。当A启动一个job而B没有任务时，A会获得全部集群资源；当B启动一个job后，A的job会继续运行，不过一会儿之后两个任务会各自获得一半的集群资源。如果此时B再启动第二个job并且其它job还在运行，则它将会和B的第一个job共享B这个队列的资源，也就是B的两个job会用于四分之一的集群资源，而A的job仍然用于集群一半的资源，结果就是资源最终在两个用户之间平等的共享。\n>\n> **在Fair调度器中，我们不需要预先占用一定的系统资源，Fair调度器会为所有运行的job动态的调整系统资源。**当第一个大job提交时，只有这一个job在运行，此时它获得了所有集群资源；当第二个小任务提交后，Fair调度器会分配一半资源给这个小任务，让这两个任务公平的共享集群资源。 \n>\n> a) 公平调度器，就是能够共享整个集群的资源 \n>\n> b) 不用预先占用资源，每一个作业都是共享的 \n>\n> c) 每当提交一个作业的时候，就会占用整个资源。如果再提交一个作业，那么第一个作业就会分给第二个作业一部分资源，第一个作业也就释放一部分资源。再提交其他的作业时，也同理。。。。也就是说每一个作业进来，都有机会获取资源。\n\n# Yarn调度器和调度算法\n\n目前，Hadoop作业调度器主要有三种: FIFO、容量(Capacity Scheduler)和公平(Fair Scheduler)。\n\nApache Hadoop-1.x默认调度器是FIFO；\n\nApache hadoop-2.7.2之后默认调度器是容量调度器Capacity Scheduler\n\nApache hadoop-3.2.2默认调度器是公平调度器Fair Scheduler。\n\nCDH 框架默认调度器是 Fair Scheduler。\n\n## 一、容量调度器(Capacity Scheduler)\n\n### 1. 容量调度器特点\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019460282-1d05ddc1-06a3-4931-b8ac-96ededf60c3b.png)\n\n1. 多队列 ：每个队列可配置一定的资源量，每个队列内部采用FIFO调度策略；\n2. 容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；\n3. 灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；\n4. 多租户：\n\na. 支持多用户共享集群和多应用程序同时运行；\n\nb. 为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。\n\n### 2. 容量调度器资源分配算法\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018164262-f5e7e270-fc4c-41e8-ba92-cac2a508bcdb.png)\n\n## 二、公平调度器(Fair Scheduler)\n\n### 1. 公平调度器特点\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019558958-d7f020f1-230e-4855-92f8-11c473379a18.png)\n\n### 与容量调度器相同点:\n\n1. 多队列 ：每个队列可配置一定的资源量。\n2. 容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；\n3. 灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；\n4. 多租户：\n\n1. 1.  支持多用户共享集群和多应用程序同时运行；\n   2.  为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。\n\n### 与容量调度器不同点:\n\n#### 核心调度策略不同\n\n容量调度器： 优先选择资源利用率低的队列；\n\n公平调度器：优先选择对资源缺额比例大的。\n\n#### 每个队列可以单独设置资源分配方式\n\n**容量调度器：FIFO、DRF(内存+CPU)；**\n\n**公平调度器：FIFO、FAIR、DRF。**\n\n#### 队列任务平行度不同\n\n公平调度器：多队列，同一时间队列中多任务按照缺额执行，队列并行度大于队列个数\n\n容量调度器：多队列，同一时间队列中只有一个任务执行，队列中按照先进先出分配任务，队列并行度等于队列个数。\n\n## Fair策略\n\nFair策略是公平调度器默认的队列分配方式\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018698231-b7ca6c87-74ef-4128-8c05-89fbbab59881.png)\n","slug":"bigdata/yarn公平和容量调度器的异同","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpp000md0uih4hm8803","content":"<blockquote>\n<p>理想情况下，我们应用对Yarn资源的请求应该立刻得到满足，但现实情况资源往往是有限的，特别是在一个很繁忙的集群，一个应用资源的请求经常需要等待一段时间才能的到相应的资源。在Yarn中，负责给应用分配资源的就是Scheduler。其实调度本身就是一个难题，很难找到一个完美的策略可以解决所有的应用场景。为此，Yarn提供了多种调度器和可配置的策略供我们选择。</p>\n<h2 id=\"Capacity-Scheduler-容量调度器\"><a href=\"#Capacity-Scheduler-容量调度器\" class=\"headerlink\" title=\"Capacity Scheduler(容量调度器)\"></a>Capacity Scheduler(容量调度器)</h2><p>对于Capacity调度器，有一个专门的队列用来运行小任务，但是为小任务专门设置一个队列会预先占用一定的集群资源，这就导致大任务的执行时间会落后于使用FIFO调度器时的时间。用这个资源调度器，就可以配置yarn资源队列，这个后面后介绍用到。</p>\n<h2 id=\"Fair-Scheduler-公平调度器\"><a href=\"#Fair-Scheduler-公平调度器\" class=\"headerlink\" title=\"Fair Scheduler(公平调度器)\"></a>Fair Scheduler(公平调度器)</h2><p><strong>Fair调度器的设计目标是为所有的应用分配公平的资源</strong>（对公平的定义可以通过参数来设置）。当然，公平调度在也可以在多个队列间工作。</p>\n<p>举个例子，假设有两个用户A和B，他们分别拥有一个队列。当A启动一个job而B没有任务时，A会获得全部集群资源；当B启动一个job后，A的job会继续运行，不过一会儿之后两个任务会各自获得一半的集群资源。如果此时B再启动第二个job并且其它job还在运行，则它将会和B的第一个job共享B这个队列的资源，也就是B的两个job会用于四分之一的集群资源，而A的job仍然用于集群一半的资源，结果就是资源最终在两个用户之间平等的共享。</p>\n<p><strong>在Fair调度器中，我们不需要预先占用一定的系统资源，Fair调度器会为所有运行的job动态的调整系统资源。</strong>当第一个大job提交时，只有这一个job在运行，此时它获得了所有集群资源；当第二个小任务提交后，Fair调度器会分配一半资源给这个小任务，让这两个任务公平的共享集群资源。 </p>\n<p>a) 公平调度器，就是能够共享整个集群的资源 </p>\n<p>b) 不用预先占用资源，每一个作业都是共享的 </p>\n<p>c) 每当提交一个作业的时候，就会占用整个资源。如果再提交一个作业，那么第一个作业就会分给第二个作业一部分资源，第一个作业也就释放一部分资源。再提交其他的作业时，也同理。。。。也就是说每一个作业进来，都有机会获取资源。</p>\n</blockquote>\n<h1 id=\"Yarn调度器和调度算法\"><a href=\"#Yarn调度器和调度算法\" class=\"headerlink\" title=\"Yarn调度器和调度算法\"></a>Yarn调度器和调度算法</h1><p>目前，Hadoop作业调度器主要有三种: FIFO、容量(Capacity Scheduler)和公平(Fair Scheduler)。</p>\n<p>Apache Hadoop-1.x默认调度器是FIFO；</p>\n<p>Apache hadoop-2.7.2之后默认调度器是容量调度器Capacity Scheduler</p>\n<p>Apache hadoop-3.2.2默认调度器是公平调度器Fair Scheduler。</p>\n<p>CDH 框架默认调度器是 Fair Scheduler。</p>\n<h2 id=\"一、容量调度器-Capacity-Scheduler\"><a href=\"#一、容量调度器-Capacity-Scheduler\" class=\"headerlink\" title=\"一、容量调度器(Capacity Scheduler)\"></a>一、容量调度器(Capacity Scheduler)</h2><h3 id=\"1-容量调度器特点\"><a href=\"#1-容量调度器特点\" class=\"headerlink\" title=\"1. 容量调度器特点\"></a>1. 容量调度器特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019460282-1d05ddc1-06a3-4931-b8ac-96ededf60c3b.png\" alt=\"img\"></p>\n<ol>\n<li>多队列 ：每个队列可配置一定的资源量，每个队列内部采用FIFO调度策略；</li>\n<li>容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；</li>\n<li>灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；</li>\n<li>多租户：</li>\n</ol>\n<p>a. 支持多用户共享集群和多应用程序同时运行；</p>\n<p>b. 为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。</p>\n<h3 id=\"2-容量调度器资源分配算法\"><a href=\"#2-容量调度器资源分配算法\" class=\"headerlink\" title=\"2. 容量调度器资源分配算法\"></a>2. 容量调度器资源分配算法</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018164262-f5e7e270-fc4c-41e8-ba92-cac2a508bcdb.png\" alt=\"img\"></p>\n<h2 id=\"二、公平调度器-Fair-Scheduler\"><a href=\"#二、公平调度器-Fair-Scheduler\" class=\"headerlink\" title=\"二、公平调度器(Fair Scheduler)\"></a>二、公平调度器(Fair Scheduler)</h2><h3 id=\"1-公平调度器特点\"><a href=\"#1-公平调度器特点\" class=\"headerlink\" title=\"1. 公平调度器特点\"></a>1. 公平调度器特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019558958-d7f020f1-230e-4855-92f8-11c473379a18.png\" alt=\"img\"></p>\n<h3 id=\"与容量调度器相同点\"><a href=\"#与容量调度器相同点\" class=\"headerlink\" title=\"与容量调度器相同点:\"></a>与容量调度器相同点:</h3><ol>\n<li><p>多队列 ：每个队列可配置一定的资源量。</p>\n</li>\n<li><p>容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；</p>\n</li>\n<li><p>灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；</p>\n</li>\n<li><p>多租户：</p>\n</li>\n<li><ol>\n<li>支持多用户共享集群和多应用程序同时运行；</li>\n<li>为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"与容量调度器不同点\"><a href=\"#与容量调度器不同点\" class=\"headerlink\" title=\"与容量调度器不同点:\"></a>与容量调度器不同点:</h3><h4 id=\"核心调度策略不同\"><a href=\"#核心调度策略不同\" class=\"headerlink\" title=\"核心调度策略不同\"></a>核心调度策略不同</h4><p>容量调度器： 优先选择资源利用率低的队列；</p>\n<p>公平调度器：优先选择对资源缺额比例大的。</p>\n<h4 id=\"每个队列可以单独设置资源分配方式\"><a href=\"#每个队列可以单独设置资源分配方式\" class=\"headerlink\" title=\"每个队列可以单独设置资源分配方式\"></a>每个队列可以单独设置资源分配方式</h4><p><strong>容量调度器：FIFO、DRF(内存+CPU)；</strong></p>\n<p><strong>公平调度器：FIFO、FAIR、DRF。</strong></p>\n<h4 id=\"队列任务平行度不同\"><a href=\"#队列任务平行度不同\" class=\"headerlink\" title=\"队列任务平行度不同\"></a>队列任务平行度不同</h4><p>公平调度器：多队列，同一时间队列中多任务按照缺额执行，队列并行度大于队列个数</p>\n<p>容量调度器：多队列，同一时间队列中只有一个任务执行，队列中按照先进先出分配任务，队列并行度等于队列个数。</p>\n<h2 id=\"Fair策略\"><a href=\"#Fair策略\" class=\"headerlink\" title=\"Fair策略\"></a>Fair策略</h2><p>Fair策略是公平调度器默认的队列分配方式</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018698231-b7ca6c87-74ef-4128-8c05-89fbbab59881.png\" alt=\"img\"></p>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<blockquote>\n<p>理想情况下，我们应用对Yarn资源的请求应该立刻得到满足，但现实情况资源往往是有限的，特别是在一个很繁忙的集群，一个应用资源的请求经常需要等待一段时间才能的到相应的资源。在Yarn中，负责给应用分配资源的就是Scheduler。其实调度本身就是一个难题，很难找到一个完美的策略可以解决所有的应用场景。为此，Yarn提供了多种调度器和可配置的策略供我们选择。</p>\n<h2 id=\"Capacity-Scheduler-容量调度器\"><a href=\"#Capacity-Scheduler-容量调度器\" class=\"headerlink\" title=\"Capacity Scheduler(容量调度器)\"></a>Capacity Scheduler(容量调度器)</h2><p>对于Capacity调度器，有一个专门的队列用来运行小任务，但是为小任务专门设置一个队列会预先占用一定的集群资源，这就导致大任务的执行时间会落后于使用FIFO调度器时的时间。用这个资源调度器，就可以配置yarn资源队列，这个后面后介绍用到。</p>\n<h2 id=\"Fair-Scheduler-公平调度器\"><a href=\"#Fair-Scheduler-公平调度器\" class=\"headerlink\" title=\"Fair Scheduler(公平调度器)\"></a>Fair Scheduler(公平调度器)</h2><p><strong>Fair调度器的设计目标是为所有的应用分配公平的资源</strong>（对公平的定义可以通过参数来设置）。当然，公平调度在也可以在多个队列间工作。</p>\n<p>举个例子，假设有两个用户A和B，他们分别拥有一个队列。当A启动一个job而B没有任务时，A会获得全部集群资源；当B启动一个job后，A的job会继续运行，不过一会儿之后两个任务会各自获得一半的集群资源。如果此时B再启动第二个job并且其它job还在运行，则它将会和B的第一个job共享B这个队列的资源，也就是B的两个job会用于四分之一的集群资源，而A的job仍然用于集群一半的资源，结果就是资源最终在两个用户之间平等的共享。</p>\n<p><strong>在Fair调度器中，我们不需要预先占用一定的系统资源，Fair调度器会为所有运行的job动态的调整系统资源。</strong>当第一个大job提交时，只有这一个job在运行，此时它获得了所有集群资源；当第二个小任务提交后，Fair调度器会分配一半资源给这个小任务，让这两个任务公平的共享集群资源。 </p>\n<p>a) 公平调度器，就是能够共享整个集群的资源 </p>\n<p>b) 不用预先占用资源，每一个作业都是共享的 </p>\n<p>c) 每当提交一个作业的时候，就会占用整个资源。如果再提交一个作业，那么第一个作业就会分给第二个作业一部分资源，第一个作业也就释放一部分资源。再提交其他的作业时，也同理。。。。也就是说每一个作业进来，都有机会获取资源。</p>\n</blockquote>\n<h1 id=\"Yarn调度器和调度算法\"><a href=\"#Yarn调度器和调度算法\" class=\"headerlink\" title=\"Yarn调度器和调度算法\"></a>Yarn调度器和调度算法</h1><p>目前，Hadoop作业调度器主要有三种: FIFO、容量(Capacity Scheduler)和公平(Fair Scheduler)。</p>\n<p>Apache Hadoop-1.x默认调度器是FIFO；</p>\n<p>Apache hadoop-2.7.2之后默认调度器是容量调度器Capacity Scheduler</p>\n<p>Apache hadoop-3.2.2默认调度器是公平调度器Fair Scheduler。</p>\n<p>CDH 框架默认调度器是 Fair Scheduler。</p>\n<h2 id=\"一、容量调度器-Capacity-Scheduler\"><a href=\"#一、容量调度器-Capacity-Scheduler\" class=\"headerlink\" title=\"一、容量调度器(Capacity Scheduler)\"></a>一、容量调度器(Capacity Scheduler)</h2><h3 id=\"1-容量调度器特点\"><a href=\"#1-容量调度器特点\" class=\"headerlink\" title=\"1. 容量调度器特点\"></a>1. 容量调度器特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019460282-1d05ddc1-06a3-4931-b8ac-96ededf60c3b.png\" alt=\"img\"></p>\n<ol>\n<li>多队列 ：每个队列可配置一定的资源量，每个队列内部采用FIFO调度策略；</li>\n<li>容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；</li>\n<li>灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；</li>\n<li>多租户：</li>\n</ol>\n<p>a. 支持多用户共享集群和多应用程序同时运行；</p>\n<p>b. 为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。</p>\n<h3 id=\"2-容量调度器资源分配算法\"><a href=\"#2-容量调度器资源分配算法\" class=\"headerlink\" title=\"2. 容量调度器资源分配算法\"></a>2. 容量调度器资源分配算法</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018164262-f5e7e270-fc4c-41e8-ba92-cac2a508bcdb.png\" alt=\"img\"></p>\n<h2 id=\"二、公平调度器-Fair-Scheduler\"><a href=\"#二、公平调度器-Fair-Scheduler\" class=\"headerlink\" title=\"二、公平调度器(Fair Scheduler)\"></a>二、公平调度器(Fair Scheduler)</h2><h3 id=\"1-公平调度器特点\"><a href=\"#1-公平调度器特点\" class=\"headerlink\" title=\"1. 公平调度器特点\"></a>1. 公平调度器特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657019558958-d7f020f1-230e-4855-92f8-11c473379a18.png\" alt=\"img\"></p>\n<h3 id=\"与容量调度器相同点\"><a href=\"#与容量调度器相同点\" class=\"headerlink\" title=\"与容量调度器相同点:\"></a>与容量调度器相同点:</h3><ol>\n<li><p>多队列 ：每个队列可配置一定的资源量。</p>\n</li>\n<li><p>容量保证：管理员可为每个队列设置资源最低保证和资源使用上线；</p>\n</li>\n<li><p>灵活性：如果一个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，而一旦该队列有新的应用程序提交，则其他队列借调的资源会归还给该队列；</p>\n</li>\n<li><p>多租户：</p>\n</li>\n<li><ol>\n<li>支持多用户共享集群和多应用程序同时运行；</li>\n<li>为了防止同一个用户的作业独占队列中的资源，该调度器会对同一用户提交的作业所占资源进行限定。</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"与容量调度器不同点\"><a href=\"#与容量调度器不同点\" class=\"headerlink\" title=\"与容量调度器不同点:\"></a>与容量调度器不同点:</h3><h4 id=\"核心调度策略不同\"><a href=\"#核心调度策略不同\" class=\"headerlink\" title=\"核心调度策略不同\"></a>核心调度策略不同</h4><p>容量调度器： 优先选择资源利用率低的队列；</p>\n<p>公平调度器：优先选择对资源缺额比例大的。</p>\n<h4 id=\"每个队列可以单独设置资源分配方式\"><a href=\"#每个队列可以单独设置资源分配方式\" class=\"headerlink\" title=\"每个队列可以单独设置资源分配方式\"></a>每个队列可以单独设置资源分配方式</h4><p><strong>容量调度器：FIFO、DRF(内存+CPU)；</strong></p>\n<p><strong>公平调度器：FIFO、FAIR、DRF。</strong></p>\n<h4 id=\"队列任务平行度不同\"><a href=\"#队列任务平行度不同\" class=\"headerlink\" title=\"队列任务平行度不同\"></a>队列任务平行度不同</h4><p>公平调度器：多队列，同一时间队列中多任务按照缺额执行，队列并行度大于队列个数</p>\n<p>容量调度器：多队列，同一时间队列中只有一个任务执行，队列中按照先进先出分配任务，队列并行度等于队列个数。</p>\n<h2 id=\"Fair策略\"><a href=\"#Fair策略\" class=\"headerlink\" title=\"Fair策略\"></a>Fair策略</h2><p>Fair策略是公平调度器默认的队列分配方式</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657018698231-b7ca6c87-74ef-4128-8c05-89fbbab59881.png\" alt=\"img\"></p>\n"},{"title":"一文搞懂Kudu的整体架构","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-07-01T12:31:02.000Z","updated":"2022-07-01T12:31:02.000Z","cover":"https://tva3.sinaimg.cn/large/0084aYsLgy1h22161jezaj30xc0f0dh1.jpg","description":null,"keywords":null,"_content":"\n\n> Kudu是典型的Master-Slave架构，基于LSM优化写入性能，但同时读性能会低（相较于Parquet）。Kudu基于Raft协议实现了Master和Slave Tablet节点的数据的一致性，以及选举功能，保证了容错性和高可用。\n>\n> Kudu是完全的列式存储引擎，可以针对性的编码和压缩，提高了IO性能。HBase是基于列族的，No Schema的NoSQL、KV数据库，无法进行针对性的编码和压缩，同时一般情况只会用一个列族，其实HBase退化为行存储引擎。\n>\n> Kudu通过WAL和Raft保证了分布式数据的一致性。\n>\n> kudu相对于HBase，牺牲了一定的写入性能--->Kudu在写入数据的时候，需要先检查一遍唯一主键是否存在，如果存在会报错，同样更新数据的时候，同样需要先查找主键是否存在。因此Insert和Update等所有操作比HBase多了，`先读一次`的开销，而HBase所有的操作都是转化为直接写入，因此写的性能相较于HBase有一定的劣势。\n>\n> Kudu牺牲写的性能，但是保证了一个主键，只会存在于一个RowSet中，而HBase的RowKey可能会在多个HFlie中。减少了IO，提升了读性能，特别是在大量写入，少量更新的情况下。\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605849-a27b0f24-9a73-486d-9797-0009ce3bc3dc.png?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0)\n\n**Table：**具有Schema和全局有序主键的表。一张表有多个Tablet，多个Tablet包含表的全部数据。\n**Tablet：**Kudu的表Table被水平分割为多段，Tablet是Kudu表的一个片段（分区），每个Tablet存储一段连续范围的数据（会记录开始Key和结束Key），且两个Tablet间不会有重复范围的数据。一个Tablet会复制（逻辑复制而非物理复制，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息）多个副本在多台TServer上，其中一个副本为Leader Tablet，其他则为Follower Tablet。只有Leader Tablet响应写请求，任何Tablet副本可以响应读请求。\n**TabletServer：**简称TServer，负责数据存储Tablet、提供数据读写服务、编码、压缩、合并和复制。一个TServer可以是某些Tablet的Leader，也可以是某些Tablet的Follower，一个Tablet可以被多个TServer服务（多对多关系）。TServer会定期（默认1s）向Master发送心跳。\n**Catalog Table：**目录表，用户不可直接读取或写入，仅由Master维护，存储两类元数据：表元数据（Schema信息，位置和状态）和Tablet元数据（所有TServer的列表、每个TServer包含哪些Tablet副本、Tablet的开始Key和结束Key）。Catalog Table只存储在Master节点，也是以Tablet的形式，数据量不会很大，只有一个分区，随着Master启动而被全量加载到内存。\n**Master：**负责集群管理和元数据管理。具体：跟踪所有Tablets、TServer、Catalog Table和其他相关的元数据。协调客户端做元数据操作，比如创建一个新表，客户端向Master发起请求，Master写入其WAL并得到其他Master同意后将新表的元数据写入Catalog Table，并协调TServer创建Tablet。\n**WAL：**一个仅支持追加写的预写日志，无论Master还是Tablet都有预写日志，任何对表的修改都会在该表对应的WAL中写入条目(entry)，其他副本在数据相对落后时可以通过WAL赶上来。\n**逻辑复制：**Kudu基于Raft协议在集群中对每个Tablet都存储多个副本，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息。Insert和Update操作会走网络IO，但Delete操作不会，压缩数据也不会走网络。\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670281157-814d5745-2416-468f-8c68-44c63244069f.png)\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605725-aa6706b6-8453-45b7-b084-18a05394f969.png?x-oss-process=image%2Fresize%2Cw_829%2Climit_0)\n\n\n\n如图，Table分为若干Tablet；Tablet包含Metadata和RowSet，RowSet包含一个MemRowSet及若干个DiskRowSet，DiskRowSet中包含一个BloomFile、AdhocIndex、BaseData、DeltaMem及若干个RedoFile和UndoFile（UndoFile一般情况下只有一个）。\n**MemRowSet：**插入新数据及更新已在MemRowSet中的数据，数据结构是B+树，主键在非叶子节点，数据都在叶子节点。MemRowSet写满后会将数据刷到磁盘形成若干个DiskRowSet。每次达到1G或者120s时生成一个DiskRowSet，DiskRowSet按列存储，类似Parquet。\n**DiskRowSet：**DiskRowSets存储文件格式为CFile。DiskRowSet分为BaseData和DeltaFile。这里每个Column被存储在一个相邻的数据区域，这个数据区域被分为多个小的Page，每个Column Page都可以使用一些Encoding以及Compression算法。后台会定期对DiskRowSet做Compaction，以删除没用的数据及合并历史数据，减少查询过程中的IO开销。\n**BaseData：**DiskRowSet刷写完成的数据，CFile，按列存储，主键有序。BaseData不可变，类似Parquet。\n**BloomFile：**根据一个DiskRowSet中的Key生成一个BloomFilter，用于快速模糊定位某个key是否在DiskRowSet中存在。\n**AdhocIndex：**存放主键的索引，用于定位Key在DiskRowSet中的具体哪个偏移位置。\n**DeltaMemStore：**每份DiskRowSet都对应内存中一个DeltaMemStore，负责记录这个DiskRowSet上BaseData发生后续变更的数据，先写到内存中，写满后Flush到磁盘生成RedoFile。DeltaMemStore的组织方式与MemRowSet相同，也维护一个B+树。\n**DeltaFile：**DeltaMemStore到一定大小会存储到磁盘形成DeltaFile，分为UndoFile和RedoFile。\n**RedoFile：**重做文件，记录上一次Flush生成BaseData之后发生变更数据。DeltaMemStore写满之后，也会刷成CFile，不过与BaseData分开存储，名为RedoFile。UndoFile和RedoFile与关系型数据库中的Undo日子和Redo日志类似。\n**UndoFile：**撤销文件，记录上一次Flush生成BaseData之前时间的历史数据，Kudu通过UndoFile可以读到历史某个时间点的数据。UndoFile一般只有一份。默认UndoFile保存15分钟，Kudu可以查询到15分钟内某列的内容，超过15分钟后会过期，该UndoFile被删除。\n\nDeltaFile(主要是RedoFile)会不断增加，产生大量小文件，不Compaction肯定影响性能，所以就有了下面两种合并方式：\n\n- Minor Compaction：多个DeltaFile进行合并生成一个大的DeltaFile。默认是1000个DeltaFile进行合并一次。\n- Major Compaction：RedoFile文件的大小和BaseData的文件的比例为0.1的时候，会将RedoFile合并进入BaseData，Kudu记录所有更新操作并保存为UndoFile。\n  补充一下：合并和重写BaseData是成本很高的，会产生大量IO操作，Kudu不会将全部DeltaFile合并进BaseData。如果只更新几行数据，但要重写BaseData，费力不讨好，所以Kudu会在某个特定列需要大量更新时再把BaseData与DeltaFile合并。未合并的RedoFile会继续保留等待后续合并操作。\n\n**Kudu读流程：**\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670543950-cf2edd8b-55d4-4eb2-b224-78d3c1d9aa31.png)\n\n1. Client发送读请求，Master根据主键范围确定到包含所需数据的所有Tablet位置和信息。\n2. Client找到所需Tablet所在TServer，TServer接受读请求。\n3. 如果要读取的数据位于内存，先从内存（MemRowSet，DeltaMemStore）读取数据，根据读取请求包含的时间戳前提交的更新合并成最终数据。\n4. 如果要读取的数据位于磁盘（DiskRowSet，DeltaFile），在DeltaFile的UndoFile、RedoFile中找目标数据相关的改动，根据读取请求包含的时间戳合并成最新数据并返回。\n\n**Kudu写流程：**\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544082-37d8b7e9-de97-46c0-9ded-20ad7ae15c16.png)\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544010-1315c073-bd11-488c-a780-ffbf553002bb.png)\n\n1. Client向Master发起写请求，Master找到对应的Tablet元数据信息，检查请求数据是否符合表结构。\n2. 因为Kudu不允许有主键重复的记录，所以需要判断主键是否已经存在，先查询主键范围，如果不在范围内则准备写MemRowSet。\n3. 如果在主键范围内，先通过主键Key的布隆过滤器快速模糊查找，未命中则准备写MemRowSet。\n4. 如果BloomFilter命中，则查询索引，如果没命中索引则准备写MemRowSet，如果命中了主键索引就报错：主键重复。\n5. 写入MemRowSet前先被提交到一个Tablet的WAL预写日志，并根据Raft一致性算法取得Follower Tablets的同意，然后才会被写入到其中一个Tablet的MemRowSet中。为了在MemRowSet中支持多版本并发控制(MVCC)，对最近插入的行(即尚未刷新到磁盘的新的行)的更新和删除操作将被追加到MemRowSet中的原始行之后以生成重做(REDO)记录的列表。\n6. MemRowSet写满后，Kudu将数据每行相邻的列分为不同的区间，每个列为一个区间，Flush到DiskRowSet。\n\n**Kudu更新流程：**\n\n1. Client发送更新请求，Master获取表的相关信息，表的所有Tablet信息。\n2. Kudu检查是否符合表结构。\n3. 如果需要更新的数据在MemRowSet，B+树找到待更新数据所在叶子节点，然后将更新操作记录在所在行中一个Mutation链表中；Kudu采用了MVCC(多版本并发控制，实现读和写的并行，任何写都是插入)思想，将更改的数据以链表形式追加到叶子节点后面，避免在树上进行更新和删除操作。\n4. 如果需要更新的数据在DiskRowSet，找到其所在的DiskRowSet，前面提到每个DiskRowSet都会在内存中有一个DeltaMemStore，将更新操作记录在DeltaMemStore，达到一定大小才会生成DeltaFile到磁盘。\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605651-12519d77-90d0-4e92-8def-a832ad06c4b5.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346609884-6c6502ed-d74e-4796-b91c-875a4792c2e9.png?x-oss-process=image%2Fresize%2Cw_913%2Climit_0)\n\n\n\n","source":"_posts/bigdata/一文搞懂Kudu的整体架构.md","raw":"---\ntitle: 一文搞懂Kudu的整体架构\ntags:\n  - 'kudu'\ncategories:\n  - [bigdata,kudu]\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-07-01 20:31:02\nupdated: 2022-07-01 20:31:02\ncover:\ndescription:\nkeywords:\n---\n\n\n> Kudu是典型的Master-Slave架构，基于LSM优化写入性能，但同时读性能会低（相较于Parquet）。Kudu基于Raft协议实现了Master和Slave Tablet节点的数据的一致性，以及选举功能，保证了容错性和高可用。\n>\n> Kudu是完全的列式存储引擎，可以针对性的编码和压缩，提高了IO性能。HBase是基于列族的，No Schema的NoSQL、KV数据库，无法进行针对性的编码和压缩，同时一般情况只会用一个列族，其实HBase退化为行存储引擎。\n>\n> Kudu通过WAL和Raft保证了分布式数据的一致性。\n>\n> kudu相对于HBase，牺牲了一定的写入性能--->Kudu在写入数据的时候，需要先检查一遍唯一主键是否存在，如果存在会报错，同样更新数据的时候，同样需要先查找主键是否存在。因此Insert和Update等所有操作比HBase多了，`先读一次`的开销，而HBase所有的操作都是转化为直接写入，因此写的性能相较于HBase有一定的劣势。\n>\n> Kudu牺牲写的性能，但是保证了一个主键，只会存在于一个RowSet中，而HBase的RowKey可能会在多个HFlie中。减少了IO，提升了读性能，特别是在大量写入，少量更新的情况下。\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605849-a27b0f24-9a73-486d-9797-0009ce3bc3dc.png?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0)\n\n**Table：**具有Schema和全局有序主键的表。一张表有多个Tablet，多个Tablet包含表的全部数据。\n**Tablet：**Kudu的表Table被水平分割为多段，Tablet是Kudu表的一个片段（分区），每个Tablet存储一段连续范围的数据（会记录开始Key和结束Key），且两个Tablet间不会有重复范围的数据。一个Tablet会复制（逻辑复制而非物理复制，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息）多个副本在多台TServer上，其中一个副本为Leader Tablet，其他则为Follower Tablet。只有Leader Tablet响应写请求，任何Tablet副本可以响应读请求。\n**TabletServer：**简称TServer，负责数据存储Tablet、提供数据读写服务、编码、压缩、合并和复制。一个TServer可以是某些Tablet的Leader，也可以是某些Tablet的Follower，一个Tablet可以被多个TServer服务（多对多关系）。TServer会定期（默认1s）向Master发送心跳。\n**Catalog Table：**目录表，用户不可直接读取或写入，仅由Master维护，存储两类元数据：表元数据（Schema信息，位置和状态）和Tablet元数据（所有TServer的列表、每个TServer包含哪些Tablet副本、Tablet的开始Key和结束Key）。Catalog Table只存储在Master节点，也是以Tablet的形式，数据量不会很大，只有一个分区，随着Master启动而被全量加载到内存。\n**Master：**负责集群管理和元数据管理。具体：跟踪所有Tablets、TServer、Catalog Table和其他相关的元数据。协调客户端做元数据操作，比如创建一个新表，客户端向Master发起请求，Master写入其WAL并得到其他Master同意后将新表的元数据写入Catalog Table，并协调TServer创建Tablet。\n**WAL：**一个仅支持追加写的预写日志，无论Master还是Tablet都有预写日志，任何对表的修改都会在该表对应的WAL中写入条目(entry)，其他副本在数据相对落后时可以通过WAL赶上来。\n**逻辑复制：**Kudu基于Raft协议在集群中对每个Tablet都存储多个副本，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息。Insert和Update操作会走网络IO，但Delete操作不会，压缩数据也不会走网络。\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670281157-814d5745-2416-468f-8c68-44c63244069f.png)\n\n\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605725-aa6706b6-8453-45b7-b084-18a05394f969.png?x-oss-process=image%2Fresize%2Cw_829%2Climit_0)\n\n\n\n如图，Table分为若干Tablet；Tablet包含Metadata和RowSet，RowSet包含一个MemRowSet及若干个DiskRowSet，DiskRowSet中包含一个BloomFile、AdhocIndex、BaseData、DeltaMem及若干个RedoFile和UndoFile（UndoFile一般情况下只有一个）。\n**MemRowSet：**插入新数据及更新已在MemRowSet中的数据，数据结构是B+树，主键在非叶子节点，数据都在叶子节点。MemRowSet写满后会将数据刷到磁盘形成若干个DiskRowSet。每次达到1G或者120s时生成一个DiskRowSet，DiskRowSet按列存储，类似Parquet。\n**DiskRowSet：**DiskRowSets存储文件格式为CFile。DiskRowSet分为BaseData和DeltaFile。这里每个Column被存储在一个相邻的数据区域，这个数据区域被分为多个小的Page，每个Column Page都可以使用一些Encoding以及Compression算法。后台会定期对DiskRowSet做Compaction，以删除没用的数据及合并历史数据，减少查询过程中的IO开销。\n**BaseData：**DiskRowSet刷写完成的数据，CFile，按列存储，主键有序。BaseData不可变，类似Parquet。\n**BloomFile：**根据一个DiskRowSet中的Key生成一个BloomFilter，用于快速模糊定位某个key是否在DiskRowSet中存在。\n**AdhocIndex：**存放主键的索引，用于定位Key在DiskRowSet中的具体哪个偏移位置。\n**DeltaMemStore：**每份DiskRowSet都对应内存中一个DeltaMemStore，负责记录这个DiskRowSet上BaseData发生后续变更的数据，先写到内存中，写满后Flush到磁盘生成RedoFile。DeltaMemStore的组织方式与MemRowSet相同，也维护一个B+树。\n**DeltaFile：**DeltaMemStore到一定大小会存储到磁盘形成DeltaFile，分为UndoFile和RedoFile。\n**RedoFile：**重做文件，记录上一次Flush生成BaseData之后发生变更数据。DeltaMemStore写满之后，也会刷成CFile，不过与BaseData分开存储，名为RedoFile。UndoFile和RedoFile与关系型数据库中的Undo日子和Redo日志类似。\n**UndoFile：**撤销文件，记录上一次Flush生成BaseData之前时间的历史数据，Kudu通过UndoFile可以读到历史某个时间点的数据。UndoFile一般只有一份。默认UndoFile保存15分钟，Kudu可以查询到15分钟内某列的内容，超过15分钟后会过期，该UndoFile被删除。\n\nDeltaFile(主要是RedoFile)会不断增加，产生大量小文件，不Compaction肯定影响性能，所以就有了下面两种合并方式：\n\n- Minor Compaction：多个DeltaFile进行合并生成一个大的DeltaFile。默认是1000个DeltaFile进行合并一次。\n- Major Compaction：RedoFile文件的大小和BaseData的文件的比例为0.1的时候，会将RedoFile合并进入BaseData，Kudu记录所有更新操作并保存为UndoFile。\n  补充一下：合并和重写BaseData是成本很高的，会产生大量IO操作，Kudu不会将全部DeltaFile合并进BaseData。如果只更新几行数据，但要重写BaseData，费力不讨好，所以Kudu会在某个特定列需要大量更新时再把BaseData与DeltaFile合并。未合并的RedoFile会继续保留等待后续合并操作。\n\n**Kudu读流程：**\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670543950-cf2edd8b-55d4-4eb2-b224-78d3c1d9aa31.png)\n\n1. Client发送读请求，Master根据主键范围确定到包含所需数据的所有Tablet位置和信息。\n2. Client找到所需Tablet所在TServer，TServer接受读请求。\n3. 如果要读取的数据位于内存，先从内存（MemRowSet，DeltaMemStore）读取数据，根据读取请求包含的时间戳前提交的更新合并成最终数据。\n4. 如果要读取的数据位于磁盘（DiskRowSet，DeltaFile），在DeltaFile的UndoFile、RedoFile中找目标数据相关的改动，根据读取请求包含的时间戳合并成最新数据并返回。\n\n**Kudu写流程：**\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544082-37d8b7e9-de97-46c0-9ded-20ad7ae15c16.png)\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544010-1315c073-bd11-488c-a780-ffbf553002bb.png)\n\n1. Client向Master发起写请求，Master找到对应的Tablet元数据信息，检查请求数据是否符合表结构。\n2. 因为Kudu不允许有主键重复的记录，所以需要判断主键是否已经存在，先查询主键范围，如果不在范围内则准备写MemRowSet。\n3. 如果在主键范围内，先通过主键Key的布隆过滤器快速模糊查找，未命中则准备写MemRowSet。\n4. 如果BloomFilter命中，则查询索引，如果没命中索引则准备写MemRowSet，如果命中了主键索引就报错：主键重复。\n5. 写入MemRowSet前先被提交到一个Tablet的WAL预写日志，并根据Raft一致性算法取得Follower Tablets的同意，然后才会被写入到其中一个Tablet的MemRowSet中。为了在MemRowSet中支持多版本并发控制(MVCC)，对最近插入的行(即尚未刷新到磁盘的新的行)的更新和删除操作将被追加到MemRowSet中的原始行之后以生成重做(REDO)记录的列表。\n6. MemRowSet写满后，Kudu将数据每行相邻的列分为不同的区间，每个列为一个区间，Flush到DiskRowSet。\n\n**Kudu更新流程：**\n\n1. Client发送更新请求，Master获取表的相关信息，表的所有Tablet信息。\n2. Kudu检查是否符合表结构。\n3. 如果需要更新的数据在MemRowSet，B+树找到待更新数据所在叶子节点，然后将更新操作记录在所在行中一个Mutation链表中；Kudu采用了MVCC(多版本并发控制，实现读和写的并行，任何写都是插入)思想，将更改的数据以链表形式追加到叶子节点后面，避免在树上进行更新和删除操作。\n4. 如果需要更新的数据在DiskRowSet，找到其所在的DiskRowSet，前面提到每个DiskRowSet都会在内存中有一个DeltaMemStore，将更新操作记录在DeltaMemStore，达到一定大小才会生成DeltaFile到磁盘。\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605651-12519d77-90d0-4e92-8def-a832ad06c4b5.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346609884-6c6502ed-d74e-4796-b91c-875a4792c2e9.png?x-oss-process=image%2Fresize%2Cw_913%2Climit_0)\n\n\n\n","slug":"bigdata/一文搞懂Kudu的整体架构","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpr000qd0ui380td49e","content":"<blockquote>\n<p>Kudu是典型的Master-Slave架构，基于LSM优化写入性能，但同时读性能会低（相较于Parquet）。Kudu基于Raft协议实现了Master和Slave Tablet节点的数据的一致性，以及选举功能，保证了容错性和高可用。</p>\n<p>Kudu是完全的列式存储引擎，可以针对性的编码和压缩，提高了IO性能。HBase是基于列族的，No Schema的NoSQL、KV数据库，无法进行针对性的编码和压缩，同时一般情况只会用一个列族，其实HBase退化为行存储引擎。</p>\n<p>Kudu通过WAL和Raft保证了分布式数据的一致性。</p>\n<p>kudu相对于HBase，牺牲了一定的写入性能—&gt;Kudu在写入数据的时候，需要先检查一遍唯一主键是否存在，如果存在会报错，同样更新数据的时候，同样需要先查找主键是否存在。因此Insert和Update等所有操作比HBase多了，<code>先读一次</code>的开销，而HBase所有的操作都是转化为直接写入，因此写的性能相较于HBase有一定的劣势。</p>\n<p>Kudu牺牲写的性能，但是保证了一个主键，只会存在于一个RowSet中，而HBase的RowKey可能会在多个HFlie中。减少了IO，提升了读性能，特别是在大量写入，少量更新的情况下。</p>\n</blockquote>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605849-a27b0f24-9a73-486d-9797-0009ce3bc3dc.png?x-oss-process=image/resize,w_1080,limit_0\" alt=\"img\"></p>\n<p><strong>Table：</strong>具有Schema和全局有序主键的表。一张表有多个Tablet，多个Tablet包含表的全部数据。<br><strong>Tablet：</strong>Kudu的表Table被水平分割为多段，Tablet是Kudu表的一个片段（分区），每个Tablet存储一段连续范围的数据（会记录开始Key和结束Key），且两个Tablet间不会有重复范围的数据。一个Tablet会复制（逻辑复制而非物理复制，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息）多个副本在多台TServer上，其中一个副本为Leader Tablet，其他则为Follower Tablet。只有Leader Tablet响应写请求，任何Tablet副本可以响应读请求。<br><strong>TabletServer：</strong>简称TServer，负责数据存储Tablet、提供数据读写服务、编码、压缩、合并和复制。一个TServer可以是某些Tablet的Leader，也可以是某些Tablet的Follower，一个Tablet可以被多个TServer服务（多对多关系）。TServer会定期（默认1s）向Master发送心跳。<br><strong>Catalog Table：</strong>目录表，用户不可直接读取或写入，仅由Master维护，存储两类元数据：表元数据（Schema信息，位置和状态）和Tablet元数据（所有TServer的列表、每个TServer包含哪些Tablet副本、Tablet的开始Key和结束Key）。Catalog Table只存储在Master节点，也是以Tablet的形式，数据量不会很大，只有一个分区，随着Master启动而被全量加载到内存。<br><strong>Master：</strong>负责集群管理和元数据管理。具体：跟踪所有Tablets、TServer、Catalog Table和其他相关的元数据。协调客户端做元数据操作，比如创建一个新表，客户端向Master发起请求，Master写入其WAL并得到其他Master同意后将新表的元数据写入Catalog Table，并协调TServer创建Tablet。<br><strong>WAL：</strong>一个仅支持追加写的预写日志，无论Master还是Tablet都有预写日志，任何对表的修改都会在该表对应的WAL中写入条目(entry)，其他副本在数据相对落后时可以通过WAL赶上来。<br><strong>逻辑复制：</strong>Kudu基于Raft协议在集群中对每个Tablet都存储多个副本，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息。Insert和Update操作会走网络IO，但Delete操作不会，压缩数据也不会走网络。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670281157-814d5745-2416-468f-8c68-44c63244069f.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605725-aa6706b6-8453-45b7-b084-18a05394f969.png?x-oss-process=image/resize,w_829,limit_0\" alt=\"img\"></p>\n<p>如图，Table分为若干Tablet；Tablet包含Metadata和RowSet，RowSet包含一个MemRowSet及若干个DiskRowSet，DiskRowSet中包含一个BloomFile、AdhocIndex、BaseData、DeltaMem及若干个RedoFile和UndoFile（UndoFile一般情况下只有一个）。<br><strong>MemRowSet：</strong>插入新数据及更新已在MemRowSet中的数据，数据结构是B+树，主键在非叶子节点，数据都在叶子节点。MemRowSet写满后会将数据刷到磁盘形成若干个DiskRowSet。每次达到1G或者120s时生成一个DiskRowSet，DiskRowSet按列存储，类似Parquet。<br><strong>DiskRowSet：</strong>DiskRowSets存储文件格式为CFile。DiskRowSet分为BaseData和DeltaFile。这里每个Column被存储在一个相邻的数据区域，这个数据区域被分为多个小的Page，每个Column Page都可以使用一些Encoding以及Compression算法。后台会定期对DiskRowSet做Compaction，以删除没用的数据及合并历史数据，减少查询过程中的IO开销。<br><strong>BaseData：</strong>DiskRowSet刷写完成的数据，CFile，按列存储，主键有序。BaseData不可变，类似Parquet。<br><strong>BloomFile：</strong>根据一个DiskRowSet中的Key生成一个BloomFilter，用于快速模糊定位某个key是否在DiskRowSet中存在。<br><strong>AdhocIndex：</strong>存放主键的索引，用于定位Key在DiskRowSet中的具体哪个偏移位置。<br><strong>DeltaMemStore：</strong>每份DiskRowSet都对应内存中一个DeltaMemStore，负责记录这个DiskRowSet上BaseData发生后续变更的数据，先写到内存中，写满后Flush到磁盘生成RedoFile。DeltaMemStore的组织方式与MemRowSet相同，也维护一个B+树。<br><strong>DeltaFile：</strong>DeltaMemStore到一定大小会存储到磁盘形成DeltaFile，分为UndoFile和RedoFile。<br><strong>RedoFile：</strong>重做文件，记录上一次Flush生成BaseData之后发生变更数据。DeltaMemStore写满之后，也会刷成CFile，不过与BaseData分开存储，名为RedoFile。UndoFile和RedoFile与关系型数据库中的Undo日子和Redo日志类似。<br><strong>UndoFile：</strong>撤销文件，记录上一次Flush生成BaseData之前时间的历史数据，Kudu通过UndoFile可以读到历史某个时间点的数据。UndoFile一般只有一份。默认UndoFile保存15分钟，Kudu可以查询到15分钟内某列的内容，超过15分钟后会过期，该UndoFile被删除。</p>\n<p>DeltaFile(主要是RedoFile)会不断增加，产生大量小文件，不Compaction肯定影响性能，所以就有了下面两种合并方式：</p>\n<ul>\n<li>Minor Compaction：多个DeltaFile进行合并生成一个大的DeltaFile。默认是1000个DeltaFile进行合并一次。</li>\n<li>Major Compaction：RedoFile文件的大小和BaseData的文件的比例为0.1的时候，会将RedoFile合并进入BaseData，Kudu记录所有更新操作并保存为UndoFile。<br>补充一下：合并和重写BaseData是成本很高的，会产生大量IO操作，Kudu不会将全部DeltaFile合并进BaseData。如果只更新几行数据，但要重写BaseData，费力不讨好，所以Kudu会在某个特定列需要大量更新时再把BaseData与DeltaFile合并。未合并的RedoFile会继续保留等待后续合并操作。</li>\n</ul>\n<p><strong>Kudu读流程：</strong><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670543950-cf2edd8b-55d4-4eb2-b224-78d3c1d9aa31.png\" alt=\"img\"></p>\n<ol>\n<li>Client发送读请求，Master根据主键范围确定到包含所需数据的所有Tablet位置和信息。</li>\n<li>Client找到所需Tablet所在TServer，TServer接受读请求。</li>\n<li>如果要读取的数据位于内存，先从内存（MemRowSet，DeltaMemStore）读取数据，根据读取请求包含的时间戳前提交的更新合并成最终数据。</li>\n<li>如果要读取的数据位于磁盘（DiskRowSet，DeltaFile），在DeltaFile的UndoFile、RedoFile中找目标数据相关的改动，根据读取请求包含的时间戳合并成最新数据并返回。</li>\n</ol>\n<p><strong>Kudu写流程：</strong><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544082-37d8b7e9-de97-46c0-9ded-20ad7ae15c16.png\" alt=\"img\"><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544010-1315c073-bd11-488c-a780-ffbf553002bb.png\" alt=\"img\"></p>\n<ol>\n<li>Client向Master发起写请求，Master找到对应的Tablet元数据信息，检查请求数据是否符合表结构。</li>\n<li>因为Kudu不允许有主键重复的记录，所以需要判断主键是否已经存在，先查询主键范围，如果不在范围内则准备写MemRowSet。</li>\n<li>如果在主键范围内，先通过主键Key的布隆过滤器快速模糊查找，未命中则准备写MemRowSet。</li>\n<li>如果BloomFilter命中，则查询索引，如果没命中索引则准备写MemRowSet，如果命中了主键索引就报错：主键重复。</li>\n<li>写入MemRowSet前先被提交到一个Tablet的WAL预写日志，并根据Raft一致性算法取得Follower Tablets的同意，然后才会被写入到其中一个Tablet的MemRowSet中。为了在MemRowSet中支持多版本并发控制(MVCC)，对最近插入的行(即尚未刷新到磁盘的新的行)的更新和删除操作将被追加到MemRowSet中的原始行之后以生成重做(REDO)记录的列表。</li>\n<li>MemRowSet写满后，Kudu将数据每行相邻的列分为不同的区间，每个列为一个区间，Flush到DiskRowSet。</li>\n</ol>\n<p><strong>Kudu更新流程：</strong></p>\n<ol>\n<li>Client发送更新请求，Master获取表的相关信息，表的所有Tablet信息。</li>\n<li>Kudu检查是否符合表结构。</li>\n<li>如果需要更新的数据在MemRowSet，B+树找到待更新数据所在叶子节点，然后将更新操作记录在所在行中一个Mutation链表中；Kudu采用了MVCC(多版本并发控制，实现读和写的并行，任何写都是插入)思想，将更改的数据以链表形式追加到叶子节点后面，避免在树上进行更新和删除操作。</li>\n<li>如果需要更新的数据在DiskRowSet，找到其所在的DiskRowSet，前面提到每个DiskRowSet都会在内存中有一个DeltaMemStore，将更新操作记录在DeltaMemStore，达到一定大小才会生成DeltaFile到磁盘。</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605651-12519d77-90d0-4e92-8def-a832ad06c4b5.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346609884-6c6502ed-d74e-4796-b91c-875a4792c2e9.png?x-oss-process=image/resize,w_913,limit_0\" alt=\"img\"></p>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<blockquote>\n<p>Kudu是典型的Master-Slave架构，基于LSM优化写入性能，但同时读性能会低（相较于Parquet）。Kudu基于Raft协议实现了Master和Slave Tablet节点的数据的一致性，以及选举功能，保证了容错性和高可用。</p>\n<p>Kudu是完全的列式存储引擎，可以针对性的编码和压缩，提高了IO性能。HBase是基于列族的，No Schema的NoSQL、KV数据库，无法进行针对性的编码和压缩，同时一般情况只会用一个列族，其实HBase退化为行存储引擎。</p>\n<p>Kudu通过WAL和Raft保证了分布式数据的一致性。</p>\n<p>kudu相对于HBase，牺牲了一定的写入性能—&gt;Kudu在写入数据的时候，需要先检查一遍唯一主键是否存在，如果存在会报错，同样更新数据的时候，同样需要先查找主键是否存在。因此Insert和Update等所有操作比HBase多了，<code>先读一次</code>的开销，而HBase所有的操作都是转化为直接写入，因此写的性能相较于HBase有一定的劣势。</p>\n<p>Kudu牺牲写的性能，但是保证了一个主键，只会存在于一个RowSet中，而HBase的RowKey可能会在多个HFlie中。减少了IO，提升了读性能，特别是在大量写入，少量更新的情况下。</p>\n</blockquote>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605849-a27b0f24-9a73-486d-9797-0009ce3bc3dc.png?x-oss-process=image/resize,w_1080,limit_0\" alt=\"img\"></p>\n<p><strong>Table：</strong>具有Schema和全局有序主键的表。一张表有多个Tablet，多个Tablet包含表的全部数据。<br><strong>Tablet：</strong>Kudu的表Table被水平分割为多段，Tablet是Kudu表的一个片段（分区），每个Tablet存储一段连续范围的数据（会记录开始Key和结束Key），且两个Tablet间不会有重复范围的数据。一个Tablet会复制（逻辑复制而非物理复制，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息）多个副本在多台TServer上，其中一个副本为Leader Tablet，其他则为Follower Tablet。只有Leader Tablet响应写请求，任何Tablet副本可以响应读请求。<br><strong>TabletServer：</strong>简称TServer，负责数据存储Tablet、提供数据读写服务、编码、压缩、合并和复制。一个TServer可以是某些Tablet的Leader，也可以是某些Tablet的Follower，一个Tablet可以被多个TServer服务（多对多关系）。TServer会定期（默认1s）向Master发送心跳。<br><strong>Catalog Table：</strong>目录表，用户不可直接读取或写入，仅由Master维护，存储两类元数据：表元数据（Schema信息，位置和状态）和Tablet元数据（所有TServer的列表、每个TServer包含哪些Tablet副本、Tablet的开始Key和结束Key）。Catalog Table只存储在Master节点，也是以Tablet的形式，数据量不会很大，只有一个分区，随着Master启动而被全量加载到内存。<br><strong>Master：</strong>负责集群管理和元数据管理。具体：跟踪所有Tablets、TServer、Catalog Table和其他相关的元数据。协调客户端做元数据操作，比如创建一个新表，客户端向Master发起请求，Master写入其WAL并得到其他Master同意后将新表的元数据写入Catalog Table，并协调TServer创建Tablet。<br><strong>WAL：</strong>一个仅支持追加写的预写日志，无论Master还是Tablet都有预写日志，任何对表的修改都会在该表对应的WAL中写入条目(entry)，其他副本在数据相对落后时可以通过WAL赶上来。<br><strong>逻辑复制：</strong>Kudu基于Raft协议在集群中对每个Tablet都存储多个副本，副本中的内容不是实际的数据，而是操作该副本上的数据时对应的更改信息。Insert和Update操作会走网络IO，但Delete操作不会，压缩数据也不会走网络。</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670281157-814d5745-2416-468f-8c68-44c63244069f.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605725-aa6706b6-8453-45b7-b084-18a05394f969.png?x-oss-process=image/resize,w_829,limit_0\" alt=\"img\"></p>\n<p>如图，Table分为若干Tablet；Tablet包含Metadata和RowSet，RowSet包含一个MemRowSet及若干个DiskRowSet，DiskRowSet中包含一个BloomFile、AdhocIndex、BaseData、DeltaMem及若干个RedoFile和UndoFile（UndoFile一般情况下只有一个）。<br><strong>MemRowSet：</strong>插入新数据及更新已在MemRowSet中的数据，数据结构是B+树，主键在非叶子节点，数据都在叶子节点。MemRowSet写满后会将数据刷到磁盘形成若干个DiskRowSet。每次达到1G或者120s时生成一个DiskRowSet，DiskRowSet按列存储，类似Parquet。<br><strong>DiskRowSet：</strong>DiskRowSets存储文件格式为CFile。DiskRowSet分为BaseData和DeltaFile。这里每个Column被存储在一个相邻的数据区域，这个数据区域被分为多个小的Page，每个Column Page都可以使用一些Encoding以及Compression算法。后台会定期对DiskRowSet做Compaction，以删除没用的数据及合并历史数据，减少查询过程中的IO开销。<br><strong>BaseData：</strong>DiskRowSet刷写完成的数据，CFile，按列存储，主键有序。BaseData不可变，类似Parquet。<br><strong>BloomFile：</strong>根据一个DiskRowSet中的Key生成一个BloomFilter，用于快速模糊定位某个key是否在DiskRowSet中存在。<br><strong>AdhocIndex：</strong>存放主键的索引，用于定位Key在DiskRowSet中的具体哪个偏移位置。<br><strong>DeltaMemStore：</strong>每份DiskRowSet都对应内存中一个DeltaMemStore，负责记录这个DiskRowSet上BaseData发生后续变更的数据，先写到内存中，写满后Flush到磁盘生成RedoFile。DeltaMemStore的组织方式与MemRowSet相同，也维护一个B+树。<br><strong>DeltaFile：</strong>DeltaMemStore到一定大小会存储到磁盘形成DeltaFile，分为UndoFile和RedoFile。<br><strong>RedoFile：</strong>重做文件，记录上一次Flush生成BaseData之后发生变更数据。DeltaMemStore写满之后，也会刷成CFile，不过与BaseData分开存储，名为RedoFile。UndoFile和RedoFile与关系型数据库中的Undo日子和Redo日志类似。<br><strong>UndoFile：</strong>撤销文件，记录上一次Flush生成BaseData之前时间的历史数据，Kudu通过UndoFile可以读到历史某个时间点的数据。UndoFile一般只有一份。默认UndoFile保存15分钟，Kudu可以查询到15分钟内某列的内容，超过15分钟后会过期，该UndoFile被删除。</p>\n<p>DeltaFile(主要是RedoFile)会不断增加，产生大量小文件，不Compaction肯定影响性能，所以就有了下面两种合并方式：</p>\n<ul>\n<li>Minor Compaction：多个DeltaFile进行合并生成一个大的DeltaFile。默认是1000个DeltaFile进行合并一次。</li>\n<li>Major Compaction：RedoFile文件的大小和BaseData的文件的比例为0.1的时候，会将RedoFile合并进入BaseData，Kudu记录所有更新操作并保存为UndoFile。<br>补充一下：合并和重写BaseData是成本很高的，会产生大量IO操作，Kudu不会将全部DeltaFile合并进BaseData。如果只更新几行数据，但要重写BaseData，费力不讨好，所以Kudu会在某个特定列需要大量更新时再把BaseData与DeltaFile合并。未合并的RedoFile会继续保留等待后续合并操作。</li>\n</ul>\n<p><strong>Kudu读流程：</strong><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670543950-cf2edd8b-55d4-4eb2-b224-78d3c1d9aa31.png\" alt=\"img\"></p>\n<ol>\n<li>Client发送读请求，Master根据主键范围确定到包含所需数据的所有Tablet位置和信息。</li>\n<li>Client找到所需Tablet所在TServer，TServer接受读请求。</li>\n<li>如果要读取的数据位于内存，先从内存（MemRowSet，DeltaMemStore）读取数据，根据读取请求包含的时间戳前提交的更新合并成最终数据。</li>\n<li>如果要读取的数据位于磁盘（DiskRowSet，DeltaFile），在DeltaFile的UndoFile、RedoFile中找目标数据相关的改动，根据读取请求包含的时间戳合并成最新数据并返回。</li>\n</ol>\n<p><strong>Kudu写流程：</strong><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544082-37d8b7e9-de97-46c0-9ded-20ad7ae15c16.png\" alt=\"img\"><br><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1656670544010-1315c073-bd11-488c-a780-ffbf553002bb.png\" alt=\"img\"></p>\n<ol>\n<li>Client向Master发起写请求，Master找到对应的Tablet元数据信息，检查请求数据是否符合表结构。</li>\n<li>因为Kudu不允许有主键重复的记录，所以需要判断主键是否已经存在，先查询主键范围，如果不在范围内则准备写MemRowSet。</li>\n<li>如果在主键范围内，先通过主键Key的布隆过滤器快速模糊查找，未命中则准备写MemRowSet。</li>\n<li>如果BloomFilter命中，则查询索引，如果没命中索引则准备写MemRowSet，如果命中了主键索引就报错：主键重复。</li>\n<li>写入MemRowSet前先被提交到一个Tablet的WAL预写日志，并根据Raft一致性算法取得Follower Tablets的同意，然后才会被写入到其中一个Tablet的MemRowSet中。为了在MemRowSet中支持多版本并发控制(MVCC)，对最近插入的行(即尚未刷新到磁盘的新的行)的更新和删除操作将被追加到MemRowSet中的原始行之后以生成重做(REDO)记录的列表。</li>\n<li>MemRowSet写满后，Kudu将数据每行相邻的列分为不同的区间，每个列为一个区间，Flush到DiskRowSet。</li>\n</ol>\n<p><strong>Kudu更新流程：</strong></p>\n<ol>\n<li>Client发送更新请求，Master获取表的相关信息，表的所有Tablet信息。</li>\n<li>Kudu检查是否符合表结构。</li>\n<li>如果需要更新的数据在MemRowSet，B+树找到待更新数据所在叶子节点，然后将更新操作记录在所在行中一个Mutation链表中；Kudu采用了MVCC(多版本并发控制，实现读和写的并行，任何写都是插入)思想，将更改的数据以链表形式追加到叶子节点后面，避免在树上进行更新和删除操作。</li>\n<li>如果需要更新的数据在DiskRowSet，找到其所在的DiskRowSet，前面提到每个DiskRowSet都会在内存中有一个DeltaMemStore，将更新操作记录在DeltaMemStore，达到一定大小才会生成DeltaFile到磁盘。</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346605651-12519d77-90d0-4e92-8def-a832ad06c4b5.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1655346609884-6c6502ed-d74e-4796-b91c-875a4792c2e9.png?x-oss-process=image/resize,w_913,limit_0\" alt=\"img\"></p>\n"},{"title":"初入用户画像","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-07-16T09:18:03.000Z","updated":"2022-07-16T09:18:03.000Z","cover":"https://tva3.sinaimg.cn/large/0084aYsLgy1h22161jezaj30xc0f0dh1.jpg","description":null,"keywords":null,"_content":"\n# ![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964933349-cdb78ce8-c129-4bcb-a488-1f7893d60951.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968667409-a69d4ea1-0109-4256-b82c-0c0c9a1140a8.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968859817-eeae0216-172c-4263-ad92-dd54bc9a3e49.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970317537-eeb1a873-b622-4295-bb77-bf647ac8bf82.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657969697929-6449077d-1147-45a9-85ab-e6ba911ed237.png)\n\n# 用户画像\n\n- 应用场景\n\n1. 1. 精准营销\n   2. 数据化运营\n   3. 推荐系统\n   4. 广告投放\n   5. 产品布局\n   6. 行业报告\n   7. 场景间的共性\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964826208-f018b6ec-15cb-45ce-8f61-022a18c56ff0.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964865703-6839d76a-6684-4520-92aa-284db00a5c53.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965034189-2ce05463-eb5e-4269-998e-c23d98c9036e.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965062495-0b7a89f8-5185-4590-a1c8-9f2aa58295d1.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965084978-3bedec8e-2263-4404-ba1b-70715b55fa4d.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965117870-d6391669-0922-41fe-953d-4aa57785c0bd.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965147545-19b2219e-f017-4dfe-8454-59928015904d.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965165090-939ae364-e19c-455c-8121-04eb94795607.png)\n\n## 平台用户画像（用户群体画像）\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963821022-c48933fc-dafd-4c9b-9db9-af85fc84aa53.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963862801-930ad384-d3d7-4110-804c-441e0b754ebf.png)\n\n\n\n统计整个平台的用户画像，更了解我们的用户\n\n- 性别比例\n- 年龄分布\n- 城市分布\n- 手机系统、型号分布\n\n## 用户个体画像\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967347237-aff38b75-fbdb-4698-a17f-33990ea130b4.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967925952-df8b9a9b-edd8-47af-8a56-732e346a1219.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967976515-4e605319-54b0-430b-83f2-da4655cf61ec.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967057844-1e450af9-5466-4149-97da-f4993b741519.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968173261-a3d676b1-db1b-4d40-b4f1-ae6a6b91fa63.png)\n\n\n\n### 标签的存储\n\n- 用户画像标签表\n\n- - 1、存储到HBase - 根据UserID查询标签，用于个性化广告、推荐系统\n\n> 列族：user、item（商品标签列族）\n>\n> RowKey：userID\n>\n> Cloumn：标签名 + 标签值\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966057558-60b2c61b-2513-42d1-8e2f-2fde427d9e9d.png)\n\n- - 2、存储到Elasticsearch - 倒排索引，根据标签，圈定人群\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966542279-5879e05c-cf3a-4f15-9718-842c02cb729b.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970155892-d692d44c-4ba7-4087-9e64-a218d6a07f54.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966569582-646027f7-ed6d-46d6-9567-b66e083d3a89.png)\n\n- 标签信息表（标签**元数据**）- 存储到MySQL\n\n> TagId,\tTagName,\tTagDesc\n>\n> 384\t\t男\t\t\t用户的性别为男性\n>\n> 385\t\t女\t\t\t用户的性别为女性\n","source":"_posts/bigdata/用户画像介绍.md","raw":"---\ntitle: 初入用户画像\ntags:\n  - '用户画像'\ncategories:\n  - [bigdata,User-Profile]\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-07-16 17:18:03\nupdated: 2022-07-16 17:18:03\ncover:\ndescription:\nkeywords:\n---\n\n# ![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964933349-cdb78ce8-c129-4bcb-a488-1f7893d60951.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968667409-a69d4ea1-0109-4256-b82c-0c0c9a1140a8.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968859817-eeae0216-172c-4263-ad92-dd54bc9a3e49.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970317537-eeb1a873-b622-4295-bb77-bf647ac8bf82.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657969697929-6449077d-1147-45a9-85ab-e6ba911ed237.png)\n\n# 用户画像\n\n- 应用场景\n\n1. 1. 精准营销\n   2. 数据化运营\n   3. 推荐系统\n   4. 广告投放\n   5. 产品布局\n   6. 行业报告\n   7. 场景间的共性\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964826208-f018b6ec-15cb-45ce-8f61-022a18c56ff0.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964865703-6839d76a-6684-4520-92aa-284db00a5c53.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965034189-2ce05463-eb5e-4269-998e-c23d98c9036e.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965062495-0b7a89f8-5185-4590-a1c8-9f2aa58295d1.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965084978-3bedec8e-2263-4404-ba1b-70715b55fa4d.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965117870-d6391669-0922-41fe-953d-4aa57785c0bd.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965147545-19b2219e-f017-4dfe-8454-59928015904d.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965165090-939ae364-e19c-455c-8121-04eb94795607.png)\n\n## 平台用户画像（用户群体画像）\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963821022-c48933fc-dafd-4c9b-9db9-af85fc84aa53.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963862801-930ad384-d3d7-4110-804c-441e0b754ebf.png)\n\n\n\n统计整个平台的用户画像，更了解我们的用户\n\n- 性别比例\n- 年龄分布\n- 城市分布\n- 手机系统、型号分布\n\n## 用户个体画像\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967347237-aff38b75-fbdb-4698-a17f-33990ea130b4.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967925952-df8b9a9b-edd8-47af-8a56-732e346a1219.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967976515-4e605319-54b0-430b-83f2-da4655cf61ec.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967057844-1e450af9-5466-4149-97da-f4993b741519.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968173261-a3d676b1-db1b-4d40-b4f1-ae6a6b91fa63.png)\n\n\n\n### 标签的存储\n\n- 用户画像标签表\n\n- - 1、存储到HBase - 根据UserID查询标签，用于个性化广告、推荐系统\n\n> 列族：user、item（商品标签列族）\n>\n> RowKey：userID\n>\n> Cloumn：标签名 + 标签值\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966057558-60b2c61b-2513-42d1-8e2f-2fde427d9e9d.png)\n\n- - 2、存储到Elasticsearch - 倒排索引，根据标签，圈定人群\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966542279-5879e05c-cf3a-4f15-9718-842c02cb729b.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970155892-d692d44c-4ba7-4087-9e64-a218d6a07f54.png)\n\n![img](https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966569582-646027f7-ed6d-46d6-9567-b66e083d3a89.png)\n\n- 标签信息表（标签**元数据**）- 存储到MySQL\n\n> TagId,\tTagName,\tTagDesc\n>\n> 384\t\t男\t\t\t用户的性别为男性\n>\n> 385\t\t女\t\t\t用户的性别为女性\n","slug":"bigdata/用户画像介绍","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihps000td0ui9qq0da6x","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964933349-cdb78ce8-c129-4bcb-a488-1f7893d60951.png\" alt=\"img\"></h1><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968667409-a69d4ea1-0109-4256-b82c-0c0c9a1140a8.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968859817-eeae0216-172c-4263-ad92-dd54bc9a3e49.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970317537-eeb1a873-b622-4295-bb77-bf647ac8bf82.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657969697929-6449077d-1147-45a9-85ab-e6ba911ed237.png\" alt=\"img\"></p>\n<h1 id=\"用户画像\"><a href=\"#用户画像\" class=\"headerlink\" title=\"用户画像\"></a>用户画像</h1><ul>\n<li>应用场景</li>\n</ul>\n<ol>\n<li><ol>\n<li>精准营销</li>\n<li>数据化运营</li>\n<li>推荐系统</li>\n<li>广告投放</li>\n<li>产品布局</li>\n<li>行业报告</li>\n<li>场景间的共性</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964826208-f018b6ec-15cb-45ce-8f61-022a18c56ff0.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964865703-6839d76a-6684-4520-92aa-284db00a5c53.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965034189-2ce05463-eb5e-4269-998e-c23d98c9036e.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965062495-0b7a89f8-5185-4590-a1c8-9f2aa58295d1.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965084978-3bedec8e-2263-4404-ba1b-70715b55fa4d.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965117870-d6391669-0922-41fe-953d-4aa57785c0bd.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965147545-19b2219e-f017-4dfe-8454-59928015904d.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965165090-939ae364-e19c-455c-8121-04eb94795607.png\" alt=\"img\"></p>\n<h2 id=\"平台用户画像（用户群体画像）\"><a href=\"#平台用户画像（用户群体画像）\" class=\"headerlink\" title=\"平台用户画像（用户群体画像）\"></a>平台用户画像（用户群体画像）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963821022-c48933fc-dafd-4c9b-9db9-af85fc84aa53.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963862801-930ad384-d3d7-4110-804c-441e0b754ebf.png\" alt=\"img\"></p>\n<p>统计整个平台的用户画像，更了解我们的用户</p>\n<ul>\n<li>性别比例</li>\n<li>年龄分布</li>\n<li>城市分布</li>\n<li>手机系统、型号分布</li>\n</ul>\n<h2 id=\"用户个体画像\"><a href=\"#用户个体画像\" class=\"headerlink\" title=\"用户个体画像\"></a>用户个体画像</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967347237-aff38b75-fbdb-4698-a17f-33990ea130b4.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967925952-df8b9a9b-edd8-47af-8a56-732e346a1219.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967976515-4e605319-54b0-430b-83f2-da4655cf61ec.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967057844-1e450af9-5466-4149-97da-f4993b741519.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968173261-a3d676b1-db1b-4d40-b4f1-ae6a6b91fa63.png\" alt=\"img\"></p>\n<h3 id=\"标签的存储\"><a href=\"#标签的存储\" class=\"headerlink\" title=\"标签的存储\"></a>标签的存储</h3><ul>\n<li><p>用户画像标签表</p>\n</li>\n<li><ul>\n<li>1、存储到HBase - 根据UserID查询标签，用于个性化广告、推荐系统</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>列族：user、item（商品标签列族）</p>\n<p>RowKey：userID</p>\n<p>Cloumn：标签名 + 标签值</p>\n</blockquote>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966057558-60b2c61b-2513-42d1-8e2f-2fde427d9e9d.png\" alt=\"img\"></p>\n<ul>\n<li><ul>\n<li>2、存储到Elasticsearch - 倒排索引，根据标签，圈定人群</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966542279-5879e05c-cf3a-4f15-9718-842c02cb729b.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970155892-d692d44c-4ba7-4087-9e64-a218d6a07f54.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966569582-646027f7-ed6d-46d6-9567-b66e083d3a89.png\" alt=\"img\"></p>\n<ul>\n<li>标签信息表（标签<strong>元数据</strong>）- 存储到MySQL</li>\n</ul>\n<blockquote>\n<p>TagId,\tTagName,\tTagDesc</p>\n<p>384\t\t男\t\t\t用户的性别为男性</p>\n<p>385\t\t女\t\t\t用户的性别为女性</p>\n</blockquote>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964933349-cdb78ce8-c129-4bcb-a488-1f7893d60951.png\" alt=\"img\"></h1><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968667409-a69d4ea1-0109-4256-b82c-0c0c9a1140a8.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968859817-eeae0216-172c-4263-ad92-dd54bc9a3e49.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970317537-eeb1a873-b622-4295-bb77-bf647ac8bf82.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657969697929-6449077d-1147-45a9-85ab-e6ba911ed237.png\" alt=\"img\"></p>\n<h1 id=\"用户画像\"><a href=\"#用户画像\" class=\"headerlink\" title=\"用户画像\"></a>用户画像</h1><ul>\n<li>应用场景</li>\n</ul>\n<ol>\n<li><ol>\n<li>精准营销</li>\n<li>数据化运营</li>\n<li>推荐系统</li>\n<li>广告投放</li>\n<li>产品布局</li>\n<li>行业报告</li>\n<li>场景间的共性</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964826208-f018b6ec-15cb-45ce-8f61-022a18c56ff0.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657964865703-6839d76a-6684-4520-92aa-284db00a5c53.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965034189-2ce05463-eb5e-4269-998e-c23d98c9036e.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965062495-0b7a89f8-5185-4590-a1c8-9f2aa58295d1.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965084978-3bedec8e-2263-4404-ba1b-70715b55fa4d.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965117870-d6391669-0922-41fe-953d-4aa57785c0bd.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965147545-19b2219e-f017-4dfe-8454-59928015904d.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657965165090-939ae364-e19c-455c-8121-04eb94795607.png\" alt=\"img\"></p>\n<h2 id=\"平台用户画像（用户群体画像）\"><a href=\"#平台用户画像（用户群体画像）\" class=\"headerlink\" title=\"平台用户画像（用户群体画像）\"></a>平台用户画像（用户群体画像）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963821022-c48933fc-dafd-4c9b-9db9-af85fc84aa53.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657963862801-930ad384-d3d7-4110-804c-441e0b754ebf.png\" alt=\"img\"></p>\n<p>统计整个平台的用户画像，更了解我们的用户</p>\n<ul>\n<li>性别比例</li>\n<li>年龄分布</li>\n<li>城市分布</li>\n<li>手机系统、型号分布</li>\n</ul>\n<h2 id=\"用户个体画像\"><a href=\"#用户个体画像\" class=\"headerlink\" title=\"用户个体画像\"></a>用户个体画像</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967347237-aff38b75-fbdb-4698-a17f-33990ea130b4.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967925952-df8b9a9b-edd8-47af-8a56-732e346a1219.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967976515-4e605319-54b0-430b-83f2-da4655cf61ec.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657967057844-1e450af9-5466-4149-97da-f4993b741519.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657968173261-a3d676b1-db1b-4d40-b4f1-ae6a6b91fa63.png\" alt=\"img\"></p>\n<h3 id=\"标签的存储\"><a href=\"#标签的存储\" class=\"headerlink\" title=\"标签的存储\"></a>标签的存储</h3><ul>\n<li><p>用户画像标签表</p>\n</li>\n<li><ul>\n<li>1、存储到HBase - 根据UserID查询标签，用于个性化广告、推荐系统</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>列族：user、item（商品标签列族）</p>\n<p>RowKey：userID</p>\n<p>Cloumn：标签名 + 标签值</p>\n</blockquote>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966057558-60b2c61b-2513-42d1-8e2f-2fde427d9e9d.png\" alt=\"img\"></p>\n<ul>\n<li><ul>\n<li>2、存储到Elasticsearch - 倒排索引，根据标签，圈定人群</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966542279-5879e05c-cf3a-4f15-9718-842c02cb729b.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657970155892-d692d44c-4ba7-4087-9e64-a218d6a07f54.png\" alt=\"img\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/2500465/1657966569582-646027f7-ed6d-46d6-9567-b66e083d3a89.png\" alt=\"img\"></p>\n<ul>\n<li>标签信息表（标签<strong>元数据</strong>）- 存储到MySQL</li>\n</ul>\n<blockquote>\n<p>TagId,\tTagName,\tTagDesc</p>\n<p>384\t\t男\t\t\t用户的性别为男性</p>\n<p>385\t\t女\t\t\t用户的性别为女性</p>\n</blockquote>\n"},{"title":"hexo不显示语雀图床CDN图片的解决办法","top_img":null,"date":"2022-07-02T03:22:17.000Z","updated":"2022-07-02T03:22:17.000Z","cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","description":null,"keywords":null,"_content":"\n# 前言\n\n在语雀中写了一点东西，于是想着一起发到hexo上面，本地Typora显示完全没有问题，但是打开博客一看，图片全挂了！！！\n\n于是复制图片链接到浏览器上，竟然是直接下载，什么情况，直接懵逼。又试了试正常显示的图片，是在浏览器打开的。Google了半天，原来是语雀的防盗链搞得。\n\n\n\n# 解决方法\n\n\n\n### 1、在Hexo的.md文件加上`<meta name=\"referrer\" content=\"no-referrer\" />`\n\n- 可以在post模板中直接加上,就像下面这样，每次`hexo new post`创建都会自动加上，就不用每次都添加了。\n\n``` markdown\n---\ntitle: \ntags:\n  - ''\ncategories:\n  - []\ntop_img: \ndate: \nupdated: \ncover:\ndescription:\nkeywords:\n---\n  \n<meta name=\"referrer\" content=\"no-referrer\" />\n```\n\n\n\n### 2、以`<img src=\"xxxx\" referrerpolicy=\"no-referrer\">`的形式插入图片\n\n- 太麻烦了,每次都要设置`referrerpolicy=\"no-referrer\"`\n\n\n\n### 3、在html模版的头信息中添加`<meta name=\"referrer\" content=\"no-referrer\" />`\n\n#### 1、butterfly主题\n\n在hexo-theme-butterfly/layout/includes目录下的head.pug文件中添加`meta(name=\"referrer\" content=\"no-referrer\")`\n\n```typescript\nmeta(charset='UTF-8')\nmeta(http-equiv=\"X-UA-Compatible\" content=\"IE=edge\")\nmeta(name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\")\ntitle= tabTitle\nif pageKeywords\n  meta(name=\"keywords\" content=pageKeywords)\nmeta(name=\"author\" content=pageAuthor)\nmeta(name=\"copyright\" content=pageCopyright)\nmeta(name =\"format-detection\" content=\"telephone=no\")\nmeta(name=\"theme-color\" content=themeColor)\n\nmeta(name=\"referrer\" content=\"no-referrer\")\n```\n\n\n\n# 参考资料\n\n- https://github.com/x-cold/yuque-hexo/issues/41\n\n","source":"_posts/hexo/hexo不显示语雀图床CDN图片的解决办法.md","raw":"---\ntitle: hexo不显示语雀图床CDN图片的解决办法\ntags:\n  - 'hexo'\ncategories:\n  - [hexo]\ntop_img: \ndate: 2022-07-02 11:22:17\nupdated: 2022-07-02 11:22:17\ncover:\ndescription:\nkeywords:\n---\n\n# 前言\n\n在语雀中写了一点东西，于是想着一起发到hexo上面，本地Typora显示完全没有问题，但是打开博客一看，图片全挂了！！！\n\n于是复制图片链接到浏览器上，竟然是直接下载，什么情况，直接懵逼。又试了试正常显示的图片，是在浏览器打开的。Google了半天，原来是语雀的防盗链搞得。\n\n\n\n# 解决方法\n\n\n\n### 1、在Hexo的.md文件加上`<meta name=\"referrer\" content=\"no-referrer\" />`\n\n- 可以在post模板中直接加上,就像下面这样，每次`hexo new post`创建都会自动加上，就不用每次都添加了。\n\n``` markdown\n---\ntitle: \ntags:\n  - ''\ncategories:\n  - []\ntop_img: \ndate: \nupdated: \ncover:\ndescription:\nkeywords:\n---\n  \n<meta name=\"referrer\" content=\"no-referrer\" />\n```\n\n\n\n### 2、以`<img src=\"xxxx\" referrerpolicy=\"no-referrer\">`的形式插入图片\n\n- 太麻烦了,每次都要设置`referrerpolicy=\"no-referrer\"`\n\n\n\n### 3、在html模版的头信息中添加`<meta name=\"referrer\" content=\"no-referrer\" />`\n\n#### 1、butterfly主题\n\n在hexo-theme-butterfly/layout/includes目录下的head.pug文件中添加`meta(name=\"referrer\" content=\"no-referrer\")`\n\n```typescript\nmeta(charset='UTF-8')\nmeta(http-equiv=\"X-UA-Compatible\" content=\"IE=edge\")\nmeta(name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\")\ntitle= tabTitle\nif pageKeywords\n  meta(name=\"keywords\" content=pageKeywords)\nmeta(name=\"author\" content=pageAuthor)\nmeta(name=\"copyright\" content=pageCopyright)\nmeta(name =\"format-detection\" content=\"telephone=no\")\nmeta(name=\"theme-color\" content=themeColor)\n\nmeta(name=\"referrer\" content=\"no-referrer\")\n```\n\n\n\n# 参考资料\n\n- https://github.com/x-cold/yuque-hexo/issues/41\n\n","slug":"hexo/hexo不显示语雀图床CDN图片的解决办法","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihpt000wd0uif5fu4r67","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>在语雀中写了一点东西，于是想着一起发到hexo上面，本地Typora显示完全没有问题，但是打开博客一看，图片全挂了！！！</p>\n<p>于是复制图片链接到浏览器上，竟然是直接下载，什么情况，直接懵逼。又试了试正常显示的图片，是在浏览器打开的。Google了半天，原来是语雀的防盗链搞得。</p>\n<h1 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h1><h3 id=\"1、在Hexo的-md文件加上-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\"><a href=\"#1、在Hexo的-md文件加上-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\" class=\"headerlink\" title=\"1、在Hexo的.md文件加上&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;\"></a>1、在Hexo的.md文件加上<code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code></h3><ul>\n<li>可以在post模板中直接加上,就像下面这样，每次<code>hexo new post</code>创建都会自动加上，就不用每次都添加了。</li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: </span><br><span class=\"line\">tags:</span><br><span class=\"line\"><span class=\"bullet\">  -</span> &#x27;&#x27;</span><br><span class=\"line\">categories:</span><br><span class=\"line\"><span class=\"bullet\">  -</span> []</span><br><span class=\"line\">top<span class=\"emphasis\">_img: </span></span><br><span class=\"line\"><span class=\"emphasis\">date: </span></span><br><span class=\"line\"><span class=\"emphasis\">updated: </span></span><br><span class=\"line\"><span class=\"emphasis\">cover:</span></span><br><span class=\"line\"><span class=\"emphasis\">description:</span></span><br><span class=\"line\"><span class=\"emphasis\">keywords:</span></span><br><span class=\"line\"><span class=\"emphasis\">---</span></span><br><span class=\"line\"><span class=\"emphasis\">  </span></span><br><span class=\"line\"><span class=\"emphasis\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;referrer&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;no-referrer&quot;</span> /&gt;</span></span></span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2、以-lt-img-src-quot-xxxx-quot-referrerpolicy-quot-no-referrer-quot-gt-的形式插入图片\"><a href=\"#2、以-lt-img-src-quot-xxxx-quot-referrerpolicy-quot-no-referrer-quot-gt-的形式插入图片\" class=\"headerlink\" title=\"2、以&lt;img src=&quot;xxxx&quot; referrerpolicy=&quot;no-referrer&quot;&gt;的形式插入图片\"></a>2、以<code>&lt;img src=&quot;xxxx&quot; referrerpolicy=&quot;no-referrer&quot;&gt;</code>的形式插入图片</h3><ul>\n<li>太麻烦了,每次都要设置<code>referrerpolicy=&quot;no-referrer&quot;</code></li>\n</ul>\n<h3 id=\"3、在html模版的头信息中添加-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\"><a href=\"#3、在html模版的头信息中添加-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\" class=\"headerlink\" title=\"3、在html模版的头信息中添加&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;\"></a>3、在html模版的头信息中添加<code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code></h3><h4 id=\"1、butterfly主题\"><a href=\"#1、butterfly主题\" class=\"headerlink\" title=\"1、butterfly主题\"></a>1、butterfly主题</h4><p>在hexo-theme-butterfly&#x2F;layout&#x2F;includes目录下的head.pug文件中添加<code>meta(name=&quot;referrer&quot; content=&quot;no-referrer&quot;)</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">meta</span>(charset=<span class=\"string\">&#x27;UTF-8&#x27;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=edge&quot;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span>)</span><br><span class=\"line\">title= tabTitle</span><br><span class=\"line\"><span class=\"keyword\">if</span> pageKeywords</span><br><span class=\"line\">  <span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;keywords&quot;</span> content=pageKeywords)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;author&quot;</span> content=pageAuthor)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;copyright&quot;</span> content=pageCopyright)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name =<span class=\"string\">&quot;format-detection&quot;</span> content=<span class=\"string\">&quot;telephone=no&quot;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;theme-color&quot;</span> content=themeColor)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;referrer&quot;</span> content=<span class=\"string\">&quot;no-referrer&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://github.com/x-cold/yuque-hexo/issues/41\">https://github.com/x-cold/yuque-hexo/issues/41</a></li>\n</ul>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>在语雀中写了一点东西，于是想着一起发到hexo上面，本地Typora显示完全没有问题，但是打开博客一看，图片全挂了！！！</p>\n<p>于是复制图片链接到浏览器上，竟然是直接下载，什么情况，直接懵逼。又试了试正常显示的图片，是在浏览器打开的。Google了半天，原来是语雀的防盗链搞得。</p>\n<h1 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h1><h3 id=\"1、在Hexo的-md文件加上-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\"><a href=\"#1、在Hexo的-md文件加上-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\" class=\"headerlink\" title=\"1、在Hexo的.md文件加上&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;\"></a>1、在Hexo的.md文件加上<code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code></h3><ul>\n<li>可以在post模板中直接加上,就像下面这样，每次<code>hexo new post</code>创建都会自动加上，就不用每次都添加了。</li>\n</ul>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: </span><br><span class=\"line\">tags:</span><br><span class=\"line\"><span class=\"bullet\">  -</span> &#x27;&#x27;</span><br><span class=\"line\">categories:</span><br><span class=\"line\"><span class=\"bullet\">  -</span> []</span><br><span class=\"line\">top<span class=\"emphasis\">_img: </span></span><br><span class=\"line\"><span class=\"emphasis\">date: </span></span><br><span class=\"line\"><span class=\"emphasis\">updated: </span></span><br><span class=\"line\"><span class=\"emphasis\">cover:</span></span><br><span class=\"line\"><span class=\"emphasis\">description:</span></span><br><span class=\"line\"><span class=\"emphasis\">keywords:</span></span><br><span class=\"line\"><span class=\"emphasis\">---</span></span><br><span class=\"line\"><span class=\"emphasis\">  </span></span><br><span class=\"line\"><span class=\"emphasis\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;referrer&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;no-referrer&quot;</span> /&gt;</span></span></span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2、以-lt-img-src-quot-xxxx-quot-referrerpolicy-quot-no-referrer-quot-gt-的形式插入图片\"><a href=\"#2、以-lt-img-src-quot-xxxx-quot-referrerpolicy-quot-no-referrer-quot-gt-的形式插入图片\" class=\"headerlink\" title=\"2、以&lt;img src=&quot;xxxx&quot; referrerpolicy=&quot;no-referrer&quot;&gt;的形式插入图片\"></a>2、以<code>&lt;img src=&quot;xxxx&quot; referrerpolicy=&quot;no-referrer&quot;&gt;</code>的形式插入图片</h3><ul>\n<li>太麻烦了,每次都要设置<code>referrerpolicy=&quot;no-referrer&quot;</code></li>\n</ul>\n<h3 id=\"3、在html模版的头信息中添加-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\"><a href=\"#3、在html模版的头信息中添加-lt-meta-name-quot-referrer-quot-content-quot-no-referrer-quot-gt\" class=\"headerlink\" title=\"3、在html模版的头信息中添加&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;\"></a>3、在html模版的头信息中添加<code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code></h3><h4 id=\"1、butterfly主题\"><a href=\"#1、butterfly主题\" class=\"headerlink\" title=\"1、butterfly主题\"></a>1、butterfly主题</h4><p>在hexo-theme-butterfly&#x2F;layout&#x2F;includes目录下的head.pug文件中添加<code>meta(name=&quot;referrer&quot; content=&quot;no-referrer&quot;)</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">meta</span>(charset=<span class=\"string\">&#x27;UTF-8&#x27;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(http-equiv=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> content=<span class=\"string\">&quot;IE=edge&quot;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span>)</span><br><span class=\"line\">title= tabTitle</span><br><span class=\"line\"><span class=\"keyword\">if</span> pageKeywords</span><br><span class=\"line\">  <span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;keywords&quot;</span> content=pageKeywords)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;author&quot;</span> content=pageAuthor)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;copyright&quot;</span> content=pageCopyright)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name =<span class=\"string\">&quot;format-detection&quot;</span> content=<span class=\"string\">&quot;telephone=no&quot;</span>)</span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;theme-color&quot;</span> content=themeColor)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">meta</span>(name=<span class=\"string\">&quot;referrer&quot;</span> content=<span class=\"string\">&quot;no-referrer&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://github.com/x-cold/yuque-hexo/issues/41\">https://github.com/x-cold/yuque-hexo/issues/41</a></li>\n</ul>\n"},{"title":"从github恢复备份hexo博客By hexo-git-backup","top_img":"linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)","date":"2022-06-29T05:54:12.000Z","updated":"2022-06-29T05:54:12.000Z","cover":"https://tvax3.sinaimg.cn/large/0084aYsLly1gnhmxy0hdlj31hc0u0gpt.jpg","description":null,"keywords":null,"_content":"\n\n\n​\t\t利用hexo + github pages构建静态博客网站，hexo发布到github上的内容是渲染过后的文件。而我们自己写的markdown文件并没有推送到github上面，因此如果发生电脑挂掉、磁盘挂掉等意外，我们的.md源文件以及我们的博客配置文件就会丢失。丢失后要想还原回去，就需要费好大力气了。\n\n​\t\t因此我们需要备份源数据，并且最好每次部署博客的时候，就自动进行备份，而不需要再手动去备份。\n\n\n\n## 利用hexo-git-backup插件备份源文件\n\n- 1、安装hexo-git-backup插件\n\n  ```\n  $ npm install hexo-git-backup --save\n  ```\n\n- 2、配置插件，同步源数据到github仓库\n\n  **强烈建议：备份到博客所在的同一个git仓库的不同分支，方便管理，下面是备份到hexo分支**\n\n  > 编辑hexo的配置文件_config.yml，添加需要备份到仓库\n\n  ```yml\n  # 备份插件：hexo-git-backup\n  backup:\n      type: git\n      repository:\n         github: git@github.com:xxxxx.git,hexo\n  ```\n\n- 3、hexo根目录执行hexo b命令，即可完成备份\n\n\n\n##  每次更新博客后，自动进行备份\n\n- 使用windows的同学，强烈建议(￣▽￣)\"开启linux子系统WSL，在WSL中部署Hexo：https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/\n\n### 利用shell alias，部署后自动备份\n\n- 编辑zsh的配置文件~/.zshrc，添加别名alias：\n\n```shell\nalias hd=\"hexo clean && hexo g && hexo d && hexo b\"\n```\n\n- 每次要更新博客进行部署的时候，直接执行`hd`命令，就会自动完成部署和备份的工作。\n\n  \n\n  \n","source":"_posts/hexo/从github恢复备份hexo博客hexo-git-backup.md","raw":"---\ntitle: 从github恢复备份hexo博客By hexo-git-backup\ntags:\n  - 'hexo'\ncategories:\n  - [hexo]\ntop_img: 'linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)'\ndate: 2022-06-29 13:54:12\nupdated: 2022-06-29 13:54:12\ncover:\ndescription:\nkeywords:\n---\n\n\n\n​\t\t利用hexo + github pages构建静态博客网站，hexo发布到github上的内容是渲染过后的文件。而我们自己写的markdown文件并没有推送到github上面，因此如果发生电脑挂掉、磁盘挂掉等意外，我们的.md源文件以及我们的博客配置文件就会丢失。丢失后要想还原回去，就需要费好大力气了。\n\n​\t\t因此我们需要备份源数据，并且最好每次部署博客的时候，就自动进行备份，而不需要再手动去备份。\n\n\n\n## 利用hexo-git-backup插件备份源文件\n\n- 1、安装hexo-git-backup插件\n\n  ```\n  $ npm install hexo-git-backup --save\n  ```\n\n- 2、配置插件，同步源数据到github仓库\n\n  **强烈建议：备份到博客所在的同一个git仓库的不同分支，方便管理，下面是备份到hexo分支**\n\n  > 编辑hexo的配置文件_config.yml，添加需要备份到仓库\n\n  ```yml\n  # 备份插件：hexo-git-backup\n  backup:\n      type: git\n      repository:\n         github: git@github.com:xxxxx.git,hexo\n  ```\n\n- 3、hexo根目录执行hexo b命令，即可完成备份\n\n\n\n##  每次更新博客后，自动进行备份\n\n- 使用windows的同学，强烈建议(￣▽￣)\"开启linux子系统WSL，在WSL中部署Hexo：https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/\n\n### 利用shell alias，部署后自动备份\n\n- 编辑zsh的配置文件~/.zshrc，添加别名alias：\n\n```shell\nalias hd=\"hexo clean && hexo g && hexo d && hexo b\"\n```\n\n- 每次要更新博客进行部署的时候，直接执行`hd`命令，就会自动完成部署和备份的工作。\n\n  \n\n  \n","slug":"hexo/从github恢复备份hexo博客hexo-git-backup","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5pyihqb002dd0uigo8jcx27","content":"<p>​\t\t利用hexo + github pages构建静态博客网站，hexo发布到github上的内容是渲染过后的文件。而我们自己写的markdown文件并没有推送到github上面，因此如果发生电脑挂掉、磁盘挂掉等意外，我们的.md源文件以及我们的博客配置文件就会丢失。丢失后要想还原回去，就需要费好大力气了。</p>\n<p>​\t\t因此我们需要备份源数据，并且最好每次部署博客的时候，就自动进行备份，而不需要再手动去备份。</p>\n<h2 id=\"利用hexo-git-backup插件备份源文件\"><a href=\"#利用hexo-git-backup插件备份源文件\" class=\"headerlink\" title=\"利用hexo-git-backup插件备份源文件\"></a>利用hexo-git-backup插件备份源文件</h2><ul>\n<li><p>1、安装hexo-git-backup插件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>2、配置插件，同步源数据到github仓库</p>\n<p><strong>强烈建议：备份到博客所在的同一个git仓库的不同分支，方便管理，下面是备份到hexo分支</strong></p>\n<blockquote>\n<p>编辑hexo的配置文件_config.yml，添加需要备份到仓库</p>\n</blockquote>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 备份插件：hexo-git-backup</span></span><br><span class=\"line\"><span class=\"attr\">backup:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repository:</span></span><br><span class=\"line\">       <span class=\"attr\">github:</span> <span class=\"string\">git@github.com:xxxxx.git,hexo</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>3、hexo根目录执行hexo b命令，即可完成备份</p>\n</li>\n</ul>\n<h2 id=\"每次更新博客后，自动进行备份\"><a href=\"#每次更新博客后，自动进行备份\" class=\"headerlink\" title=\"每次更新博客后，自动进行备份\"></a>每次更新博客后，自动进行备份</h2><ul>\n<li>使用windows的同学，强烈建议(￣▽￣)”开启linux子系统WSL，在WSL中部署Hexo：<a href=\"https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/\">https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/</a></li>\n</ul>\n<h3 id=\"利用shell-alias，部署后自动备份\"><a href=\"#利用shell-alias，部署后自动备份\" class=\"headerlink\" title=\"利用shell alias，部署后自动备份\"></a>利用shell alias，部署后自动备份</h3><ul>\n<li>编辑zsh的配置文件~&#x2F;.zshrc，添加别名alias：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alias hd=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo b&quot;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>每次要更新博客进行部署的时候，直接执行<code>hd</code>命令，就会自动完成部署和备份的工作。</li>\n</ul>\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"那些人，那些事","link_list":[{"name":"张洪Heo","link":"https://blog.zhheo.com/","avatar":"https://npm.elemecdn.com/guli-heo/img/avatar2.png","descr":"分享设计与科技生活"},{"name":"瞬間の筆記","link":"https://hikki.site","descr":"喜欢的东西就努力去追求，万一成功了呢!","avatar":"https://cdn.jsdelivr.net/gh/0000rookie/imgs/202206120315.png"}]}]}},"excerpt":"","more":"<p>​\t\t利用hexo + github pages构建静态博客网站，hexo发布到github上的内容是渲染过后的文件。而我们自己写的markdown文件并没有推送到github上面，因此如果发生电脑挂掉、磁盘挂掉等意外，我们的.md源文件以及我们的博客配置文件就会丢失。丢失后要想还原回去，就需要费好大力气了。</p>\n<p>​\t\t因此我们需要备份源数据，并且最好每次部署博客的时候，就自动进行备份，而不需要再手动去备份。</p>\n<h2 id=\"利用hexo-git-backup插件备份源文件\"><a href=\"#利用hexo-git-backup插件备份源文件\" class=\"headerlink\" title=\"利用hexo-git-backup插件备份源文件\"></a>利用hexo-git-backup插件备份源文件</h2><ul>\n<li><p>1、安装hexo-git-backup插件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-git-backup --save</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>2、配置插件，同步源数据到github仓库</p>\n<p><strong>强烈建议：备份到博客所在的同一个git仓库的不同分支，方便管理，下面是备份到hexo分支</strong></p>\n<blockquote>\n<p>编辑hexo的配置文件_config.yml，添加需要备份到仓库</p>\n</blockquote>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 备份插件：hexo-git-backup</span></span><br><span class=\"line\"><span class=\"attr\">backup:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repository:</span></span><br><span class=\"line\">       <span class=\"attr\">github:</span> <span class=\"string\">git@github.com:xxxxx.git,hexo</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>3、hexo根目录执行hexo b命令，即可完成备份</p>\n</li>\n</ul>\n<h2 id=\"每次更新博客后，自动进行备份\"><a href=\"#每次更新博客后，自动进行备份\" class=\"headerlink\" title=\"每次更新博客后，自动进行备份\"></a>每次更新博客后，自动进行备份</h2><ul>\n<li>使用windows的同学，强烈建议(￣▽￣)”开启linux子系统WSL，在WSL中部署Hexo：<a href=\"https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/\">https://poxiao.tk/2022/06/WSL%E4%B8%AD%E7%9A%84%E9%AA%9A%E6%93%8D%E4%BD%9C/</a></li>\n</ul>\n<h3 id=\"利用shell-alias，部署后自动备份\"><a href=\"#利用shell-alias，部署后自动备份\" class=\"headerlink\" title=\"利用shell alias，部署后自动备份\"></a>利用shell alias，部署后自动备份</h3><ul>\n<li>编辑zsh的配置文件~&#x2F;.zshrc，添加别名alias：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alias hd=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; hexo b&quot;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>每次要更新博客进行部署的时候，直接执行<code>hd</code>命令，就会自动完成部署和备份的工作。</li>\n</ul>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cl5pyihpj000bd0uie88fhbvr","category_id":"cl5pyihpg0007d0ui1jsuct2l","_id":"cl5pyihpp000ld0ui59jz1miy"},{"post_id":"cl5pyihp80001d0uihtli67y1","category_id":"cl5pyihpg0007d0ui1jsuct2l","_id":"cl5pyihpq000nd0uiek5haq6w"},{"post_id":"cl5pyihpk000fd0uib55n3bf2","category_id":"cl5pyihpg0007d0ui1jsuct2l","_id":"cl5pyihps000rd0ui330343d9"},{"post_id":"cl5pyihpf0006d0uihtftexmq","category_id":"cl5pyihpo000id0uidl9i5kq9","_id":"cl5pyihpu000zd0ui7m399dwp"},{"post_id":"cl5pyihpi0009d0uidq6jfzv7","category_id":"cl5pyihpr000pd0ui08j8ftjd","_id":"cl5pyihpw0014d0uifrz4e2gd"},{"post_id":"cl5pyihpt000wd0uif5fu4r67","category_id":"cl5pyihpg0007d0ui1jsuct2l","_id":"cl5pyihpw0016d0ui7idtd5x6"},{"post_id":"cl5pyihpb0003d0ui7din18l3","category_id":"cl5pyihpk000dd0ui4w2s8324","_id":"cl5pyihpy0019d0ui0jjq93nh"},{"post_id":"cl5pyihpb0003d0ui7din18l3","category_id":"cl5pyihpu000xd0uiblr92nu0","_id":"cl5pyihpy001ad0uibbcr1zvc"},{"post_id":"cl5pyihpo000kd0ui04aqh3dn","category_id":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq2001od0uih64aan7q"},{"post_id":"cl5pyihpo000kd0ui04aqh3dn","category_id":"cl5pyihq0001hd0uiars2aho8","_id":"cl5pyihq2001qd0ui8z3n84rs"},{"post_id":"cl5pyihpp000md0uih4hm8803","category_id":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq3001ud0uiaa03coun"},{"post_id":"cl5pyihpp000md0uih4hm8803","category_id":"cl5pyihq1001kd0uigh5o5adi","_id":"cl5pyihq3001wd0ui78byc4qb"},{"post_id":"cl5pyihpr000qd0ui380td49e","category_id":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq4001zd0uier0f8ta1"},{"post_id":"cl5pyihpr000qd0ui380td49e","category_id":"cl5pyihq2001md0uie3ghe0hz","_id":"cl5pyihq40020d0ui5d8jfrkn"},{"post_id":"cl5pyihps000td0ui9qq0da6x","category_id":"cl5pyihpv0012d0uihv4peepw","_id":"cl5pyihq40022d0ui37kqh75n"},{"post_id":"cl5pyihps000td0ui9qq0da6x","category_id":"cl5pyihq3001sd0uic6ilc4cz","_id":"cl5pyihq40024d0uidil7bf5f"},{"post_id":"cl5pyihqb002dd0uigo8jcx27","category_id":"cl5pyihpg0007d0ui1jsuct2l","_id":"cl5pyihqc002fd0ui6qfv60ii"}],"PostTag":[{"post_id":"cl5pyihpk000fd0uib55n3bf2","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihpo000jd0ui7gjxf14u"},{"post_id":"cl5pyihp80001d0uihtli67y1","tag_id":"cl5pyihpd0004d0uiey0a590o","_id":"cl5pyihps000sd0ui361i9bpv"},{"post_id":"cl5pyihp80001d0uihtli67y1","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihpt000ud0uicdh59ney"},{"post_id":"cl5pyihp80001d0uihtli67y1","tag_id":"cl5pyihpn000hd0ui97micaqq","_id":"cl5pyihpu000yd0uien4keyou"},{"post_id":"cl5pyihpb0003d0ui7din18l3","tag_id":"cl5pyihpr000od0ui5ax68wkn","_id":"cl5pyihpv0010d0ui6ygsgnbw"},{"post_id":"cl5pyihpt000wd0uif5fu4r67","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihpw0013d0ui41xj5wg5"},{"post_id":"cl5pyihpf0006d0uihtftexmq","tag_id":"cl5pyihpt000vd0uifw4adbzn","_id":"cl5pyihpw0015d0uihyn99fkc"},{"post_id":"cl5pyihpi0009d0uidq6jfzv7","tag_id":"cl5pyihpv0011d0ui3ivkfmf9","_id":"cl5pyihpz001fd0ui0z9tbr2x"},{"post_id":"cl5pyihpi0009d0uidq6jfzv7","tag_id":"cl5pyihpw0017d0uid03a2et7","_id":"cl5pyihq0001gd0uibab787di"},{"post_id":"cl5pyihpi0009d0uidq6jfzv7","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihq1001jd0ui9ewq5gje"},{"post_id":"cl5pyihpj000bd0uie88fhbvr","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihq2001pd0uic8zh5oml"},{"post_id":"cl5pyihpj000bd0uie88fhbvr","tag_id":"cl5pyihq1001id0uigi72fbiv","_id":"cl5pyihq3001rd0uibsc7boqx"},{"post_id":"cl5pyihpj000bd0uie88fhbvr","tag_id":"cl5pyihq1001ld0ui3lpl76dy","_id":"cl5pyihq3001vd0ui46hz23o9"},{"post_id":"cl5pyihpl000gd0uifgnrdar4","tag_id":"cl5pyihq2001nd0uibfavew79","_id":"cl5pyihq3001xd0ui0oshe5x0"},{"post_id":"cl5pyihpo000kd0ui04aqh3dn","tag_id":"cl5pyihq3001td0ui40sife18","_id":"cl5pyihq40023d0ui25olgkg6"},{"post_id":"cl5pyihpo000kd0ui04aqh3dn","tag_id":"cl5pyihq3001yd0uie432831t","_id":"cl5pyihq40025d0uihd99hcre"},{"post_id":"cl5pyihpp000md0uih4hm8803","tag_id":"cl5pyihq40021d0ui2ncsh8i0","_id":"cl5pyihq50028d0ui0srh9v4u"},{"post_id":"cl5pyihpp000md0uih4hm8803","tag_id":"cl5pyihq40026d0ui8d0r7k2m","_id":"cl5pyihq50029d0uihefj92xg"},{"post_id":"cl5pyihpr000qd0ui380td49e","tag_id":"cl5pyihq40027d0uib7o5dv3n","_id":"cl5pyihq7002bd0uigv6ibkms"},{"post_id":"cl5pyihps000td0ui9qq0da6x","tag_id":"cl5pyihq5002ad0uiaxjvcoo4","_id":"cl5pyihq7002cd0ui9fc8flfn"},{"post_id":"cl5pyihqb002dd0uigo8jcx27","tag_id":"cl5pyihpj000cd0uic4hga8yn","_id":"cl5pyihqc002ed0ui91ih09u6"}],"Tag":[{"name":"CDN","_id":"cl5pyihpd0004d0uiey0a590o"},{"name":"hexo","_id":"cl5pyihpj000cd0uic4hga8yn"},{"name":"cloudflare","_id":"cl5pyihpn000hd0ui97micaqq"},{"name":"dns","_id":"cl5pyihpr000od0ui5ax68wkn"},{"name":"SEO","_id":"cl5pyihpt000vd0uifw4adbzn"},{"name":"WSL","_id":"cl5pyihpv0011d0ui3ivkfmf9"},{"name":"Linxu","_id":"cl5pyihpw0017d0uid03a2et7"},{"name":"github pages","_id":"cl5pyihq1001id0uigi72fbiv"},{"name":"CFW","_id":"cl5pyihq1001ld0ui3lpl76dy"},{"name":"EMO语录","_id":"cl5pyihq2001nd0uibfavew79"},{"name":"HBase","_id":"cl5pyihq3001td0ui40sife18"},{"name":"MVCC","_id":"cl5pyihq3001yd0uie432831t"},{"name":"yarn","_id":"cl5pyihq40021d0ui2ncsh8i0"},{"name":"hadoop","_id":"cl5pyihq40026d0ui8d0r7k2m"},{"name":"kudu","_id":"cl5pyihq40027d0uib7o5dv3n"},{"name":"用户画像","_id":"cl5pyihq5002ad0uiaxjvcoo4"}]}}